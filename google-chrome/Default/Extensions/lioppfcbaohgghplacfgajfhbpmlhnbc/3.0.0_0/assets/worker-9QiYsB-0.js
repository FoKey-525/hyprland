(function(){"use strict";function ii(n){return n instanceof Int8Array||n instanceof Uint8Array||n instanceof Uint8ClampedArray}class ai{fileName;data;constructor(t,e){this.fileName=t,this.data=e}}const si={XmlResourceFiles:{log:`<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE logmap [
<!ELEMENT logmap (log)+>
<!ELEMENT log (#PCDATA)>
<!ATTLIST log events CDATA #IMPLIED>
<!ATTLIST log output CDATA #IMPLIED>
<!ATTLIST log filename CDATA #IMPLIED>
<!ATTLIST log generations CDATA #IMPLIED>
<!ATTLIST log limit CDATA #IMPLIED>
<!ATTLIST log format CDATA #IMPLIED>
]>
<logmap>
  <log events="None"/>
  <log output="Debug"/>
  <log filename="Magick-%g.log"/>
  <log generations="3"/>
  <log limit="2000"/>
  <log format="%t %r %u %v %d %c[%p]: %m/%f/%l/%d
  %e"/>
</logmap>
`,policy:`<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE policymap [
<!ELEMENT policymap (policy)*>
<!ATTLIST policymap xmlns CDATA #FIXED "">
<!ELEMENT policy EMPTY>
<!ATTLIST policy xmlns CDATA #FIXED "">
<!ATTLIST policy domain NMTOKEN #REQUIRED>
<!ATTLIST policy name NMTOKEN #IMPLIED>
<!ATTLIST policy pattern CDATA #IMPLIED>
<!ATTLIST policy rights NMTOKEN #IMPLIED>
<!ATTLIST policy stealth NMTOKEN #IMPLIED>
<!ATTLIST policy value CDATA #IMPLIED>
]>
<policymap>
  <policy domain="cache" name="shared-secret" value="passphrase"/>
  <policy domain="coder" rights="none" pattern="EPHEMERAL" />
  <policy domain="coder" rights="none" pattern="MVG" />
  <policy domain="coder" rights="none" pattern="MSL" />
  <policy domain="path" rights="none" pattern="@*" />
  <policy domain="path" rights="none" pattern="|*" />
</policymap>
`}};class kr{constructor(){this.log=new ai("log.xml",si.XmlResourceFiles.log),this.policy=new ai("policy.xml",si.XmlResourceFiles.policy)}static default=new kr;*all(){yield this.log,yield this.policy}log;policy}class ms{constructor(t,e){this.eventType=t,this.message=e??""}eventType;message}var _s=(()=>{var n=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(t={}){var e=t,r,i;e.ready=new Promise((a,s)=>{r=a,i=s}),(!globalThis.crypto||!globalThis.crypto.getRandomValues)&&(globalThis.crypto={getRandomValues:a=>{for(let s=0;s<a.length;s++)a[s]=Math.random()*256|0}});var o=Object.assign({},e),l="./this.program",c=(a,s)=>{throw s},m=typeof window=="object",_=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var d="";function S(a){return e.locateFile?e.locateFile(a,d):d+a}var k,M,E;(m||_)&&(_?d=self.location.href:typeof document<"u"&&document.currentScript&&(d=document.currentScript.src),n&&(d=n),d.indexOf("blob:")!==0?d=d.substr(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1):d="",k=a=>{var s=new XMLHttpRequest;return s.open("GET",a,!1),s.send(null),s.responseText},_&&(E=a=>{var s=new XMLHttpRequest;return s.open("GET",a,!1),s.responseType="arraybuffer",s.send(null),new Uint8Array(s.response)}),M=(a,s,u)=>{var g=new XMLHttpRequest;g.open("GET",a,!0),g.responseType="arraybuffer",g.onload=()=>{if(g.status==200||g.status==0&&g.response){s(g.response);return}u()},g.onerror=u,g.send(null)});var I=e.print||console.log.bind(console),x=e.printErr||console.error.bind(console);Object.assign(e,o),o=null,e.arguments&&e.arguments,e.thisProgram&&(l=e.thisProgram),e.quit&&(c=e.quit);var R;e.wasmBinary&&(R=e.wasmBinary);var Y=e.noExitRuntime||!0;typeof WebAssembly!="object"&&Ye("no native wasm support detected");var A,F=!1;function te(a,s){a||Ye(s)}var W,B,K,J,T,O,me,re,_e,ue;function Q(){var a=A.buffer;e.HEAP8=W=new Int8Array(a),e.HEAP16=K=new Int16Array(a),e.HEAP32=T=new Int32Array(a),e.HEAPU8=B=new Uint8Array(a),e.HEAPU16=J=new Uint16Array(a),e.HEAPU32=O=new Uint32Array(a),e.HEAPF32=me=new Float32Array(a),e.HEAPF64=ue=new Float64Array(a),e.HEAP64=re=new BigInt64Array(a),e.HEAPU64=_e=new BigUint64Array(a)}var Z,be=[],he=[],ge=[],Te=0;function He(){return Y||Te>0}function qe(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)mn(e.preRun.shift());De(be)}function it(){!e.noFSInit&&!h.init.initialized&&h.init(),h.ignorePermissions=!1,De(he)}function Tt(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)mr(e.postRun.shift());De(ge)}function mn(a){be.unshift(a)}function gr(a){he.unshift(a)}function mr(a){ge.unshift(a)}var at=0,st=null;function Vt(a){at++,e.monitorRunDependencies&&e.monitorRunDependencies(at)}function At(a){if(at--,e.monitorRunDependencies&&e.monitorRunDependencies(at),at==0&&st){var s=st;st=null,s()}}function Ye(a){e.onAbort&&e.onAbort(a),a="Aborted("+a+")",x(a),F=!0,a+=". Build with -sASSERTIONS for more info.";var s=new WebAssembly.RuntimeError(a);throw i(s),s}var pt="data:application/octet-stream;base64,";function zt(a){return a.startsWith(pt)}function Rn(a){return a.startsWith("file://")}var ft;ft="magick.wasm",zt(ft)||(ft=S(ft));function Gn(a){try{if(a==ft&&R)return new Uint8Array(R);if(E)return E(a);throw"both async and sync fetching of the wasm failed"}catch(s){Ye(s)}}function _r(a){if(!R&&(m||_)){if(typeof fetch=="function"&&!Rn(a))return fetch(a,{credentials:"same-origin"}).then(s=>{if(!s.ok)throw"failed to load wasm binary file at '"+a+"'";return s.arrayBuffer()}).catch(()=>Gn(a));if(M)return new Promise((s,u)=>{M(a,g=>s(new Uint8Array(g)),u)})}return Promise.resolve().then(()=>Gn(a))}function dt(a,s,u){return _r(a).then(g=>WebAssembly.instantiate(g,s)).then(g=>g).then(u,g=>{x("failed to asynchronously prepare wasm: "+g),Ye(g)})}function yt(a,s,u,g){return!a&&typeof WebAssembly.instantiateStreaming=="function"&&!zt(s)&&!Rn(s)&&typeof fetch=="function"?fetch(s,{credentials:"same-origin"}).then(p=>{var y=WebAssembly.instantiateStreaming(p,u);return y.then(g,function(v){return x("wasm streaming compile failed: "+v),x("falling back to ArrayBuffer instantiation"),dt(s,u,g)})}):dt(s,u,g)}function Mt(){var a={a:hc};function s(g,p){var y=g.exports;return e.asm=y,A=e.asm.La,Q(),Z=e.asm.db,gr(e.asm.Ma),At(),y}Vt();function u(g){s(g.instance)}if(e.instantiateWasm)try{return e.instantiateWasm(a,s)}catch(g){x("Module.instantiateWasm callback failed with error: "+g),i(g)}return yt(R,ft,a,u).catch(i),{}}function vt(a){this.name="ExitStatus",this.message=`Program terminated with exit(${a})`,this.status=a}var De=a=>{for(;a.length>0;)a.shift()(e)};function Nn(a,s="i8"){switch(s.endsWith("*")&&(s="*"),s){case"i1":return W[a>>>0];case"i8":return W[a>>>0];case"i16":return K[a>>>1];case"i32":return T[a>>>2];case"i64":return re[a>>3];case"float":return me[a>>>2];case"double":return ue[a>>>3];case"*":return O[a>>>2];default:Ye(`invalid type for getValue: ${s}`)}}function On(a,s,u="i8"){switch(u.endsWith("*")&&(u="*"),u){case"i1":W[a>>>0]=s;break;case"i8":W[a>>>0]=s;break;case"i16":K[a>>>1]=s;break;case"i32":T[a>>>2]=s;break;case"i64":re[a>>3]=BigInt(s);break;case"float":me[a>>>2]=s;break;case"double":ue[a>>>3]=s;break;case"*":O[a>>>2]=s;break;default:Ye(`invalid type for setValue: ${u}`)}}var St=[],ee=a=>{var s=St[a];return s||(a>=St.length&&(St.length=a+1),St[a]=s=Z.get(a)),s},_n=(a,s)=>ee(a)(s),tt=0;function Ut(a){this.excPtr=a,this.ptr=a-24,this.set_type=function(s){O[this.ptr+4>>>2]=s},this.get_type=function(){return O[this.ptr+4>>>2]},this.set_destructor=function(s){O[this.ptr+8>>>2]=s},this.get_destructor=function(){return O[this.ptr+8>>>2]},this.set_caught=function(s){s=s?1:0,W[this.ptr+12>>>0]=s},this.get_caught=function(){return W[this.ptr+12>>>0]!=0},this.set_rethrown=function(s){s=s?1:0,W[this.ptr+13>>>0]=s},this.get_rethrown=function(){return W[this.ptr+13>>>0]!=0},this.init=function(s,u){this.set_adjusted_ptr(0),this.set_type(s),this.set_destructor(u)},this.set_adjusted_ptr=function(s){O[this.ptr+16>>>2]=s},this.get_adjusted_ptr=function(){return O[this.ptr+16>>>2]},this.get_exception_ptr=function(){var s=ls(this.get_type());if(s)return O[this.excPtr>>>2];var u=this.get_adjusted_ptr();return u!==0?u:this.excPtr}}function hn(a){throw tt||(tt=a),tt}function hr(){var a=tt;if(!a)return zn(0),0;var s=new Ut(a);s.set_adjusted_ptr(a);var u=s.get_type();if(!u)return zn(0),a;for(var g=0;g<arguments.length;g++){var p=arguments[g];if(p===0||p===u)break;var y=s.ptr+16;if(os(p,u,y))return zn(p),a}return zn(u),a}var pr=hr;function Fn(a,s,u){var g=new Ut(a);throw g.init(s,u),tt=a,tt}var ie={isAbs:a=>a.charAt(0)==="/",splitPath:a=>{var s=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return s.exec(a).slice(1)},normalizeArray:(a,s)=>{for(var u=0,g=a.length-1;g>=0;g--){var p=a[g];p==="."?a.splice(g,1):p===".."?(a.splice(g,1),u++):u&&(a.splice(g,1),u--)}if(s)for(;u;u--)a.unshift("..");return a},normalize:a=>{var s=ie.isAbs(a),u=a.substr(-1)==="/";return a=ie.normalizeArray(a.split("/").filter(g=>!!g),!s).join("/"),!a&&!s&&(a="."),a&&u&&(a+="/"),(s?"/":"")+a},dirname:a=>{var s=ie.splitPath(a),u=s[0],g=s[1];return!u&&!g?".":(g&&(g=g.substr(0,g.length-1)),u+g)},basename:a=>{if(a==="/")return"/";a=ie.normalize(a),a=a.replace(/\/$/,"");var s=a.lastIndexOf("/");return s===-1?a:a.substr(s+1)},join:function(){var a=Array.prototype.slice.call(arguments);return ie.normalize(a.join("/"))},join2:(a,s)=>ie.normalize(a+"/"+s)},Ln=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return a=>crypto.getRandomValues(a);Ye("initRandomDevice")},Ht=a=>(Ht=Ln())(a),Ve={resolve:function(){for(var a="",s=!1,u=arguments.length-1;u>=-1&&!s;u--){var g=u>=0?arguments[u]:h.cwd();if(typeof g!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!g)return"";a=g+"/"+a,s=ie.isAbs(g)}return a=ie.normalizeArray(a.split("/").filter(p=>!!p),!s).join("/"),(s?"/":"")+a||"."},relative:(a,s)=>{a=Ve.resolve(a).substr(1),s=Ve.resolve(s).substr(1);function u(D){for(var N=0;N<D.length&&D[N]==="";N++);for(var L=D.length-1;L>=0&&D[L]==="";L--);return N>L?[]:D.slice(N,L-N+1)}for(var g=u(a.split("/")),p=u(s.split("/")),y=Math.min(g.length,p.length),v=y,w=0;w<y;w++)if(g[w]!==p[w]){v=w;break}for(var C=[],w=v;w<g.length;w++)C.push("..");return C=C.concat(p.slice(v)),C.join("/")}},Qe=a=>{for(var s=0,u=0;u<a.length;++u){var g=a.charCodeAt(u);g<=127?s++:g<=2047?s+=2:g>=55296&&g<=57343?(s+=4,++u):s+=3}return s},Yt=(a,s,u,g)=>{if(u>>>=0,!(g>0))return 0;for(var p=u,y=u+g-1,v=0;v<a.length;++v){var w=a.charCodeAt(v);if(w>=55296&&w<=57343){var C=a.charCodeAt(++v);w=65536+((w&1023)<<10)|C&1023}if(w<=127){if(u>=y)break;s[u++>>>0]=w}else if(w<=2047){if(u+1>=y)break;s[u++>>>0]=192|w>>6,s[u++>>>0]=128|w&63}else if(w<=65535){if(u+2>=y)break;s[u++>>>0]=224|w>>12,s[u++>>>0]=128|w>>6&63,s[u++>>>0]=128|w&63}else{if(u+3>=y)break;s[u++>>>0]=240|w>>18,s[u++>>>0]=128|w>>12&63,s[u++>>>0]=128|w>>6&63,s[u++>>>0]=128|w&63}}return s[u>>>0]=0,u-p};function Ee(a,s,u){var g=Qe(a)+1,p=new Array(g),y=Yt(a,p,0,p.length);return s&&(p.length=y),p}var Ra=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,pn=(a,s,u)=>{s>>>=0;for(var g=s+u,p=s;a[p]&&!(p>=g);)++p;if(p-s>16&&a.buffer&&Ra)return Ra.decode(a.subarray(s,p));for(var y="";s<p;){var v=a[s++];if(!(v&128)){y+=String.fromCharCode(v);continue}var w=a[s++]&63;if((v&224)==192){y+=String.fromCharCode((v&31)<<6|w);continue}var C=a[s++]&63;if((v&240)==224?v=(v&15)<<12|w<<6|C:v=(v&7)<<18|w<<12|C<<6|a[s++]&63,v<65536)y+=String.fromCharCode(v);else{var D=v-65536;y+=String.fromCharCode(55296|D>>10,56320|D&1023)}}return y},Xt={ttys:[],init:function(){},shutdown:function(){},register:function(a,s){Xt.ttys[a]={input:[],output:[],ops:s},h.registerDevice(a,Xt.stream_ops)},stream_ops:{open:function(a){var s=Xt.ttys[a.node.rdev];if(!s)throw new h.ErrnoError(43);a.tty=s,a.seekable=!1},close:function(a){a.tty.ops.fsync(a.tty)},fsync:function(a){a.tty.ops.fsync(a.tty)},read:function(a,s,u,g,p){if(!a.tty||!a.tty.ops.get_char)throw new h.ErrnoError(60);for(var y=0,v=0;v<g;v++){var w;try{w=a.tty.ops.get_char(a.tty)}catch{throw new h.ErrnoError(29)}if(w===void 0&&y===0)throw new h.ErrnoError(6);if(w==null)break;y++,s[u+v]=w}return y&&(a.node.timestamp=Date.now()),y},write:function(a,s,u,g,p){if(!a.tty||!a.tty.ops.put_char)throw new h.ErrnoError(60);try{for(var y=0;y<g;y++)a.tty.ops.put_char(a.tty,s[u+y])}catch{throw new h.ErrnoError(29)}return g&&(a.node.timestamp=Date.now()),y}},default_tty_ops:{get_char:function(a){if(!a.input.length){var s=null;if(typeof window<"u"&&typeof window.prompt=="function"?(s=window.prompt("Input: "),s!==null&&(s+=`
`)):typeof readline=="function"&&(s=readline(),s!==null&&(s+=`
`)),!s)return null;a.input=Ee(s,!0)}return a.input.shift()},put_char:function(a,s){s===null||s===10?(I(pn(a.output,0)),a.output=[]):s!=0&&a.output.push(s)},fsync:function(a){a.output&&a.output.length>0&&(I(pn(a.output,0)),a.output=[])},ioctl_tcgets:function(a){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets:function(a,s,u){return 0},ioctl_tiocgwinsz:function(a){return[24,80]}},default_tty1_ops:{put_char:function(a,s){s===null||s===10?(x(pn(a.output,0)),a.output=[]):s!=0&&a.output.push(s)},fsync:function(a){a.output&&a.output.length>0&&(x(pn(a.output,0)),a.output=[])}}},El=(a,s)=>(B.fill(0,a,a+s),a),xl=(a,s)=>Math.ceil(a/s)*s,Ga=a=>{a=xl(a,65536);var s=ss(65536,a);return s?El(s,a):0},q={ops_table:null,mount:function(a){return q.createNode(null,"/",16895,0)},createNode:function(a,s,u,g){if(h.isBlkdev(u)||h.isFIFO(u))throw new h.ErrnoError(63);q.ops_table||(q.ops_table={dir:{node:{getattr:q.node_ops.getattr,setattr:q.node_ops.setattr,lookup:q.node_ops.lookup,mknod:q.node_ops.mknod,rename:q.node_ops.rename,unlink:q.node_ops.unlink,rmdir:q.node_ops.rmdir,readdir:q.node_ops.readdir,symlink:q.node_ops.symlink},stream:{llseek:q.stream_ops.llseek}},file:{node:{getattr:q.node_ops.getattr,setattr:q.node_ops.setattr},stream:{llseek:q.stream_ops.llseek,read:q.stream_ops.read,write:q.stream_ops.write,allocate:q.stream_ops.allocate,mmap:q.stream_ops.mmap,msync:q.stream_ops.msync}},link:{node:{getattr:q.node_ops.getattr,setattr:q.node_ops.setattr,readlink:q.node_ops.readlink},stream:{}},chrdev:{node:{getattr:q.node_ops.getattr,setattr:q.node_ops.setattr},stream:h.chrdev_stream_ops}});var p=h.createNode(a,s,u,g);return h.isDir(p.mode)?(p.node_ops=q.ops_table.dir.node,p.stream_ops=q.ops_table.dir.stream,p.contents={}):h.isFile(p.mode)?(p.node_ops=q.ops_table.file.node,p.stream_ops=q.ops_table.file.stream,p.usedBytes=0,p.contents=null):h.isLink(p.mode)?(p.node_ops=q.ops_table.link.node,p.stream_ops=q.ops_table.link.stream):h.isChrdev(p.mode)&&(p.node_ops=q.ops_table.chrdev.node,p.stream_ops=q.ops_table.chrdev.stream),p.timestamp=Date.now(),a&&(a.contents[s]=p,a.timestamp=p.timestamp),p},getFileDataAsTypedArray:function(a){return a.contents?a.contents.subarray?a.contents.subarray(0,a.usedBytes):new Uint8Array(a.contents):new Uint8Array(0)},expandFileStorage:function(a,s){s>>>=0;var u=a.contents?a.contents.length:0;if(!(u>=s)){var g=1048576;s=Math.max(s,u*(u<g?2:1.125)>>>0),u!=0&&(s=Math.max(s,256));var p=a.contents;a.contents=new Uint8Array(s),a.usedBytes>0&&a.contents.set(p.subarray(0,a.usedBytes),0)}},resizeFileStorage:function(a,s){if(s>>>=0,a.usedBytes!=s)if(s==0)a.contents=null,a.usedBytes=0;else{var u=a.contents;a.contents=new Uint8Array(s),u&&a.contents.set(u.subarray(0,Math.min(s,a.usedBytes))),a.usedBytes=s}},node_ops:{getattr:function(a){var s={};return s.dev=h.isChrdev(a.mode)?a.id:1,s.ino=a.id,s.mode=a.mode,s.nlink=1,s.uid=0,s.gid=0,s.rdev=a.rdev,h.isDir(a.mode)?s.size=4096:h.isFile(a.mode)?s.size=a.usedBytes:h.isLink(a.mode)?s.size=a.link.length:s.size=0,s.atime=new Date(a.timestamp),s.mtime=new Date(a.timestamp),s.ctime=new Date(a.timestamp),s.blksize=4096,s.blocks=Math.ceil(s.size/s.blksize),s},setattr:function(a,s){s.mode!==void 0&&(a.mode=s.mode),s.timestamp!==void 0&&(a.timestamp=s.timestamp),s.size!==void 0&&q.resizeFileStorage(a,s.size)},lookup:function(a,s){throw h.genericErrors[44]},mknod:function(a,s,u,g){return q.createNode(a,s,u,g)},rename:function(a,s,u){if(h.isDir(a.mode)){var g;try{g=h.lookupNode(s,u)}catch{}if(g)for(var p in g.contents)throw new h.ErrnoError(55)}delete a.parent.contents[a.name],a.parent.timestamp=Date.now(),a.name=u,s.contents[u]=a,s.timestamp=a.parent.timestamp,a.parent=s},unlink:function(a,s){delete a.contents[s],a.timestamp=Date.now()},rmdir:function(a,s){var u=h.lookupNode(a,s);for(var g in u.contents)throw new h.ErrnoError(55);delete a.contents[s],a.timestamp=Date.now()},readdir:function(a){var s=[".",".."];for(var u in a.contents)a.contents.hasOwnProperty(u)&&s.push(u);return s},symlink:function(a,s,u){var g=q.createNode(a,s,41471,0);return g.link=u,g},readlink:function(a){if(!h.isLink(a.mode))throw new h.ErrnoError(28);return a.link}},stream_ops:{read:function(a,s,u,g,p){var y=a.node.contents;if(p>=a.node.usedBytes)return 0;var v=Math.min(a.node.usedBytes-p,g);if(v>8&&y.subarray)s.set(y.subarray(p,p+v),u);else for(var w=0;w<v;w++)s[u+w]=y[p+w];return v},write:function(a,s,u,g,p,y){if(s.buffer===W.buffer&&(y=!1),!g)return 0;var v=a.node;if(v.timestamp=Date.now(),s.subarray&&(!v.contents||v.contents.subarray)){if(y)return v.contents=s.subarray(u,u+g),v.usedBytes=g,g;if(v.usedBytes===0&&p===0)return v.contents=s.slice(u,u+g),v.usedBytes=g,g;if(p+g<=v.usedBytes)return v.contents.set(s.subarray(u,u+g),p),g}if(q.expandFileStorage(v,p+g),v.contents.subarray&&s.subarray)v.contents.set(s.subarray(u,u+g),p);else for(var w=0;w<g;w++)v.contents[p+w]=s[u+w];return v.usedBytes=Math.max(v.usedBytes,p+g),g},llseek:function(a,s,u){var g=s;if(u===1?g+=a.position:u===2&&h.isFile(a.node.mode)&&(g+=a.node.usedBytes),g<0)throw new h.ErrnoError(28);return g},allocate:function(a,s,u){q.expandFileStorage(a.node,s+u),a.node.usedBytes=Math.max(a.node.usedBytes,s+u)},mmap:function(a,s,u,g,p){if(!h.isFile(a.node.mode))throw new h.ErrnoError(43);var y,v,w=a.node.contents;if(!(p&2)&&w.buffer===W.buffer)v=!1,y=w.byteOffset;else{if((u>0||u+s<w.length)&&(w.subarray?w=w.subarray(u,u+s):w=Array.prototype.slice.call(w,u,u+s)),v=!0,y=Ga(s),!y)throw new h.ErrnoError(48);y>>>=0,W.set(w,y>>>0)}return{ptr:y,allocated:v}},msync:function(a,s,u,g,p){return q.stream_ops.write(a,s,0,g,u,!1),0}}},bl=(a,s,u,g)=>{var p=`al ${a}`;M(a,y=>{te(y,`Loading data file "${a}" failed (no arrayBuffer).`),s(new Uint8Array(y)),p&&At()},y=>{if(u)u();else throw`Loading data file "${a}" failed.`}),p&&Vt()},Dl=e.preloadPlugins||[];function Tl(a,s,u,g){typeof Browser<"u"&&Browser.init();var p=!1;return Dl.forEach(function(y){p||y.canHandle(s)&&(y.handle(a,s,u,g),p=!0)}),p}function Al(a,s,u,g,p,y,v,w,C,D){var N=s?Ve.resolve(ie.join2(a,s)):a;function L(G){function z(le){D&&D(),w||h.createDataFile(a,s,le,g,p,C),y&&y(),At()}Tl(G,N,z,()=>{v&&v(),At()})||z(G)}Vt(),typeof u=="string"?bl(u,G=>L(G),v):L(u)}function Pl(a){var s={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},u=s[a];if(typeof u>"u")throw new Error(`Unknown file open mode: ${a}`);return u}function Zr(a,s){var u=0;return a&&(u|=365),s&&(u|=146),u}var h={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(a,s={})=>{if(a=Ve.resolve(a),!a)return{path:"",node:null};var u={follow_mount:!0,recurse_count:0};if(s=Object.assign(u,s),s.recurse_count>8)throw new h.ErrnoError(32);for(var g=a.split("/").filter(L=>!!L),p=h.root,y="/",v=0;v<g.length;v++){var w=v===g.length-1;if(w&&s.parent)break;if(p=h.lookupNode(p,g[v]),y=ie.join2(y,g[v]),h.isMountpoint(p)&&(!w||w&&s.follow_mount)&&(p=p.mounted.root),!w||s.follow)for(var C=0;h.isLink(p.mode);){var D=h.readlink(y);y=Ve.resolve(ie.dirname(y),D);var N=h.lookupPath(y,{recurse_count:s.recurse_count+1});if(p=N.node,C++>40)throw new h.ErrnoError(32)}}return{path:y,node:p}},getPath:a=>{for(var s;;){if(h.isRoot(a)){var u=a.mount.mountpoint;return s?u[u.length-1]!=="/"?`${u}/${s}`:u+s:u}s=s?`${a.name}/${s}`:a.name,a=a.parent}},hashName:(a,s)=>{for(var u=0,g=0;g<s.length;g++)u=(u<<5)-u+s.charCodeAt(g)|0;return(a+u>>>0)%h.nameTable.length},hashAddNode:a=>{var s=h.hashName(a.parent.id,a.name);a.name_next=h.nameTable[s],h.nameTable[s]=a},hashRemoveNode:a=>{var s=h.hashName(a.parent.id,a.name);if(h.nameTable[s]===a)h.nameTable[s]=a.name_next;else for(var u=h.nameTable[s];u;){if(u.name_next===a){u.name_next=a.name_next;break}u=u.name_next}},lookupNode:(a,s)=>{var u=h.mayLookup(a);if(u)throw new h.ErrnoError(u,a);for(var g=h.hashName(a.id,s),p=h.nameTable[g];p;p=p.name_next){var y=p.name;if(p.parent.id===a.id&&y===s)return p}return h.lookup(a,s)},createNode:(a,s,u,g)=>{var p=new h.FSNode(a,s,u,g);return h.hashAddNode(p),p},destroyNode:a=>{h.hashRemoveNode(a)},isRoot:a=>a===a.parent,isMountpoint:a=>!!a.mounted,isFile:a=>(a&61440)===32768,isDir:a=>(a&61440)===16384,isLink:a=>(a&61440)===40960,isChrdev:a=>(a&61440)===8192,isBlkdev:a=>(a&61440)===24576,isFIFO:a=>(a&61440)===4096,isSocket:a=>(a&49152)===49152,flagsToPermissionString:a=>{var s=["r","w","rw"][a&3];return a&512&&(s+="w"),s},nodePermissions:(a,s)=>h.ignorePermissions?0:s.includes("r")&&!(a.mode&292)||s.includes("w")&&!(a.mode&146)||s.includes("x")&&!(a.mode&73)?2:0,mayLookup:a=>{var s=h.nodePermissions(a,"x");return s||(a.node_ops.lookup?0:2)},mayCreate:(a,s)=>{try{var u=h.lookupNode(a,s);return 20}catch{}return h.nodePermissions(a,"wx")},mayDelete:(a,s,u)=>{var g;try{g=h.lookupNode(a,s)}catch(y){return y.errno}var p=h.nodePermissions(a,"wx");if(p)return p;if(u){if(!h.isDir(g.mode))return 54;if(h.isRoot(g)||h.getPath(g)===h.cwd())return 10}else if(h.isDir(g.mode))return 31;return 0},mayOpen:(a,s)=>a?h.isLink(a.mode)?32:h.isDir(a.mode)&&(h.flagsToPermissionString(s)!=="r"||s&512)?31:h.nodePermissions(a,h.flagsToPermissionString(s)):44,MAX_OPEN_FDS:4096,nextfd:()=>{for(var a=0;a<=h.MAX_OPEN_FDS;a++)if(!h.streams[a])return a;throw new h.ErrnoError(33)},getStreamChecked:a=>{var s=h.getStream(a);if(!s)throw new h.ErrnoError(8);return s},getStream:a=>h.streams[a],createStream:(a,s=-1)=>(h.FSStream||(h.FSStream=function(){this.shared={}},h.FSStream.prototype={},Object.defineProperties(h.FSStream.prototype,{object:{get:function(){return this.node},set:function(u){this.node=u}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(u){this.shared.flags=u}},position:{get:function(){return this.shared.position},set:function(u){this.shared.position=u}}})),a=Object.assign(new h.FSStream,a),s==-1&&(s=h.nextfd()),a.fd=s,h.streams[s]=a,a),closeStream:a=>{h.streams[a]=null},chrdev_stream_ops:{open:a=>{var s=h.getDevice(a.node.rdev);a.stream_ops=s.stream_ops,a.stream_ops.open&&a.stream_ops.open(a)},llseek:()=>{throw new h.ErrnoError(70)}},major:a=>a>>8,minor:a=>a&255,makedev:(a,s)=>a<<8|s,registerDevice:(a,s)=>{h.devices[a]={stream_ops:s}},getDevice:a=>h.devices[a],getMounts:a=>{for(var s=[],u=[a];u.length;){var g=u.pop();s.push(g),u.push.apply(u,g.mounts)}return s},syncfs:(a,s)=>{typeof a=="function"&&(s=a,a=!1),h.syncFSRequests++,h.syncFSRequests>1&&x(`warning: ${h.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var u=h.getMounts(h.root.mount),g=0;function p(v){return h.syncFSRequests--,s(v)}function y(v){if(v)return y.errored?void 0:(y.errored=!0,p(v));++g>=u.length&&p(null)}u.forEach(v=>{if(!v.type.syncfs)return y(null);v.type.syncfs(v,a,y)})},mount:(a,s,u)=>{var g=u==="/",p=!u,y;if(g&&h.root)throw new h.ErrnoError(10);if(!g&&!p){var v=h.lookupPath(u,{follow_mount:!1});if(u=v.path,y=v.node,h.isMountpoint(y))throw new h.ErrnoError(10);if(!h.isDir(y.mode))throw new h.ErrnoError(54)}var w={type:a,opts:s,mountpoint:u,mounts:[]},C=a.mount(w);return C.mount=w,w.root=C,g?h.root=C:y&&(y.mounted=w,y.mount&&y.mount.mounts.push(w)),C},unmount:a=>{var s=h.lookupPath(a,{follow_mount:!1});if(!h.isMountpoint(s.node))throw new h.ErrnoError(28);var u=s.node,g=u.mounted,p=h.getMounts(g);Object.keys(h.nameTable).forEach(v=>{for(var w=h.nameTable[v];w;){var C=w.name_next;p.includes(w.mount)&&h.destroyNode(w),w=C}}),u.mounted=null;var y=u.mount.mounts.indexOf(g);u.mount.mounts.splice(y,1)},lookup:(a,s)=>a.node_ops.lookup(a,s),mknod:(a,s,u)=>{var g=h.lookupPath(a,{parent:!0}),p=g.node,y=ie.basename(a);if(!y||y==="."||y==="..")throw new h.ErrnoError(28);var v=h.mayCreate(p,y);if(v)throw new h.ErrnoError(v);if(!p.node_ops.mknod)throw new h.ErrnoError(63);return p.node_ops.mknod(p,y,s,u)},create:(a,s)=>(s=s!==void 0?s:438,s&=4095,s|=32768,h.mknod(a,s,0)),mkdir:(a,s)=>(s=s!==void 0?s:511,s&=1023,s|=16384,h.mknod(a,s,0)),mkdirTree:(a,s)=>{for(var u=a.split("/"),g="",p=0;p<u.length;++p)if(u[p]){g+="/"+u[p];try{h.mkdir(g,s)}catch(y){if(y.errno!=20)throw y}}},mkdev:(a,s,u)=>(typeof u>"u"&&(u=s,s=438),s|=8192,h.mknod(a,s,u)),symlink:(a,s)=>{if(!Ve.resolve(a))throw new h.ErrnoError(44);var u=h.lookupPath(s,{parent:!0}),g=u.node;if(!g)throw new h.ErrnoError(44);var p=ie.basename(s),y=h.mayCreate(g,p);if(y)throw new h.ErrnoError(y);if(!g.node_ops.symlink)throw new h.ErrnoError(63);return g.node_ops.symlink(g,p,a)},rename:(a,s)=>{var u=ie.dirname(a),g=ie.dirname(s),p=ie.basename(a),y=ie.basename(s),v,w,C;if(v=h.lookupPath(a,{parent:!0}),w=v.node,v=h.lookupPath(s,{parent:!0}),C=v.node,!w||!C)throw new h.ErrnoError(44);if(w.mount!==C.mount)throw new h.ErrnoError(75);var D=h.lookupNode(w,p),N=Ve.relative(a,g);if(N.charAt(0)!==".")throw new h.ErrnoError(28);if(N=Ve.relative(s,u),N.charAt(0)!==".")throw new h.ErrnoError(55);var L;try{L=h.lookupNode(C,y)}catch{}if(D!==L){var G=h.isDir(D.mode),z=h.mayDelete(w,p,G);if(z)throw new h.ErrnoError(z);if(z=L?h.mayDelete(C,y,G):h.mayCreate(C,y),z)throw new h.ErrnoError(z);if(!w.node_ops.rename)throw new h.ErrnoError(63);if(h.isMountpoint(D)||L&&h.isMountpoint(L))throw new h.ErrnoError(10);if(C!==w&&(z=h.nodePermissions(w,"w"),z))throw new h.ErrnoError(z);h.hashRemoveNode(D);try{w.node_ops.rename(D,C,y)}catch(le){throw le}finally{h.hashAddNode(D)}}},rmdir:a=>{var s=h.lookupPath(a,{parent:!0}),u=s.node,g=ie.basename(a),p=h.lookupNode(u,g),y=h.mayDelete(u,g,!0);if(y)throw new h.ErrnoError(y);if(!u.node_ops.rmdir)throw new h.ErrnoError(63);if(h.isMountpoint(p))throw new h.ErrnoError(10);u.node_ops.rmdir(u,g),h.destroyNode(p)},readdir:a=>{var s=h.lookupPath(a,{follow:!0}),u=s.node;if(!u.node_ops.readdir)throw new h.ErrnoError(54);return u.node_ops.readdir(u)},unlink:a=>{var s=h.lookupPath(a,{parent:!0}),u=s.node;if(!u)throw new h.ErrnoError(44);var g=ie.basename(a),p=h.lookupNode(u,g),y=h.mayDelete(u,g,!1);if(y)throw new h.ErrnoError(y);if(!u.node_ops.unlink)throw new h.ErrnoError(63);if(h.isMountpoint(p))throw new h.ErrnoError(10);u.node_ops.unlink(u,g),h.destroyNode(p)},readlink:a=>{var s=h.lookupPath(a),u=s.node;if(!u)throw new h.ErrnoError(44);if(!u.node_ops.readlink)throw new h.ErrnoError(28);return Ve.resolve(h.getPath(u.parent),u.node_ops.readlink(u))},stat:(a,s)=>{var u=h.lookupPath(a,{follow:!s}),g=u.node;if(!g)throw new h.ErrnoError(44);if(!g.node_ops.getattr)throw new h.ErrnoError(63);return g.node_ops.getattr(g)},lstat:a=>h.stat(a,!0),chmod:(a,s,u)=>{var g;if(typeof a=="string"){var p=h.lookupPath(a,{follow:!u});g=p.node}else g=a;if(!g.node_ops.setattr)throw new h.ErrnoError(63);g.node_ops.setattr(g,{mode:s&4095|g.mode&-4096,timestamp:Date.now()})},lchmod:(a,s)=>{h.chmod(a,s,!0)},fchmod:(a,s)=>{var u=h.getStreamChecked(a);h.chmod(u.node,s)},chown:(a,s,u,g)=>{var p;if(typeof a=="string"){var y=h.lookupPath(a,{follow:!g});p=y.node}else p=a;if(!p.node_ops.setattr)throw new h.ErrnoError(63);p.node_ops.setattr(p,{timestamp:Date.now()})},lchown:(a,s,u)=>{h.chown(a,s,u,!0)},fchown:(a,s,u)=>{var g=h.getStreamChecked(a);h.chown(g.node,s,u)},truncate:(a,s)=>{if(s<0)throw new h.ErrnoError(28);var u;if(typeof a=="string"){var g=h.lookupPath(a,{follow:!0});u=g.node}else u=a;if(!u.node_ops.setattr)throw new h.ErrnoError(63);if(h.isDir(u.mode))throw new h.ErrnoError(31);if(!h.isFile(u.mode))throw new h.ErrnoError(28);var p=h.nodePermissions(u,"w");if(p)throw new h.ErrnoError(p);u.node_ops.setattr(u,{size:s,timestamp:Date.now()})},ftruncate:(a,s)=>{var u=h.getStreamChecked(a);if(!(u.flags&2097155))throw new h.ErrnoError(28);h.truncate(u.node,s)},utime:(a,s,u)=>{var g=h.lookupPath(a,{follow:!0}),p=g.node;p.node_ops.setattr(p,{timestamp:Math.max(s,u)})},open:(a,s,u)=>{if(a==="")throw new h.ErrnoError(44);s=typeof s=="string"?Pl(s):s,u=typeof u>"u"?438:u,s&64?u=u&4095|32768:u=0;var g;if(typeof a=="object")g=a;else{a=ie.normalize(a);try{var p=h.lookupPath(a,{follow:!(s&131072)});g=p.node}catch{}}var y=!1;if(s&64)if(g){if(s&128)throw new h.ErrnoError(20)}else g=h.mknod(a,u,0),y=!0;if(!g)throw new h.ErrnoError(44);if(h.isChrdev(g.mode)&&(s&=-513),s&65536&&!h.isDir(g.mode))throw new h.ErrnoError(54);if(!y){var v=h.mayOpen(g,s);if(v)throw new h.ErrnoError(v)}s&512&&!y&&h.truncate(g,0),s&=-131713;var w=h.createStream({node:g,path:h.getPath(g),flags:s,seekable:!0,position:0,stream_ops:g.stream_ops,ungotten:[],error:!1});return w.stream_ops.open&&w.stream_ops.open(w),e.logReadFiles&&!(s&1)&&(h.readFiles||(h.readFiles={}),a in h.readFiles||(h.readFiles[a]=1)),w},close:a=>{if(h.isClosed(a))throw new h.ErrnoError(8);a.getdents&&(a.getdents=null);try{a.stream_ops.close&&a.stream_ops.close(a)}catch(s){throw s}finally{h.closeStream(a.fd)}a.fd=null},isClosed:a=>a.fd===null,llseek:(a,s,u)=>{if(h.isClosed(a))throw new h.ErrnoError(8);if(!a.seekable||!a.stream_ops.llseek)throw new h.ErrnoError(70);if(u!=0&&u!=1&&u!=2)throw new h.ErrnoError(28);return a.position=a.stream_ops.llseek(a,s,u),a.ungotten=[],a.position},read:(a,s,u,g,p)=>{if(u>>>=0,g<0||p<0)throw new h.ErrnoError(28);if(h.isClosed(a))throw new h.ErrnoError(8);if((a.flags&2097155)===1)throw new h.ErrnoError(8);if(h.isDir(a.node.mode))throw new h.ErrnoError(31);if(!a.stream_ops.read)throw new h.ErrnoError(28);var y=typeof p<"u";if(!y)p=a.position;else if(!a.seekable)throw new h.ErrnoError(70);var v=a.stream_ops.read(a,s,u,g,p);return y||(a.position+=v),v},write:(a,s,u,g,p,y)=>{if(u>>>=0,g<0||p<0)throw new h.ErrnoError(28);if(h.isClosed(a))throw new h.ErrnoError(8);if(!(a.flags&2097155))throw new h.ErrnoError(8);if(h.isDir(a.node.mode))throw new h.ErrnoError(31);if(!a.stream_ops.write)throw new h.ErrnoError(28);a.seekable&&a.flags&1024&&h.llseek(a,0,2);var v=typeof p<"u";if(!v)p=a.position;else if(!a.seekable)throw new h.ErrnoError(70);var w=a.stream_ops.write(a,s,u,g,p,y);return v||(a.position+=w),w},allocate:(a,s,u)=>{if(h.isClosed(a))throw new h.ErrnoError(8);if(s<0||u<=0)throw new h.ErrnoError(28);if(!(a.flags&2097155))throw new h.ErrnoError(8);if(!h.isFile(a.node.mode)&&!h.isDir(a.node.mode))throw new h.ErrnoError(43);if(!a.stream_ops.allocate)throw new h.ErrnoError(138);a.stream_ops.allocate(a,s,u)},mmap:(a,s,u,g,p)=>{if(g&2&&!(p&2)&&(a.flags&2097155)!==2)throw new h.ErrnoError(2);if((a.flags&2097155)===1)throw new h.ErrnoError(2);if(!a.stream_ops.mmap)throw new h.ErrnoError(43);return a.stream_ops.mmap(a,s,u,g,p)},msync:(a,s,u,g,p)=>(u>>>=0,a.stream_ops.msync?a.stream_ops.msync(a,s,u,g,p):0),munmap:a=>0,ioctl:(a,s,u)=>{if(!a.stream_ops.ioctl)throw new h.ErrnoError(59);return a.stream_ops.ioctl(a,s,u)},readFile:(a,s={})=>{if(s.flags=s.flags||0,s.encoding=s.encoding||"binary",s.encoding!=="utf8"&&s.encoding!=="binary")throw new Error(`Invalid encoding type "${s.encoding}"`);var u,g=h.open(a,s.flags),p=h.stat(a),y=p.size,v=new Uint8Array(y);return h.read(g,v,0,y,0),s.encoding==="utf8"?u=pn(v,0):s.encoding==="binary"&&(u=v),h.close(g),u},writeFile:(a,s,u={})=>{u.flags=u.flags||577;var g=h.open(a,u.flags,u.mode);if(typeof s=="string"){var p=new Uint8Array(Qe(s)+1),y=Yt(s,p,0,p.length);h.write(g,p,0,y,void 0,u.canOwn)}else if(ArrayBuffer.isView(s))h.write(g,s,0,s.byteLength,void 0,u.canOwn);else throw new Error("Unsupported data type");h.close(g)},cwd:()=>h.currentPath,chdir:a=>{var s=h.lookupPath(a,{follow:!0});if(s.node===null)throw new h.ErrnoError(44);if(!h.isDir(s.node.mode))throw new h.ErrnoError(54);var u=h.nodePermissions(s.node,"x");if(u)throw new h.ErrnoError(u);h.currentPath=s.path},createDefaultDirectories:()=>{h.mkdir("/tmp"),h.mkdir("/home"),h.mkdir("/home/web_user")},createDefaultDevices:()=>{h.mkdir("/dev"),h.registerDevice(h.makedev(1,3),{read:()=>0,write:(g,p,y,v,w)=>v}),h.mkdev("/dev/null",h.makedev(1,3)),Xt.register(h.makedev(5,0),Xt.default_tty_ops),Xt.register(h.makedev(6,0),Xt.default_tty1_ops),h.mkdev("/dev/tty",h.makedev(5,0)),h.mkdev("/dev/tty1",h.makedev(6,0));var a=new Uint8Array(1024),s=0,u=()=>(s===0&&(s=Ht(a).byteLength),a[--s]);h.createDevice("/dev","random",u),h.createDevice("/dev","urandom",u),h.mkdir("/dev/shm"),h.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{h.mkdir("/proc");var a=h.mkdir("/proc/self");h.mkdir("/proc/self/fd"),h.mount({mount:()=>{var s=h.createNode(a,"fd",16895,73);return s.node_ops={lookup:(u,g)=>{var p=+g,y=h.getStreamChecked(p),v={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>y.path}};return v.parent=v,v}},s}},{},"/proc/self/fd")},createStandardStreams:()=>{e.stdin?h.createDevice("/dev","stdin",e.stdin):h.symlink("/dev/tty","/dev/stdin"),e.stdout?h.createDevice("/dev","stdout",null,e.stdout):h.symlink("/dev/tty","/dev/stdout"),e.stderr?h.createDevice("/dev","stderr",null,e.stderr):h.symlink("/dev/tty1","/dev/stderr"),h.open("/dev/stdin",0),h.open("/dev/stdout",1),h.open("/dev/stderr",1)},ensureErrnoError:()=>{h.ErrnoError||(h.ErrnoError=function(a,s){this.name="ErrnoError",this.node=s,this.setErrno=function(u){this.errno=u},this.setErrno(a),this.message="FS error"},h.ErrnoError.prototype=new Error,h.ErrnoError.prototype.constructor=h.ErrnoError,[44].forEach(a=>{h.genericErrors[a]=new h.ErrnoError(a),h.genericErrors[a].stack="<generic error, no stack>"}))},staticInit:()=>{h.ensureErrnoError(),h.nameTable=new Array(4096),h.mount(q,{},"/"),h.createDefaultDirectories(),h.createDefaultDevices(),h.createSpecialDirectories(),h.filesystems={MEMFS:q}},init:(a,s,u)=>{h.init.initialized=!0,h.ensureErrnoError(),e.stdin=a||e.stdin,e.stdout=s||e.stdout,e.stderr=u||e.stderr,h.createStandardStreams()},quit:()=>{h.init.initialized=!1;for(var a=0;a<h.streams.length;a++){var s=h.streams[a];s&&h.close(s)}},findObject:(a,s)=>{var u=h.analyzePath(a,s);return u.exists?u.object:null},analyzePath:(a,s)=>{try{var u=h.lookupPath(a,{follow:!s});a=u.path}catch{}var g={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var u=h.lookupPath(a,{parent:!0});g.parentExists=!0,g.parentPath=u.path,g.parentObject=u.node,g.name=ie.basename(a),u=h.lookupPath(a,{follow:!s}),g.exists=!0,g.path=u.path,g.object=u.node,g.name=u.node.name,g.isRoot=u.path==="/"}catch(p){g.error=p.errno}return g},createPath:(a,s,u,g)=>{a=typeof a=="string"?a:h.getPath(a);for(var p=s.split("/").reverse();p.length;){var y=p.pop();if(y){var v=ie.join2(a,y);try{h.mkdir(v)}catch{}a=v}}return v},createFile:(a,s,u,g,p)=>{var y=ie.join2(typeof a=="string"?a:h.getPath(a),s),v=Zr(g,p);return h.create(y,v)},createDataFile:(a,s,u,g,p,y)=>{var v=s;a&&(a=typeof a=="string"?a:h.getPath(a),v=s?ie.join2(a,s):a);var w=Zr(g,p),C=h.create(v,w);if(u){if(typeof u=="string"){for(var D=new Array(u.length),N=0,L=u.length;N<L;++N)D[N]=u.charCodeAt(N);u=D}h.chmod(C,w|146);var G=h.open(C,577);h.write(G,u,0,u.length,0,y),h.close(G),h.chmod(C,w)}return C},createDevice:(a,s,u,g)=>{var p=ie.join2(typeof a=="string"?a:h.getPath(a),s),y=Zr(!!u,!!g);h.createDevice.major||(h.createDevice.major=64);var v=h.makedev(h.createDevice.major++,0);return h.registerDevice(v,{open:w=>{w.seekable=!1},close:w=>{g&&g.buffer&&g.buffer.length&&g(10)},read:(w,C,D,N,L)=>{for(var G=0,z=0;z<N;z++){var le;try{le=u()}catch{throw new h.ErrnoError(29)}if(le===void 0&&G===0)throw new h.ErrnoError(6);if(le==null)break;G++,C[D+z]=le}return G&&(w.node.timestamp=Date.now()),G},write:(w,C,D,N,L)=>{for(var G=0;G<N;G++)try{g(C[D+G])}catch{throw new h.ErrnoError(29)}return N&&(w.node.timestamp=Date.now()),G}}),h.mkdev(p,y,v)},forceLoadFile:a=>{if(a.isDevice||a.isFolder||a.link||a.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(k)try{a.contents=Ee(k(a.url),!0),a.usedBytes=a.contents.length}catch{throw new h.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(a,s,u,g,p)=>{function y(){this.lengthKnown=!1,this.chunks=[]}if(y.prototype.get=function(G){if(!(G>this.length-1||G<0)){var z=G%this.chunkSize,le=G/this.chunkSize|0;return this.getter(le)[z]}},y.prototype.setDataGetter=function(G){this.getter=G},y.prototype.cacheLength=function(){var G=new XMLHttpRequest;if(G.open("HEAD",u,!1),G.send(null),!(G.status>=200&&G.status<300||G.status===304))throw new Error("Couldn't load "+u+". Status: "+G.status);var z=Number(G.getResponseHeader("Content-length")),le,ze=(le=G.getResponseHeader("Accept-Ranges"))&&le==="bytes",Oe=(le=G.getResponseHeader("Content-Encoding"))&&le==="gzip",ve=1024*1024;ze||(ve=z);var P=(de,Se)=>{if(de>Se)throw new Error("invalid range ("+de+", "+Se+") or no bytes requested!");if(Se>z-1)throw new Error("only "+z+" bytes available! programmer error!");var Me=new XMLHttpRequest;if(Me.open("GET",u,!1),z!==ve&&Me.setRequestHeader("Range","bytes="+de+"-"+Se),Me.responseType="arraybuffer",Me.overrideMimeType&&Me.overrideMimeType("text/plain; charset=x-user-defined"),Me.send(null),!(Me.status>=200&&Me.status<300||Me.status===304))throw new Error("Couldn't load "+u+". Status: "+Me.status);return Me.response!==void 0?new Uint8Array(Me.response||[]):Ee(Me.responseText||"",!0)},U=this;U.setDataGetter(de=>{var Se=de*ve,Me=(de+1)*ve-1;if(Me=Math.min(Me,z-1),typeof U.chunks[de]>"u"&&(U.chunks[de]=P(Se,Me)),typeof U.chunks[de]>"u")throw new Error("doXHR failed!");return U.chunks[de]}),(Oe||!z)&&(ve=z=1,z=this.getter(0).length,ve=z,I("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=z,this._chunkSize=ve,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!_)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var v=new y;Object.defineProperties(v,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var w={isDevice:!1,contents:v}}else var w={isDevice:!1,url:u};var C=h.createFile(a,s,w,g,p);w.contents?C.contents=w.contents:w.url&&(C.contents=null,C.url=w.url),Object.defineProperties(C,{usedBytes:{get:function(){return this.contents.length}}});var D={},N=Object.keys(C.stream_ops);N.forEach(G=>{var z=C.stream_ops[G];D[G]=function(){return h.forceLoadFile(C),z.apply(null,arguments)}});function L(G,z,le,ze,Oe){var ve=G.node.contents;if(Oe>=ve.length)return 0;var P=Math.min(ve.length-Oe,ze);if(ve.slice)for(var U=0;U<P;U++)z[le+U]=ve[Oe+U];else for(var U=0;U<P;U++)z[le+U]=ve.get(Oe+U);return P}return D.read=(G,z,le,ze,Oe)=>(h.forceLoadFile(C),L(G,z,le,ze,Oe)),D.mmap=(G,z,le,ze,Oe)=>{h.forceLoadFile(C);var ve=Ga(z);if(!ve)throw new h.ErrnoError(48);return L(G,W,ve,z,le),{ptr:ve,allocated:!0}},C.stream_ops=D,C}},Wn=(a,s)=>(a>>>=0,a?pn(B,a,s):""),j={DEFAULT_POLLMASK:5,calculateAt:function(a,s,u){if(ie.isAbs(s))return s;var g;if(a===-100)g=h.cwd();else{var p=j.getStreamFromFD(a);g=p.path}if(s.length==0){if(!u)throw new h.ErrnoError(44);return g}return ie.join2(g,s)},doStat:function(a,s,u){try{var g=a(s)}catch(w){if(w&&w.node&&ie.normalize(s)!==ie.normalize(h.getPath(w.node)))return-54;throw w}T[u>>>2]=g.dev,T[u+4>>>2]=g.mode,O[u+8>>>2]=g.nlink,T[u+12>>>2]=g.uid,T[u+16>>>2]=g.gid,T[u+20>>>2]=g.rdev,re[u+24>>3]=BigInt(g.size),T[u+32>>>2]=4096,T[u+36>>>2]=g.blocks;var p=g.atime.getTime(),y=g.mtime.getTime(),v=g.ctime.getTime();return re[u+40>>3]=BigInt(Math.floor(p/1e3)),O[u+48>>>2]=p%1e3*1e3,re[u+56>>3]=BigInt(Math.floor(y/1e3)),O[u+64>>>2]=y%1e3*1e3,re[u+72>>3]=BigInt(Math.floor(v/1e3)),O[u+80>>>2]=v%1e3*1e3,re[u+88>>3]=BigInt(g.ino),0},doMsync:function(a,s,u,g,p){if(!h.isFile(s.node.mode))throw new h.ErrnoError(43);if(g&2)return 0;a>>>=0;var y=B.slice(a,a+u);h.msync(s,y,p,u,g)},varargs:void 0,get:function(){j.varargs+=4;var a=T[j.varargs-4>>>2];return a},getStr:function(a){var s=Wn(a);return s},getStreamFromFD:function(a){var s=h.getStreamChecked(a);return s}};function Rl(a,s){try{return a=j.getStr(a),h.chmod(a,s),0}catch(u){if(typeof h>"u"||u.name!=="ErrnoError")throw u;return-u.errno}}function Gl(a){try{var s=j.getStreamFromFD(a);return h.createStream(s).fd}catch(u){if(typeof h>"u"||u.name!=="ErrnoError")throw u;return-u.errno}}function Nl(a,s,u,g){try{if(s=j.getStr(s),s=j.calculateAt(a,s),u&-8)return-28;var p=h.lookupPath(s,{follow:!0}),y=p.node;if(!y)return-44;var v="";return u&4&&(v+="r"),u&2&&(v+="w"),u&1&&(v+="x"),v&&h.nodePermissions(y,v)?-2:0}catch(w){if(typeof h>"u"||w.name!=="ErrnoError")throw w;return-w.errno}}var Ol=9007199254740992,Fl=-9007199254740992;function jt(a){return a<Fl||a>Ol?NaN:Number(a)}function Ll(a,s,u,g){try{if(u=jt(u),isNaN(u)||(g=jt(g),isNaN(g)))return-61;var p=j.getStreamFromFD(a);return h.allocate(p,u,g),0}catch(y){if(typeof h>"u"||y.name!=="ErrnoError")throw y;return-y.errno}}function Wl(a,s){try{return h.fchmod(a,s),0}catch(u){if(typeof h>"u"||u.name!=="ErrnoError")throw u;return-u.errno}}var Na=a=>(T[as()>>>2]=a,a);function Bl(a,s,u){j.varargs=u;try{var g=j.getStreamFromFD(a);switch(s){case 0:{var p=j.get();if(p<0)return-28;var y;return y=h.createStream(g,p),y.fd}case 1:case 2:return 0;case 3:return g.flags;case 4:{var p=j.get();return g.flags|=p,0}case 5:{var p=j.get(),v=0;return K[p+v>>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Na(28),-1;default:return-28}}catch(w){if(typeof h>"u"||w.name!=="ErrnoError")throw w;return-w.errno}}function Vl(a,s){try{var u=j.getStreamFromFD(a);return j.doStat(h.stat,u.path,s)}catch(g){if(typeof h>"u"||g.name!=="ErrnoError")throw g;return-g.errno}}var fn=(a,s,u)=>Yt(a,B,s,u);function zl(a,s){try{if(s===0)return-28;var u=h.cwd(),g=Qe(u)+1;return s<g?-68:(fn(u,a,s),g)}catch(p){if(typeof h>"u"||p.name!=="ErrnoError")throw p;return-p.errno}}function Ul(a,s,u){try{var g=j.getStreamFromFD(a);g.getdents||(g.getdents=h.readdir(g.path));for(var p=280,y=0,v=h.llseek(g,0,1),w=Math.floor(v/p);w<g.getdents.length&&y+p<=u;){var C,D,N=g.getdents[w];if(N===".")C=g.node.id,D=4;else if(N===".."){var L=h.lookupPath(g.path,{parent:!0});C=L.node.id,D=4}else{var G=h.lookupNode(g.node,N);C=G.id,D=h.isChrdev(G.mode)?2:h.isDir(G.mode)?4:h.isLink(G.mode)?10:8}re[s+y>>3]=BigInt(C),re[s+y+8>>3]=BigInt((w+1)*p),K[s+y+16>>>1]=280,W[s+y+18>>>0]=D,fn(N,s+y+19,256),y+=p,w+=1}return h.llseek(g,w*p,0),y}catch(z){if(typeof h>"u"||z.name!=="ErrnoError")throw z;return-z.errno}}function Hl(a,s,u){j.varargs=u;try{var g=j.getStreamFromFD(a);switch(s){case 21509:return g.tty?0:-59;case 21505:{if(!g.tty)return-59;if(g.tty.ops.ioctl_tcgets){var p=g.tty.ops.ioctl_tcgets(g),y=j.get();T[y>>>2]=p.c_iflag||0,T[y+4>>>2]=p.c_oflag||0,T[y+8>>>2]=p.c_cflag||0,T[y+12>>>2]=p.c_lflag||0;for(var v=0;v<32;v++)W[y+v+17>>>0]=p.c_cc[v]||0;return 0}return 0}case 21510:case 21511:case 21512:return g.tty?0:-59;case 21506:case 21507:case 21508:{if(!g.tty)return-59;if(g.tty.ops.ioctl_tcsets){for(var y=j.get(),w=T[y>>>2],C=T[y+4>>>2],D=T[y+8>>>2],N=T[y+12>>>2],L=[],v=0;v<32;v++)L.push(W[y+v+17>>>0]);return g.tty.ops.ioctl_tcsets(g.tty,s,{c_iflag:w,c_oflag:C,c_cflag:D,c_lflag:N,c_cc:L})}return 0}case 21519:{if(!g.tty)return-59;var y=j.get();return T[y>>>2]=0,0}case 21520:return g.tty?-28:-59;case 21531:{var y=j.get();return h.ioctl(g,s,y)}case 21523:{if(!g.tty)return-59;if(g.tty.ops.ioctl_tiocgwinsz){var G=g.tty.ops.ioctl_tiocgwinsz(g.tty),y=j.get();K[y>>>1]=G[0],K[y+2>>>1]=G[1]}return 0}case 21524:return g.tty?0:-59;case 21515:return g.tty?0:-59;default:return-28}}catch(z){if(typeof h>"u"||z.name!=="ErrnoError")throw z;return-z.errno}}function Yl(a,s){try{return a=j.getStr(a),j.doStat(h.lstat,a,s)}catch(u){if(typeof h>"u"||u.name!=="ErrnoError")throw u;return-u.errno}}function Xl(a,s,u,g){try{s=j.getStr(s);var p=g&256,y=g&4096;return g=g&-6401,s=j.calculateAt(a,s,y),j.doStat(p?h.lstat:h.stat,s,u)}catch(v){if(typeof h>"u"||v.name!=="ErrnoError")throw v;return-v.errno}}function jl(a,s,u,g){j.varargs=g;try{s=j.getStr(s),s=j.calculateAt(a,s);var p=g?j.get():0;return h.open(s,u,p).fd}catch(y){if(typeof h>"u"||y.name!=="ErrnoError")throw y;return-y.errno}}function $l(a,s,u,g){try{if(s=j.getStr(s),s=j.calculateAt(a,s),g<=0)return-28;var p=h.readlink(s),y=Math.min(g,Qe(p)),v=W[u+y>>>0];return fn(p,u,g+1),W[u+y>>>0]=v,y}catch(w){if(typeof h>"u"||w.name!=="ErrnoError")throw w;return-w.errno}}function ql(a){try{return a=j.getStr(a),h.rmdir(a),0}catch(s){if(typeof h>"u"||s.name!=="ErrnoError")throw s;return-s.errno}}function Ql(a,s){try{return a=j.getStr(a),j.doStat(h.stat,a,s)}catch(u){if(typeof h>"u"||u.name!=="ErrnoError")throw u;return-u.errno}}function Kl(a,s){try{return a=j.getStr(a),s=j.getStr(s),h.symlink(a,s),0}catch(u){if(typeof h>"u"||u.name!=="ErrnoError")throw u;return-u.errno}}function Jl(a,s,u){try{return s=j.getStr(s),s=j.calculateAt(a,s),u===0?h.unlink(s):u===512?h.rmdir(s):Ye("Invalid flags passed to unlinkat"),0}catch(g){if(typeof h>"u"||g.name!=="ErrnoError")throw g;return-g.errno}}function Oa(a){if(a===null)return"null";var s=typeof a;return s==="object"||s==="array"||s==="function"?a.toString():""+a}function Zl(){for(var a=new Array(256),s=0;s<256;++s)a[s]=String.fromCharCode(s);Fa=a}var Fa=void 0;function kt(a){for(var s="",u=a;B[u>>>0];)s+=Fa[B[u++>>>0]];return s}var ei={},La={},eu=48,tu=57;function nu(a){if(a===void 0)return"_unknown";a=a.replace(/[^a-zA-Z0-9_]/g,"$");var s=a.charCodeAt(0);return s>=eu&&s<=tu?`_${a}`:a}function ru(a,s){return a=nu(a),{[a]:function(){return s.apply(this,arguments)}}[a]}function Wa(a,s){var u=ru(s,function(g){this.name=s,this.message=g;var p=new Error(g).stack;p!==void 0&&(this.stack=this.toString()+`
`+p.replace(/^Error(:[^\n]*)?\n/,""))});return u.prototype=Object.create(a.prototype),u.prototype.constructor=u,u.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},u}var Ba=void 0;function dn(a){throw new Ba(a)}function wt(a,s,u={}){if(!("argPackAdvance"in s))throw new TypeError("registerType registeredInstance requires argPackAdvance");var g=s.name;if(a||dn(`type "${g}" must have a positive integer typeid pointer`),La.hasOwnProperty(a)){if(u.ignoreDuplicateRegistrations)return;dn(`Cannot register type '${g}' twice`)}if(La[a]=s,ei.hasOwnProperty(a)){var p=ei[a];delete ei[a],p.forEach(y=>y())}}function Va(a,s,u){switch(s){case 0:return u?function(g){return W[g>>>0]}:function(g){return B[g>>>0]};case 1:return u?function(g){return K[g>>>1]}:function(g){return J[g>>>1]};case 2:return u?function(g){return T[g>>>2]}:function(g){return O[g>>>2]};case 3:return u?function(g){return re[g>>3]}:function(g){return _e[g>>3]};default:throw new TypeError("Unknown integer type: "+a)}}function iu(a,s,u,g,p){s=kt(s);var y=fr(u),v=s.indexOf("u")!=-1;v&&(p=(1n<<64n)-1n),wt(a,{name:s,fromWireType:function(w){return w},toWireType:function(w,C){if(typeof C!="bigint"&&typeof C!="number")throw new TypeError(`Cannot convert "${Oa(C)}" to ${this.name}`);if(C<g||C>p)throw new TypeError(`Passing a number "${Oa(C)}" from JS side to C/C++ side to an argument of type "${s}", which is outside the valid range [${g}, ${p}]!`);return C},argPackAdvance:8,readValueFromPointer:Va(s,y,!v),destructorFunction:null})}function fr(a){switch(a){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${a}`)}}function au(a,s,u,g,p){var y=fr(u);s=kt(s),wt(a,{name:s,fromWireType:function(v){return!!v},toWireType:function(v,w){return w?g:p},argPackAdvance:8,readValueFromPointer:function(v){var w;if(u===1)w=W;else if(u===2)w=K;else if(u===4)w=T;else throw new TypeError("Unknown boolean type size: "+s);return this.fromWireType(w[v>>>y])},destructorFunction:null})}function su(){this.allocated=[void 0],this.freelist=[],this.get=function(a){return this.allocated[a]},this.has=function(a){return this.allocated[a]!==void 0},this.allocate=function(a){var s=this.freelist.pop()||this.allocated.length;return this.allocated[s]=a,s},this.free=function(a){this.allocated[a]=void 0,this.freelist.push(a)}}var nt=new su;function ou(a){a>=nt.reserved&&--nt.get(a).refcount===0&&nt.free(a)}function lu(){for(var a=0,s=nt.reserved;s<nt.allocated.length;++s)nt.allocated[s]!==void 0&&++a;return a}function uu(){nt.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),nt.reserved=nt.allocated.length,e.count_emval_handles=lu}var za={toValue:a=>(a||dn("Cannot use deleted val. handle = "+a),nt.get(a).value),toHandle:a=>{switch(a){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return nt.allocate({refcount:1,value:a})}}};function ti(a){return this.fromWireType(T[a>>>2])}function cu(a,s){s=kt(s),wt(a,{name:s,fromWireType:function(u){var g=za.toValue(u);return ou(u),g},toWireType:function(u,g){return za.toHandle(g)},argPackAdvance:8,readValueFromPointer:ti,destructorFunction:null})}function gu(a,s){switch(s){case 2:return function(u){return this.fromWireType(me[u>>>2])};case 3:return function(u){return this.fromWireType(ue[u>>>3])};default:throw new TypeError("Unknown float type: "+a)}}function mu(a,s,u){var g=fr(u);s=kt(s),wt(a,{name:s,fromWireType:function(p){return p},toWireType:function(p,y){return y},argPackAdvance:8,readValueFromPointer:gu(s,g),destructorFunction:null})}function _u(a,s,u,g,p){s=kt(s);var y=fr(u),v=L=>L;if(g===0){var w=32-8*u;v=L=>L<<w>>>w}var C=s.includes("unsigned"),D=(L,G)=>{},N;C?N=function(L,G){return D(G,this.name),G>>>0}:N=function(L,G){return D(G,this.name),G},wt(a,{name:s,fromWireType:v,toWireType:N,argPackAdvance:8,readValueFromPointer:Va(s,y,g!==0),destructorFunction:null})}function hu(a,s,u){var g=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array],p=g[s];function y(v){v=v>>2;var w=O,C=w[v>>>0],D=w[v+1>>>0];return new p(w.buffer,D,C)}u=kt(u),wt(a,{name:u,fromWireType:y,argPackAdvance:8,readValueFromPointer:y},{ignoreDuplicateRegistrations:!0})}function pu(a,s){s=kt(s);var u=s==="std::string";wt(a,{name:s,fromWireType:function(g){var p=O[g>>>2],y=g+4,v;if(u)for(var w=y,C=0;C<=p;++C){var D=y+C;if(C==p||B[D>>>0]==0){var N=D-w,L=Wn(w,N);v===void 0?v=L:(v+="\0",v+=L),w=D+1}}else{for(var G=new Array(p),C=0;C<p;++C)G[C]=String.fromCharCode(B[y+C>>>0]);v=G.join("")}return Pt(g),v},toWireType:function(g,p){p instanceof ArrayBuffer&&(p=new Uint8Array(p));var y,v=typeof p=="string";v||p instanceof Uint8Array||p instanceof Uint8ClampedArray||p instanceof Int8Array||dn("Cannot pass non-string to std::string"),u&&v?y=Qe(p):y=p.length;var w=Mr(4+y+1),C=w+4;if(C>>>=0,O[w>>>2]=y,u&&v)fn(p,C,y+1);else if(v)for(var D=0;D<y;++D){var N=p.charCodeAt(D);N>255&&(Pt(C),dn("String has UTF-16 code units that do not fit in 8 bits")),B[C+D>>>0]=N}else for(var D=0;D<y;++D)B[C+D>>>0]=p[D];return g!==null&&g.push(Pt,w),w},argPackAdvance:8,readValueFromPointer:ti,destructorFunction:function(g){Pt(g)}})}var Ua=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,fu=(a,s)=>{for(var u=a,g=u>>1,p=g+s/2;!(g>=p)&&J[g>>>0];)++g;if(u=g<<1,u-a>32&&Ua)return Ua.decode(B.subarray(a>>>0,u>>>0));for(var y="",v=0;!(v>=s/2);++v){var w=K[a+v*2>>>1];if(w==0)break;y+=String.fromCharCode(w)}return y},du=(a,s,u)=>{if(u===void 0&&(u=2147483647),u<2)return 0;u-=2;for(var g=s,p=u<a.length*2?u/2:a.length,y=0;y<p;++y){var v=a.charCodeAt(y);K[s>>>1]=v,s+=2}return K[s>>>1]=0,s-g},yu=a=>a.length*2,Mu=(a,s)=>{for(var u=0,g="";!(u>=s/4);){var p=T[a+u*4>>>2];if(p==0)break;if(++u,p>=65536){var y=p-65536;g+=String.fromCharCode(55296|y>>10,56320|y&1023)}else g+=String.fromCharCode(p)}return g},vu=(a,s,u)=>{if(s>>>=0,u===void 0&&(u=2147483647),u<4)return 0;for(var g=s,p=g+u-4,y=0;y<a.length;++y){var v=a.charCodeAt(y);if(v>=55296&&v<=57343){var w=a.charCodeAt(++y);v=65536+((v&1023)<<10)|w&1023}if(T[s>>>2]=v,s+=4,s+4>p)break}return T[s>>>2]=0,s-g},Su=a=>{for(var s=0,u=0;u<a.length;++u){var g=a.charCodeAt(u);g>=55296&&g<=57343&&++u,s+=4}return s},ku=function(a,s,u){u=kt(u);var g,p,y,v,w;s===2?(g=fu,p=du,v=yu,y=()=>J,w=1):s===4&&(g=Mu,p=vu,v=Su,y=()=>O,w=2),wt(a,{name:u,fromWireType:function(C){for(var D=O[C>>>2],N=y(),L,G=C+4,z=0;z<=D;++z){var le=C+4+z*s;if(z==D||N[le>>>w]==0){var ze=le-G,Oe=g(G,ze);L===void 0?L=Oe:(L+="\0",L+=Oe),G=le+s}}return Pt(C),L},toWireType:function(C,D){typeof D!="string"&&dn(`Cannot pass non-string to C++ string type ${u}`);var N=v(D),L=Mr(4+N+s);return L>>>=0,O[L>>>2]=N>>w,p(D,L+4,N+s),C!==null&&C.push(Pt,L),L},argPackAdvance:8,readValueFromPointer:ti,destructorFunction:function(C){Pt(C)}})};function wu(a,s){s=kt(s),wt(a,{isVoid:!0,name:s,argPackAdvance:0,fromWireType:function(){},toWireType:function(u,g){}})}var Cu=!0,Iu=()=>Cu,Eu=()=>{throw 1/0};function Ha(a){return O[a>>>2]+T[a+4>>>2]*4294967296}var xu=(a,s)=>{var u=new Date(Ha(a)*1e3);T[s>>>2]=u.getUTCSeconds(),T[s+4>>>2]=u.getUTCMinutes(),T[s+8>>>2]=u.getUTCHours(),T[s+12>>>2]=u.getUTCDate(),T[s+16>>>2]=u.getUTCMonth(),T[s+20>>>2]=u.getUTCFullYear()-1900,T[s+24>>>2]=u.getUTCDay();var g=Date.UTC(u.getUTCFullYear(),0,1,0,0,0,0),p=(u.getTime()-g)/(1e3*60*60*24)|0;T[s+28>>>2]=p},Bn=a=>a%4===0&&(a%100!==0||a%400===0),bu=[0,31,60,91,121,152,182,213,244,274,305,335],Du=[0,31,59,90,120,151,181,212,243,273,304,334],Ya=a=>{var s=Bn(a.getFullYear()),u=s?bu:Du,g=u[a.getMonth()]+a.getDate()-1;return g},Tu=(a,s)=>{var u=new Date(Ha(a)*1e3);T[s>>>2]=u.getSeconds(),T[s+4>>>2]=u.getMinutes(),T[s+8>>>2]=u.getHours(),T[s+12>>>2]=u.getDate(),T[s+16>>>2]=u.getMonth(),T[s+20>>>2]=u.getFullYear()-1900,T[s+24>>>2]=u.getDay();var g=Ya(u)|0;T[s+28>>>2]=g,T[s+36>>>2]=-(u.getTimezoneOffset()*60);var p=new Date(u.getFullYear(),0,1),y=new Date(u.getFullYear(),6,1).getTimezoneOffset(),v=p.getTimezoneOffset(),w=(y!=v&&u.getTimezoneOffset()==Math.min(v,y))|0;T[s+32>>>2]=w},Au=a=>{var s=new Date(T[a+20>>>2]+1900,T[a+16>>>2],T[a+12>>>2],T[a+8>>>2],T[a+4>>>2],T[a>>>2],0),u=T[a+32>>>2],g=s.getTimezoneOffset(),p=new Date(s.getFullYear(),0,1),y=new Date(s.getFullYear(),6,1).getTimezoneOffset(),v=p.getTimezoneOffset(),w=Math.min(v,y);if(u<0)T[a+32>>>2]=+(y!=v&&w==g);else if(u>0!=(w==g)){var C=Math.max(v,y),D=u>0?w:C;s.setTime(s.getTime()+(D-g)*6e4)}T[a+24>>>2]=s.getDay();var N=Ya(s)|0;return T[a+28>>>2]=N,T[a>>>2]=s.getSeconds(),T[a+4>>>2]=s.getMinutes(),T[a+8>>>2]=s.getHours(),T[a+12>>>2]=s.getDate(),T[a+16>>>2]=s.getMonth(),T[a+20>>>2]=s.getYear(),s.getTime()/1e3|0};function Pu(a,s,u,g,p,y,v){try{if(p=jt(p),isNaN(p))return-61;var w=j.getStreamFromFD(g),C=h.mmap(w,a,p,s,u),D=C.ptr;return T[y>>>2]=C.allocated,D>>>=0,O[v>>>2]=D,0}catch(N){if(typeof h>"u"||N.name!=="ErrnoError")throw N;return-N.errno}}function Ru(a,s,u,g,p,y){try{if(y=jt(y),isNaN(y))return-61;var v=j.getStreamFromFD(p);u&2&&j.doMsync(a,v,s,g,y),h.munmap(v)}catch(w){if(typeof h>"u"||w.name!=="ErrnoError")throw w;return-w.errno}}var Xa=a=>{var s=Qe(a)+1,u=Mr(s);return u&&fn(a,u,s),u},Gu=(a,s,u)=>{var g=new Date().getFullYear(),p=new Date(g,0,1),y=new Date(g,6,1),v=p.getTimezoneOffset(),w=y.getTimezoneOffset(),C=Math.max(v,w);O[a>>>2]=C*60,T[s>>>2]=+(v!=w);function D(le){var ze=le.toTimeString().match(/\(([A-Za-z ]+)\)$/);return ze?ze[1]:"GMT"}var N=D(p),L=D(y),G=Xa(N),z=Xa(L);w<v?(O[u>>>2]=G,O[u+4>>>2]=z):(O[u>>>2]=z,O[u+4>>>2]=G)},Nu=()=>{Ye("")};function Ou(){return Date.now()}var ja=()=>4294901760,Fu=()=>ja(),$a;$a=()=>performance.now();var Lu=(a,s,u)=>B.copyWithin(a>>>0,s>>>0,s+u>>>0),Wu=a=>{var s=A.buffer,u=a-s.byteLength+65535>>>16;try{return A.grow(u),Q(),1}catch{}},Bu=a=>{var s=B.length;a=a>>>0;var u=ja();if(a>u)return!1;for(var g=(C,D)=>C+(D-C%D)%D,p=1;p<=4;p*=2){var y=s*(1+.2/p);y=Math.min(y,a+100663296);var v=Math.min(u,g(Math.max(a,y),65536)),w=Wu(v);if(w)return!0}return!1},ni={},Vu=()=>l||"./this.program",Vn=()=>{if(!Vn.strings){var a=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",s={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:a,_:Vu()};for(var u in ni)ni[u]===void 0?delete s[u]:s[u]=ni[u];var g=[];for(var u in s)g.push(`${u}=${s[u]}`);Vn.strings=g}return Vn.strings},zu=(a,s)=>{for(var u=0;u<a.length;++u)W[s++>>>0]=a.charCodeAt(u);W[s>>>0]=0},Uu=(a,s)=>{var u=0;return Vn().forEach(function(g,p){var y=s+u;O[a+p*4>>>2]=y,zu(g,y),u+=g.length+1}),0},Hu=(a,s)=>{var u=Vn();O[a>>>2]=u.length;var g=0;return u.forEach(function(p){g+=p.length+1}),O[s>>>2]=g,0},qa=a=>{He()||(e.onExit&&e.onExit(a),F=!0),c(a,new vt(a))},Yu=(a,s)=>{qa(a)},Xu=Yu;function ju(a){try{var s=j.getStreamFromFD(a);return h.close(s),0}catch(u){if(typeof h>"u"||u.name!=="ErrnoError")throw u;return u.errno}}function $u(a,s){try{var u=0,g=0,p=0,y=j.getStreamFromFD(a),v=y.tty?2:h.isDir(y.mode)?3:h.isLink(y.mode)?7:4;return W[s>>>0]=v,K[s+2>>>1]=p,re[s+8>>3]=BigInt(u),re[s+16>>3]=BigInt(g),0}catch(w){if(typeof h>"u"||w.name!=="ErrnoError")throw w;return w.errno}}var Qa=(a,s,u,g)=>{for(var p=0,y=0;y<u;y++){var v=O[s>>>2],w=O[s+4>>>2];s+=8;var C=h.read(a,W,v,w,g);if(C<0)return-1;if(p+=C,C<w)break;typeof g<"u"&&(g+=C)}return p};function qu(a,s,u,g,p){try{if(g=jt(g),isNaN(g))return 61;var y=j.getStreamFromFD(a),v=Qa(y,s,u,g);return O[p>>>2]=v,0}catch(w){if(typeof h>"u"||w.name!=="ErrnoError")throw w;return w.errno}}var Ka=(a,s,u,g)=>{for(var p=0,y=0;y<u;y++){var v=O[s>>>2],w=O[s+4>>>2];s+=8;var C=h.write(a,W,v,w,g);if(C<0)return-1;p+=C,typeof g<"u"&&(g+=C)}return p};function Qu(a,s,u,g,p){try{if(g=jt(g),isNaN(g))return 61;var y=j.getStreamFromFD(a),v=Ka(y,s,u,g);return O[p>>>2]=v,0}catch(w){if(typeof h>"u"||w.name!=="ErrnoError")throw w;return w.errno}}function Ku(a,s,u,g){try{var p=j.getStreamFromFD(a),y=Qa(p,s,u);return O[g>>>2]=y,0}catch(v){if(typeof h>"u"||v.name!=="ErrnoError")throw v;return v.errno}}function Ju(a,s,u,g){try{if(s=jt(s),isNaN(s))return 61;var p=j.getStreamFromFD(a);return h.llseek(p,s,u),re[g>>3]=BigInt(p.position),p.getdents&&s===0&&u===0&&(p.getdents=null),0}catch(y){if(typeof h>"u"||y.name!=="ErrnoError")throw y;return y.errno}}function Zu(a){try{var s=j.getStreamFromFD(a);return s.stream_ops&&s.stream_ops.fsync?s.stream_ops.fsync(s):0}catch(u){if(typeof h>"u"||u.name!=="ErrnoError")throw u;return u.errno}}function ec(a,s,u,g){try{var p=j.getStreamFromFD(a),y=Ka(p,s,u);return O[g>>>2]=y,0}catch(v){if(typeof h>"u"||v.name!=="ErrnoError")throw v;return v.errno}}var tc=(a,s)=>(Ht(B.subarray(a>>>0,a+s>>>0)),0),nc=(a,s)=>{for(var u=0,g=0;g<=s;u+=a[g++]);return u},Ja=[31,29,31,30,31,30,31,31,30,31,30,31],Za=[31,28,31,30,31,30,31,31,30,31,30,31],rc=(a,s)=>{for(var u=new Date(a.getTime());s>0;){var g=Bn(u.getFullYear()),p=u.getMonth(),y=(g?Ja:Za)[p];if(s>y-u.getDate())s-=y-u.getDate()+1,u.setDate(1),p<11?u.setMonth(p+1):(u.setMonth(0),u.setFullYear(u.getFullYear()+1));else return u.setDate(u.getDate()+s),u}return u},ic=(a,s)=>{W.set(a,s>>>0)},es=(a,s,u,g)=>{var p=T[g+40>>>2],y={tm_sec:T[g>>>2],tm_min:T[g+4>>>2],tm_hour:T[g+8>>>2],tm_mday:T[g+12>>>2],tm_mon:T[g+16>>>2],tm_year:T[g+20>>>2],tm_wday:T[g+24>>>2],tm_yday:T[g+28>>>2],tm_isdst:T[g+32>>>2],tm_gmtoff:T[g+36>>>2],tm_zone:p?Wn(p):""},v=Wn(u),w={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var C in w)v=v.replace(new RegExp(C,"g"),w[C]);var D=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],N=["January","February","March","April","May","June","July","August","September","October","November","December"];function L(P,U,de){for(var Se=typeof P=="number"?P.toString():P||"";Se.length<U;)Se=de[0]+Se;return Se}function G(P,U){return L(P,U,"0")}function z(P,U){function de(Me){return Me<0?-1:Me>0?1:0}var Se;return(Se=de(P.getFullYear()-U.getFullYear()))===0&&(Se=de(P.getMonth()-U.getMonth()))===0&&(Se=de(P.getDate()-U.getDate())),Se}function le(P){switch(P.getDay()){case 0:return new Date(P.getFullYear()-1,11,29);case 1:return P;case 2:return new Date(P.getFullYear(),0,3);case 3:return new Date(P.getFullYear(),0,2);case 4:return new Date(P.getFullYear(),0,1);case 5:return new Date(P.getFullYear()-1,11,31);case 6:return new Date(P.getFullYear()-1,11,30)}}function ze(P){var U=rc(new Date(P.tm_year+1900,0,1),P.tm_yday),de=new Date(U.getFullYear(),0,4),Se=new Date(U.getFullYear()+1,0,4),Me=le(de),Yc=le(Se);return z(Me,U)<=0?z(Yc,U)<=0?U.getFullYear()+1:U.getFullYear():U.getFullYear()-1}var Oe={"%a":P=>D[P.tm_wday].substring(0,3),"%A":P=>D[P.tm_wday],"%b":P=>N[P.tm_mon].substring(0,3),"%B":P=>N[P.tm_mon],"%C":P=>{var U=P.tm_year+1900;return G(U/100|0,2)},"%d":P=>G(P.tm_mday,2),"%e":P=>L(P.tm_mday,2," "),"%g":P=>ze(P).toString().substring(2),"%G":P=>ze(P),"%H":P=>G(P.tm_hour,2),"%I":P=>{var U=P.tm_hour;return U==0?U=12:U>12&&(U-=12),G(U,2)},"%j":P=>G(P.tm_mday+nc(Bn(P.tm_year+1900)?Ja:Za,P.tm_mon-1),3),"%m":P=>G(P.tm_mon+1,2),"%M":P=>G(P.tm_min,2),"%n":()=>`
`,"%p":P=>P.tm_hour>=0&&P.tm_hour<12?"AM":"PM","%S":P=>G(P.tm_sec,2),"%t":()=>"	","%u":P=>P.tm_wday||7,"%U":P=>{var U=P.tm_yday+7-P.tm_wday;return G(Math.floor(U/7),2)},"%V":P=>{var U=Math.floor((P.tm_yday+7-(P.tm_wday+6)%7)/7);if((P.tm_wday+371-P.tm_yday-2)%7<=2&&U++,U){if(U==53){var de=(P.tm_wday+371-P.tm_yday)%7;de!=4&&(de!=3||!Bn(P.tm_year))&&(U=1)}}else{U=52;var Se=(P.tm_wday+7-P.tm_yday-1)%7;(Se==4||Se==5&&Bn(P.tm_year%400-1))&&U++}return G(U,2)},"%w":P=>P.tm_wday,"%W":P=>{var U=P.tm_yday+7-(P.tm_wday+6)%7;return G(Math.floor(U/7),2)},"%y":P=>(P.tm_year+1900).toString().substring(2),"%Y":P=>P.tm_year+1900,"%z":P=>{var U=P.tm_gmtoff,de=U>=0;return U=Math.abs(U)/60,U=U/60*100+U%60,(de?"+":"-")+("0000"+U).slice(-4)},"%Z":P=>P.tm_zone,"%%":()=>"%"};v=v.replace(/%%/g,"\0\0");for(var C in Oe)v.includes(C)&&(v=v.replace(new RegExp(C,"g"),Oe[C](y)));v=v.replace(/\0\0/g,"%");var ve=Ee(v,!1);return ve.length>s?0:(ic(ve,a),ve.length-1)},ac=(a,s,u,g,p)=>es(a,s,u,g),sc=a=>a?(Na(52),-1):0;function ts(a,s){a<128?s.push(a):s.push(a%128|128,a>>7)}function oc(a){for(var s={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"},u={parameters:[],results:a[0]=="v"?[]:[s[a[0]]]},g=1;g<a.length;++g)u.parameters.push(s[a[g]]);return u}function lc(a,s){var u=a.slice(0,1),g=a.slice(1),p={i:127,p:127,j:126,f:125,d:124};s.push(96),ts(g.length,s);for(var y=0;y<g.length;++y)s.push(p[g[y]]);u=="v"?s.push(0):s.push(1,p[u])}function uc(a,s){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(oc(s),a);var u=[1];lc(s,u);var g=[0,97,115,109,1,0,0,0,1];ts(u.length,g),g.push.apply(g,u),g.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var p=new WebAssembly.Module(new Uint8Array(g)),y=new WebAssembly.Instance(p,{e:{f:a}}),v=y.exports.f;return v}function cc(a,s){if(yn)for(var u=a;u<a+s;u++){var g=ee(u);g&&yn.set(g,u)}}var yn=void 0;function gc(a){return yn||(yn=new WeakMap,cc(0,Z.length)),yn.get(a)||0}var ns=[];function mc(){if(ns.length)return ns.pop();try{Z.grow(1)}catch(a){throw a instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":a}return Z.length-1}var rs=(a,s)=>{Z.set(a,s),St[a]=Z.get(a)};function _c(a,s){var u=gc(a);if(u)return u;var g=mc();try{rs(g,a)}catch(y){if(!(y instanceof TypeError))throw y;var p=uc(a,s);rs(g,p)}return yn.set(a,g),g}var is=function(a,s,u,g){a||(a=this),this.parent=a,this.mount=a.mount,this.mounted=null,this.id=h.nextInode++,this.name=s,this.mode=u,this.node_ops={},this.stream_ops={},this.rdev=g},dr=365,yr=146;Object.defineProperties(is.prototype,{read:{get:function(){return(this.mode&dr)===dr},set:function(a){a?this.mode|=dr:this.mode&=~dr}},write:{get:function(){return(this.mode&yr)===yr},set:function(a){a?this.mode|=yr:this.mode&=~yr}},isFolder:{get:function(){return h.isDir(this.mode)}},isDevice:{get:function(){return h.isChrdev(this.mode)}}}),h.FSNode=is,h.createPreloadedFile=Al,h.staticInit(),Zl(),Ba=e.BindingError=Wa(Error,"BindingError"),e.InternalError=Wa(Error,"InternalError"),uu();var hc={aa:_n,y:pr,a:Fn,x:hn,ta:Rl,sa:Gl,ua:Nl,da:Ll,pa:Wl,B:Bl,H:Vl,ka:zl,$:Ul,wa:Hl,ma:Yl,na:Xl,z:jl,_:$l,Z:ql,oa:Ql,Y:Kl,F:Jl,L:iu,Aa:au,za:cu,K:mu,q:_u,m:hu,J:pu,C:ku,Ba:wu,qa:Iu,U:Eu,ga:xu,ha:Tu,ia:Au,ea:Pu,fa:Ru,W:Gu,c:Nu,s:Ou,X:Fu,w:$a,ra:Lu,V:Bu,xa:Uu,ya:Hu,r:Xu,t:ju,G:$u,ca:qu,ba:Qu,I:Ku,ja:Ju,la:Zu,A:ec,Ka:tc,Ga:Pc,E:Ec,d:yc,e:dc,g:fc,f:kc,S:Ac,b:xc,R:Nc,l:Ic,Q:Oc,Ea:zc,Da:Uc,n:bc,Ia:Dc,p:Cc,Ja:wc,D:Rc,k:Mc,j:vc,P:Fc,O:Lc,h:pc,i:Sc,o:Gc,Fa:Bc,M:Vc,Ca:Hc,N:Wc,Ha:Tc,va:qa,u:es,T:ac,v:sc};Mt(),e._MagickColor_Create=function(){return(e._MagickColor_Create=e.asm.Na).apply(null,arguments)},e._MagickColor_Dispose=function(){return(e._MagickColor_Dispose=e.asm.Oa).apply(null,arguments)},e._MagickColor_Count_Get=function(){return(e._MagickColor_Count_Get=e.asm.Pa).apply(null,arguments)},e._MagickColor_Red_Get=function(){return(e._MagickColor_Red_Get=e.asm.Qa).apply(null,arguments)},e._MagickColor_Red_Set=function(){return(e._MagickColor_Red_Set=e.asm.Ra).apply(null,arguments)},e._MagickColor_Green_Get=function(){return(e._MagickColor_Green_Get=e.asm.Sa).apply(null,arguments)},e._MagickColor_Green_Set=function(){return(e._MagickColor_Green_Set=e.asm.Ta).apply(null,arguments)},e._MagickColor_Blue_Get=function(){return(e._MagickColor_Blue_Get=e.asm.Ua).apply(null,arguments)},e._MagickColor_Blue_Set=function(){return(e._MagickColor_Blue_Set=e.asm.Va).apply(null,arguments)},e._MagickColor_Alpha_Get=function(){return(e._MagickColor_Alpha_Get=e.asm.Wa).apply(null,arguments)},e._MagickColor_Alpha_Set=function(){return(e._MagickColor_Alpha_Set=e.asm.Xa).apply(null,arguments)},e._MagickColor_Black_Get=function(){return(e._MagickColor_Black_Get=e.asm.Ya).apply(null,arguments)},e._MagickColor_Black_Set=function(){return(e._MagickColor_Black_Set=e.asm.Za).apply(null,arguments)},e._MagickColor_IsCMYK_Get=function(){return(e._MagickColor_IsCMYK_Get=e.asm._a).apply(null,arguments)},e._MagickColor_IsCMYK_Set=function(){return(e._MagickColor_IsCMYK_Set=e.asm.$a).apply(null,arguments)},e._MagickColor_Clone=function(){return(e._MagickColor_Clone=e.asm.ab).apply(null,arguments)},e._MagickColor_FuzzyEquals=function(){return(e._MagickColor_FuzzyEquals=e.asm.bb).apply(null,arguments)},e._MagickColor_Initialize=function(){return(e._MagickColor_Initialize=e.asm.cb).apply(null,arguments)},e._MagickColorCollection_DisposeList=function(){return(e._MagickColorCollection_DisposeList=e.asm.eb).apply(null,arguments)},e._MagickColorCollection_GetInstance=function(){return(e._MagickColorCollection_GetInstance=e.asm.fb).apply(null,arguments)},e._DrawingWand_Create=function(){return(e._DrawingWand_Create=e.asm.gb).apply(null,arguments)},e._DrawingWand_Dispose=function(){return(e._DrawingWand_Dispose=e.asm.hb).apply(null,arguments)},e._DrawingWand_Affine=function(){return(e._DrawingWand_Affine=e.asm.ib).apply(null,arguments)},e._DrawingWand_Alpha=function(){return(e._DrawingWand_Alpha=e.asm.jb).apply(null,arguments)},e._DrawingWand_Arc=function(){return(e._DrawingWand_Arc=e.asm.kb).apply(null,arguments)},e._DrawingWand_Bezier=function(){return(e._DrawingWand_Bezier=e.asm.lb).apply(null,arguments)},e._DrawingWand_BorderColor=function(){return(e._DrawingWand_BorderColor=e.asm.mb).apply(null,arguments)},e._DrawingWand_Circle=function(){return(e._DrawingWand_Circle=e.asm.nb).apply(null,arguments)},e._DrawingWand_ClipPath=function(){return(e._DrawingWand_ClipPath=e.asm.ob).apply(null,arguments)},e._DrawingWand_ClipRule=function(){return(e._DrawingWand_ClipRule=e.asm.pb).apply(null,arguments)},e._DrawingWand_ClipUnits=function(){return(e._DrawingWand_ClipUnits=e.asm.qb).apply(null,arguments)},e._DrawingWand_Color=function(){return(e._DrawingWand_Color=e.asm.rb).apply(null,arguments)},e._DrawingWand_Composite=function(){return(e._DrawingWand_Composite=e.asm.sb).apply(null,arguments)},e._DrawingWand_Density=function(){return(e._DrawingWand_Density=e.asm.tb).apply(null,arguments)},e._DrawingWand_Ellipse=function(){return(e._DrawingWand_Ellipse=e.asm.ub).apply(null,arguments)},e._DrawingWand_FillColor=function(){return(e._DrawingWand_FillColor=e.asm.vb).apply(null,arguments)},e._DrawingWand_FillOpacity=function(){return(e._DrawingWand_FillOpacity=e.asm.wb).apply(null,arguments)},e._DrawingWand_FillPatternUrl=function(){return(e._DrawingWand_FillPatternUrl=e.asm.xb).apply(null,arguments)},e._DrawingWand_FillRule=function(){return(e._DrawingWand_FillRule=e.asm.yb).apply(null,arguments)},e._DrawingWand_Font=function(){return(e._DrawingWand_Font=e.asm.zb).apply(null,arguments)},e._DrawingWand_FontFamily=function(){return(e._DrawingWand_FontFamily=e.asm.Ab).apply(null,arguments)},e._DrawingWand_FontPointSize=function(){return(e._DrawingWand_FontPointSize=e.asm.Bb).apply(null,arguments)},e._DrawingWand_FontTypeMetrics=function(){return(e._DrawingWand_FontTypeMetrics=e.asm.Cb).apply(null,arguments)},e._TypeMetric_Create=function(){return(e._TypeMetric_Create=e.asm.Db).apply(null,arguments)},e._DrawingWand_Gravity=function(){return(e._DrawingWand_Gravity=e.asm.Eb).apply(null,arguments)},e._DrawingWand_Line=function(){return(e._DrawingWand_Line=e.asm.Fb).apply(null,arguments)},e._DrawingWand_PathArcAbs=function(){return(e._DrawingWand_PathArcAbs=e.asm.Gb).apply(null,arguments)},e._DrawingWand_PathArcRel=function(){return(e._DrawingWand_PathArcRel=e.asm.Hb).apply(null,arguments)},e._DrawingWand_PathClose=function(){return(e._DrawingWand_PathClose=e.asm.Ib).apply(null,arguments)},e._DrawingWand_PathCurveToAbs=function(){return(e._DrawingWand_PathCurveToAbs=e.asm.Jb).apply(null,arguments)},e._DrawingWand_PathCurveToRel=function(){return(e._DrawingWand_PathCurveToRel=e.asm.Kb).apply(null,arguments)},e._DrawingWand_PathFinish=function(){return(e._DrawingWand_PathFinish=e.asm.Lb).apply(null,arguments)},e._DrawingWand_PathLineToAbs=function(){return(e._DrawingWand_PathLineToAbs=e.asm.Mb).apply(null,arguments)},e._DrawingWand_PathLineToHorizontalAbs=function(){return(e._DrawingWand_PathLineToHorizontalAbs=e.asm.Nb).apply(null,arguments)},e._DrawingWand_PathLineToHorizontalRel=function(){return(e._DrawingWand_PathLineToHorizontalRel=e.asm.Ob).apply(null,arguments)},e._DrawingWand_PathLineToRel=function(){return(e._DrawingWand_PathLineToRel=e.asm.Pb).apply(null,arguments)},e._DrawingWand_PathLineToVerticalAbs=function(){return(e._DrawingWand_PathLineToVerticalAbs=e.asm.Qb).apply(null,arguments)},e._DrawingWand_PathLineToVerticalRel=function(){return(e._DrawingWand_PathLineToVerticalRel=e.asm.Rb).apply(null,arguments)},e._DrawingWand_PathMoveToAbs=function(){return(e._DrawingWand_PathMoveToAbs=e.asm.Sb).apply(null,arguments)},e._DrawingWand_PathMoveToRel=function(){return(e._DrawingWand_PathMoveToRel=e.asm.Tb).apply(null,arguments)},e._DrawingWand_PathQuadraticCurveToAbs=function(){return(e._DrawingWand_PathQuadraticCurveToAbs=e.asm.Ub).apply(null,arguments)},e._DrawingWand_PathQuadraticCurveToRel=function(){return(e._DrawingWand_PathQuadraticCurveToRel=e.asm.Vb).apply(null,arguments)},e._DrawingWand_PathSmoothCurveToAbs=function(){return(e._DrawingWand_PathSmoothCurveToAbs=e.asm.Wb).apply(null,arguments)},e._DrawingWand_PathSmoothCurveToRel=function(){return(e._DrawingWand_PathSmoothCurveToRel=e.asm.Xb).apply(null,arguments)},e._DrawingWand_PathSmoothQuadraticCurveToAbs=function(){return(e._DrawingWand_PathSmoothQuadraticCurveToAbs=e.asm.Yb).apply(null,arguments)},e._DrawingWand_PathSmoothQuadraticCurveToRel=function(){return(e._DrawingWand_PathSmoothQuadraticCurveToRel=e.asm.Zb).apply(null,arguments)},e._DrawingWand_PathStart=function(){return(e._DrawingWand_PathStart=e.asm._b).apply(null,arguments)},e._DrawingWand_Point=function(){return(e._DrawingWand_Point=e.asm.$b).apply(null,arguments)},e._DrawingWand_Polygon=function(){return(e._DrawingWand_Polygon=e.asm.ac).apply(null,arguments)},e._DrawingWand_Polyline=function(){return(e._DrawingWand_Polyline=e.asm.bc).apply(null,arguments)},e._DrawingWand_PopClipPath=function(){return(e._DrawingWand_PopClipPath=e.asm.cc).apply(null,arguments)},e._DrawingWand_PopGraphicContext=function(){return(e._DrawingWand_PopGraphicContext=e.asm.dc).apply(null,arguments)},e._DrawingWand_PopPattern=function(){return(e._DrawingWand_PopPattern=e.asm.ec).apply(null,arguments)},e._DrawingWand_PushClipPath=function(){return(e._DrawingWand_PushClipPath=e.asm.fc).apply(null,arguments)},e._DrawingWand_PushGraphicContext=function(){return(e._DrawingWand_PushGraphicContext=e.asm.gc).apply(null,arguments)},e._DrawingWand_PushPattern=function(){return(e._DrawingWand_PushPattern=e.asm.hc).apply(null,arguments)},e._DrawingWand_Rectangle=function(){return(e._DrawingWand_Rectangle=e.asm.ic).apply(null,arguments)},e._DrawingWand_Render=function(){return(e._DrawingWand_Render=e.asm.jc).apply(null,arguments)},e._DrawingWand_Rotation=function(){return(e._DrawingWand_Rotation=e.asm.kc).apply(null,arguments)},e._DrawingWand_RoundRectangle=function(){return(e._DrawingWand_RoundRectangle=e.asm.lc).apply(null,arguments)},e._DrawingWand_Scaling=function(){return(e._DrawingWand_Scaling=e.asm.mc).apply(null,arguments)},e._DrawingWand_SkewX=function(){return(e._DrawingWand_SkewX=e.asm.nc).apply(null,arguments)},e._DrawingWand_SkewY=function(){return(e._DrawingWand_SkewY=e.asm.oc).apply(null,arguments)},e._DrawingWand_StrokeAntialias=function(){return(e._DrawingWand_StrokeAntialias=e.asm.pc).apply(null,arguments)},e._DrawingWand_StrokeColor=function(){return(e._DrawingWand_StrokeColor=e.asm.qc).apply(null,arguments)},e._DrawingWand_StrokeDashArray=function(){return(e._DrawingWand_StrokeDashArray=e.asm.rc).apply(null,arguments)},e._DrawingWand_StrokeDashOffset=function(){return(e._DrawingWand_StrokeDashOffset=e.asm.sc).apply(null,arguments)},e._DrawingWand_StrokeLineCap=function(){return(e._DrawingWand_StrokeLineCap=e.asm.tc).apply(null,arguments)},e._DrawingWand_StrokeLineJoin=function(){return(e._DrawingWand_StrokeLineJoin=e.asm.uc).apply(null,arguments)},e._DrawingWand_StrokeMiterLimit=function(){return(e._DrawingWand_StrokeMiterLimit=e.asm.vc).apply(null,arguments)},e._DrawingWand_StrokeOpacity=function(){return(e._DrawingWand_StrokeOpacity=e.asm.wc).apply(null,arguments)},e._DrawingWand_StrokePatternUrl=function(){return(e._DrawingWand_StrokePatternUrl=e.asm.xc).apply(null,arguments)},e._DrawingWand_StrokeWidth=function(){return(e._DrawingWand_StrokeWidth=e.asm.yc).apply(null,arguments)},e._DrawingWand_Text=function(){return(e._DrawingWand_Text=e.asm.zc).apply(null,arguments)},e._DrawingWand_TextAlignment=function(){return(e._DrawingWand_TextAlignment=e.asm.Ac).apply(null,arguments)},e._DrawingWand_TextAntialias=function(){return(e._DrawingWand_TextAntialias=e.asm.Bc).apply(null,arguments)},e._DrawingWand_TextDecoration=function(){return(e._DrawingWand_TextDecoration=e.asm.Cc).apply(null,arguments)},e._DrawingWand_TextDirection=function(){return(e._DrawingWand_TextDirection=e.asm.Dc).apply(null,arguments)},e._DrawingWand_TextEncoding=function(){return(e._DrawingWand_TextEncoding=e.asm.Ec).apply(null,arguments)},e._DrawingWand_TextInterlineSpacing=function(){return(e._DrawingWand_TextInterlineSpacing=e.asm.Fc).apply(null,arguments)},e._DrawingWand_TextInterwordSpacing=function(){return(e._DrawingWand_TextInterwordSpacing=e.asm.Gc).apply(null,arguments)},e._DrawingWand_TextKerning=function(){return(e._DrawingWand_TextKerning=e.asm.Hc).apply(null,arguments)},e._DrawingWand_TextUnderColor=function(){return(e._DrawingWand_TextUnderColor=e.asm.Ic).apply(null,arguments)},e._DrawingWand_Translation=function(){return(e._DrawingWand_Translation=e.asm.Jc).apply(null,arguments)},e._DrawingWand_Viewbox=function(){return(e._DrawingWand_Viewbox=e.asm.Kc).apply(null,arguments)},e._PointInfoCollection_Create=function(){return(e._PointInfoCollection_Create=e.asm.Lc).apply(null,arguments)},e._PointInfoCollection_Dispose=function(){return(e._PointInfoCollection_Dispose=e.asm.Mc).apply(null,arguments)},e._PointInfoCollection_GetX=function(){return(e._PointInfoCollection_GetX=e.asm.Nc).apply(null,arguments)},e._PointInfoCollection_GetY=function(){return(e._PointInfoCollection_GetY=e.asm.Oc).apply(null,arguments)},e._PointInfoCollection_Set=function(){return(e._PointInfoCollection_Set=e.asm.Pc).apply(null,arguments)},e._MagickExceptionHelper_Description=function(){return(e._MagickExceptionHelper_Description=e.asm.Qc).apply(null,arguments)},e._MagickExceptionHelper_Dispose=function(){return(e._MagickExceptionHelper_Dispose=e.asm.Rc).apply(null,arguments)},e._MagickExceptionHelper_Related=function(){return(e._MagickExceptionHelper_Related=e.asm.Sc).apply(null,arguments)},e._MagickExceptionHelper_RelatedCount=function(){return(e._MagickExceptionHelper_RelatedCount=e.asm.Tc).apply(null,arguments)},e._MagickExceptionHelper_Message=function(){return(e._MagickExceptionHelper_Message=e.asm.Uc).apply(null,arguments)},e._MagickExceptionHelper_Severity=function(){return(e._MagickExceptionHelper_Severity=e.asm.Vc).apply(null,arguments)},e._PdfInfo_PageCount=function(){return(e._PdfInfo_PageCount=e.asm.Wc).apply(null,arguments)},e._Environment_Initialize=function(){return(e._Environment_Initialize=e.asm.Xc).apply(null,arguments)},e._Environment_GetEnv=function(){return(e._Environment_GetEnv=e.asm.Yc).apply(null,arguments)},e._Environment_SetEnv=function(){return(e._Environment_SetEnv=e.asm.Zc).apply(null,arguments)},e._MagickMemory_Relinquish=function(){return(e._MagickMemory_Relinquish=e.asm._c).apply(null,arguments)},e._Magick_Delegates_Get=function(){return(e._Magick_Delegates_Get=e.asm.$c).apply(null,arguments)},e._Magick_Features_Get=function(){return(e._Magick_Features_Get=e.asm.ad).apply(null,arguments)},e._Magick_ImageMagickVersion_Get=function(){return(e._Magick_ImageMagickVersion_Get=e.asm.bd).apply(null,arguments)},e._Magick_GetFonts=function(){return(e._Magick_GetFonts=e.asm.cd).apply(null,arguments)},e._Magick_GetFontFamily=function(){return(e._Magick_GetFontFamily=e.asm.dd).apply(null,arguments)},e._Magick_GetFontName=function(){return(e._Magick_GetFontName=e.asm.ed).apply(null,arguments)},e._Magick_DisposeFonts=function(){return(e._Magick_DisposeFonts=e.asm.fd).apply(null,arguments)},e._Magick_SetDefaultFontFile=function(){return(e._Magick_SetDefaultFontFile=e.asm.gd).apply(null,arguments)},e._Magick_SetRandomSeed=function(){return(e._Magick_SetRandomSeed=e.asm.hd).apply(null,arguments)},e._Magick_SetLogDelegate=function(){return(e._Magick_SetLogDelegate=e.asm.id).apply(null,arguments)},e._Magick_SetLogEvents=function(){return(e._Magick_SetLogEvents=e.asm.jd).apply(null,arguments)},e._Magick_SetOpenCLEnabled=function(){return(e._Magick_SetOpenCLEnabled=e.asm.kd).apply(null,arguments)},e._MagickFormatInfo_CreateList=function(){return(e._MagickFormatInfo_CreateList=e.asm.ld).apply(null,arguments)},e._MagickFormatInfo_DisposeList=function(){return(e._MagickFormatInfo_DisposeList=e.asm.md).apply(null,arguments)},e._MagickFormatInfo_CanReadMultithreaded_Get=function(){return(e._MagickFormatInfo_CanReadMultithreaded_Get=e.asm.nd).apply(null,arguments)},e._MagickFormatInfo_CanWriteMultithreaded_Get=function(){return(e._MagickFormatInfo_CanWriteMultithreaded_Get=e.asm.od).apply(null,arguments)},e._MagickFormatInfo_Description_Get=function(){return(e._MagickFormatInfo_Description_Get=e.asm.pd).apply(null,arguments)},e._MagickFormatInfo_Format_Get=function(){return(e._MagickFormatInfo_Format_Get=e.asm.qd).apply(null,arguments)},e._MagickFormatInfo_MimeType_Get=function(){return(e._MagickFormatInfo_MimeType_Get=e.asm.rd).apply(null,arguments)},e._MagickFormatInfo_Module_Get=function(){return(e._MagickFormatInfo_Module_Get=e.asm.sd).apply(null,arguments)},e._MagickFormatInfo_SupportsMultipleFrames_Get=function(){return(e._MagickFormatInfo_SupportsMultipleFrames_Get=e.asm.td).apply(null,arguments)},e._MagickFormatInfo_SupportsReading_Get=function(){return(e._MagickFormatInfo_SupportsReading_Get=e.asm.ud).apply(null,arguments)},e._MagickFormatInfo_SupportsWriting_Get=function(){return(e._MagickFormatInfo_SupportsWriting_Get=e.asm.vd).apply(null,arguments)},e._MagickFormatInfo_GetInfo=function(){return(e._MagickFormatInfo_GetInfo=e.asm.wd).apply(null,arguments)},e._MagickFormatInfo_GetInfoByName=function(){return(e._MagickFormatInfo_GetInfoByName=e.asm.xd).apply(null,arguments)},e._MagickFormatInfo_GetInfoWithBlob=function(){return(e._MagickFormatInfo_GetInfoWithBlob=e.asm.yd).apply(null,arguments)},e._MagickFormatInfo_Unregister=function(){return(e._MagickFormatInfo_Unregister=e.asm.zd).apply(null,arguments)},e._MagickImage_Create=function(){return(e._MagickImage_Create=e.asm.Ad).apply(null,arguments)},e._MagickImage_Dispose=function(){return(e._MagickImage_Dispose=e.asm.Bd).apply(null,arguments)},e._MagickImage_AnimationDelay_Get=function(){return(e._MagickImage_AnimationDelay_Get=e.asm.Cd).apply(null,arguments)},e._MagickImage_AnimationDelay_Set=function(){return(e._MagickImage_AnimationDelay_Set=e.asm.Dd).apply(null,arguments)},e._MagickImage_AnimationIterations_Get=function(){return(e._MagickImage_AnimationIterations_Get=e.asm.Ed).apply(null,arguments)},e._MagickImage_AnimationIterations_Set=function(){return(e._MagickImage_AnimationIterations_Set=e.asm.Fd).apply(null,arguments)},e._MagickImage_AnimationTicksPerSecond_Get=function(){return(e._MagickImage_AnimationTicksPerSecond_Get=e.asm.Gd).apply(null,arguments)},e._MagickImage_AnimationTicksPerSecond_Set=function(){return(e._MagickImage_AnimationTicksPerSecond_Set=e.asm.Hd).apply(null,arguments)},e._MagickImage_BackgroundColor_Get=function(){return(e._MagickImage_BackgroundColor_Get=e.asm.Id).apply(null,arguments)},e._MagickImage_BackgroundColor_Set=function(){return(e._MagickImage_BackgroundColor_Set=e.asm.Jd).apply(null,arguments)},e._MagickImage_BaseHeight_Get=function(){return(e._MagickImage_BaseHeight_Get=e.asm.Kd).apply(null,arguments)},e._MagickImage_BaseWidth_Get=function(){return(e._MagickImage_BaseWidth_Get=e.asm.Ld).apply(null,arguments)},e._MagickImage_BlackPointCompensation_Get=function(){return(e._MagickImage_BlackPointCompensation_Get=e.asm.Md).apply(null,arguments)},e._MagickImage_BlackPointCompensation_Set=function(){return(e._MagickImage_BlackPointCompensation_Set=e.asm.Nd).apply(null,arguments)},e._MagickImage_BorderColor_Get=function(){return(e._MagickImage_BorderColor_Get=e.asm.Od).apply(null,arguments)},e._MagickImage_BorderColor_Set=function(){return(e._MagickImage_BorderColor_Set=e.asm.Pd).apply(null,arguments)},e._MagickImage_BoundingBox_Get=function(){return(e._MagickImage_BoundingBox_Get=e.asm.Qd).apply(null,arguments)},e._MagickRectangle_Create=function(){return(e._MagickRectangle_Create=e.asm.Rd).apply(null,arguments)},e._MagickImage_ChannelCount_Get=function(){return(e._MagickImage_ChannelCount_Get=e.asm.Sd).apply(null,arguments)},e._MagickImage_ChromaBlue_Get=function(){return(e._MagickImage_ChromaBlue_Get=e.asm.Td).apply(null,arguments)},e._PrimaryInfo_Create=function(){return(e._PrimaryInfo_Create=e.asm.Ud).apply(null,arguments)},e._MagickImage_ChromaBlue_Set=function(){return(e._MagickImage_ChromaBlue_Set=e.asm.Vd).apply(null,arguments)},e._MagickImage_ChromaGreen_Get=function(){return(e._MagickImage_ChromaGreen_Get=e.asm.Wd).apply(null,arguments)},e._MagickImage_ChromaGreen_Set=function(){return(e._MagickImage_ChromaGreen_Set=e.asm.Xd).apply(null,arguments)},e._MagickImage_ChromaRed_Get=function(){return(e._MagickImage_ChromaRed_Get=e.asm.Yd).apply(null,arguments)},e._MagickImage_ChromaRed_Set=function(){return(e._MagickImage_ChromaRed_Set=e.asm.Zd).apply(null,arguments)},e._MagickImage_ChromaWhite_Get=function(){return(e._MagickImage_ChromaWhite_Get=e.asm._d).apply(null,arguments)},e._MagickImage_ChromaWhite_Set=function(){return(e._MagickImage_ChromaWhite_Set=e.asm.$d).apply(null,arguments)},e._MagickImage_ClassType_Get=function(){return(e._MagickImage_ClassType_Get=e.asm.ae).apply(null,arguments)},e._MagickImage_ClassType_Set=function(){return(e._MagickImage_ClassType_Set=e.asm.be).apply(null,arguments)},e._QuantizeSettings_Create=function(){return(e._QuantizeSettings_Create=e.asm.ce).apply(null,arguments)},e._QuantizeSettings_Dispose=function(){return(e._QuantizeSettings_Dispose=e.asm.de).apply(null,arguments)},e._MagickImage_ColorFuzz_Get=function(){return(e._MagickImage_ColorFuzz_Get=e.asm.ee).apply(null,arguments)},e._MagickImage_ColorFuzz_Set=function(){return(e._MagickImage_ColorFuzz_Set=e.asm.fe).apply(null,arguments)},e._MagickImage_ColormapSize_Get=function(){return(e._MagickImage_ColormapSize_Get=e.asm.ge).apply(null,arguments)},e._MagickImage_ColormapSize_Set=function(){return(e._MagickImage_ColormapSize_Set=e.asm.he).apply(null,arguments)},e._MagickImage_ColorSpace_Get=function(){return(e._MagickImage_ColorSpace_Get=e.asm.ie).apply(null,arguments)},e._MagickImage_ColorSpace_Set=function(){return(e._MagickImage_ColorSpace_Set=e.asm.je).apply(null,arguments)},e._MagickImage_ColorType_Get=function(){return(e._MagickImage_ColorType_Get=e.asm.ke).apply(null,arguments)},e._MagickImage_ColorType_Set=function(){return(e._MagickImage_ColorType_Set=e.asm.le).apply(null,arguments)},e._MagickImage_Compose_Get=function(){return(e._MagickImage_Compose_Get=e.asm.me).apply(null,arguments)},e._MagickImage_Compose_Set=function(){return(e._MagickImage_Compose_Set=e.asm.ne).apply(null,arguments)},e._MagickImage_Compression_Get=function(){return(e._MagickImage_Compression_Get=e.asm.oe).apply(null,arguments)},e._MagickImage_Compression_Set=function(){return(e._MagickImage_Compression_Set=e.asm.pe).apply(null,arguments)},e._MagickImage_Depth_Get=function(){return(e._MagickImage_Depth_Get=e.asm.qe).apply(null,arguments)},e._MagickImage_Depth_Set=function(){return(e._MagickImage_Depth_Set=e.asm.re).apply(null,arguments)},e._MagickImage_EncodingGeometry_Get=function(){return(e._MagickImage_EncodingGeometry_Get=e.asm.se).apply(null,arguments)},e._MagickImage_Endian_Get=function(){return(e._MagickImage_Endian_Get=e.asm.te).apply(null,arguments)},e._MagickImage_Endian_Set=function(){return(e._MagickImage_Endian_Set=e.asm.ue).apply(null,arguments)},e._MagickImage_FileName_Get=function(){return(e._MagickImage_FileName_Get=e.asm.ve).apply(null,arguments)},e._MagickImage_FileName_Set=function(){return(e._MagickImage_FileName_Set=e.asm.we).apply(null,arguments)},e._MagickImage_FilterType_Get=function(){return(e._MagickImage_FilterType_Get=e.asm.xe).apply(null,arguments)},e._MagickImage_FilterType_Set=function(){return(e._MagickImage_FilterType_Set=e.asm.ye).apply(null,arguments)},e._MagickImage_Format_Get=function(){return(e._MagickImage_Format_Get=e.asm.ze).apply(null,arguments)},e._MagickImage_Format_Set=function(){return(e._MagickImage_Format_Set=e.asm.Ae).apply(null,arguments)},e._MagickImage_Gamma_Get=function(){return(e._MagickImage_Gamma_Get=e.asm.Be).apply(null,arguments)},e._MagickImage_GifDisposeMethod_Get=function(){return(e._MagickImage_GifDisposeMethod_Get=e.asm.Ce).apply(null,arguments)},e._MagickImage_GifDisposeMethod_Set=function(){return(e._MagickImage_GifDisposeMethod_Set=e.asm.De).apply(null,arguments)},e._MagickImage_Interpolate_Get=function(){return(e._MagickImage_Interpolate_Get=e.asm.Ee).apply(null,arguments)},e._MagickImage_Interpolate_Set=function(){return(e._MagickImage_Interpolate_Set=e.asm.Fe).apply(null,arguments)},e._MagickImage_HasAlpha_Get=function(){return(e._MagickImage_HasAlpha_Get=e.asm.Ge).apply(null,arguments)},e._MagickImage_HasAlpha_Set=function(){return(e._MagickImage_HasAlpha_Set=e.asm.He).apply(null,arguments)},e._MagickImage_Height_Get=function(){return(e._MagickImage_Height_Get=e.asm.Ie).apply(null,arguments)},e._MagickImage_Interlace_Get=function(){return(e._MagickImage_Interlace_Get=e.asm.Je).apply(null,arguments)},e._MagickImage_Interlace_Set=function(){return(e._MagickImage_Interlace_Set=e.asm.Ke).apply(null,arguments)},e._MagickImage_IsOpaque_Get=function(){return(e._MagickImage_IsOpaque_Get=e.asm.Le).apply(null,arguments)},e._MagickImage_MatteColor_Get=function(){return(e._MagickImage_MatteColor_Get=e.asm.Me).apply(null,arguments)},e._MagickImage_MatteColor_Set=function(){return(e._MagickImage_MatteColor_Set=e.asm.Ne).apply(null,arguments)},e._MagickImage_MeanErrorPerPixel_Get=function(){return(e._MagickImage_MeanErrorPerPixel_Get=e.asm.Oe).apply(null,arguments)},e._MagickImage_NormalizedMaximumError_Get=function(){return(e._MagickImage_NormalizedMaximumError_Get=e.asm.Pe).apply(null,arguments)},e._MagickImage_NormalizedMeanError_Get=function(){return(e._MagickImage_NormalizedMeanError_Get=e.asm.Qe).apply(null,arguments)},e._MagickImage_Orientation_Get=function(){return(e._MagickImage_Orientation_Get=e.asm.Re).apply(null,arguments)},e._MagickImage_Orientation_Set=function(){return(e._MagickImage_Orientation_Set=e.asm.Se).apply(null,arguments)},e._MagickImage_RenderingIntent_Get=function(){return(e._MagickImage_RenderingIntent_Get=e.asm.Te).apply(null,arguments)},e._MagickImage_RenderingIntent_Set=function(){return(e._MagickImage_RenderingIntent_Set=e.asm.Ue).apply(null,arguments)},e._MagickImage_Page_Get=function(){return(e._MagickImage_Page_Get=e.asm.Ve).apply(null,arguments)},e._MagickImage_Page_Set=function(){return(e._MagickImage_Page_Set=e.asm.We).apply(null,arguments)},e._MagickImage_Quality_Get=function(){return(e._MagickImage_Quality_Get=e.asm.Xe).apply(null,arguments)},e._MagickImage_Quality_Set=function(){return(e._MagickImage_Quality_Set=e.asm.Ye).apply(null,arguments)},e._MagickImage_ResolutionUnits_Get=function(){return(e._MagickImage_ResolutionUnits_Get=e.asm.Ze).apply(null,arguments)},e._MagickImage_ResolutionUnits_Set=function(){return(e._MagickImage_ResolutionUnits_Set=e.asm._e).apply(null,arguments)},e._MagickImage_ResolutionX_Get=function(){return(e._MagickImage_ResolutionX_Get=e.asm.$e).apply(null,arguments)},e._MagickImage_ResolutionX_Set=function(){return(e._MagickImage_ResolutionX_Set=e.asm.af).apply(null,arguments)},e._MagickImage_ResolutionY_Get=function(){return(e._MagickImage_ResolutionY_Get=e.asm.bf).apply(null,arguments)},e._MagickImage_ResolutionY_Set=function(){return(e._MagickImage_ResolutionY_Set=e.asm.cf).apply(null,arguments)},e._MagickImage_Signature_Get=function(){return(e._MagickImage_Signature_Get=e.asm.df).apply(null,arguments)},e._MagickImage_TotalColors_Get=function(){return(e._MagickImage_TotalColors_Get=e.asm.ef).apply(null,arguments)},e._MagickImage_VirtualPixelMethod_Get=function(){return(e._MagickImage_VirtualPixelMethod_Get=e.asm.ff).apply(null,arguments)},e._MagickImage_VirtualPixelMethod_Set=function(){return(e._MagickImage_VirtualPixelMethod_Set=e.asm.gf).apply(null,arguments)},e._MagickImage_Width_Get=function(){return(e._MagickImage_Width_Get=e.asm.hf).apply(null,arguments)},e._MagickImage_AdaptiveBlur=function(){return(e._MagickImage_AdaptiveBlur=e.asm.jf).apply(null,arguments)},e._MagickImage_AdaptiveResize=function(){return(e._MagickImage_AdaptiveResize=e.asm.kf).apply(null,arguments)},e._MagickImage_AdaptiveSharpen=function(){return(e._MagickImage_AdaptiveSharpen=e.asm.lf).apply(null,arguments)},e._MagickImage_AdaptiveThreshold=function(){return(e._MagickImage_AdaptiveThreshold=e.asm.mf).apply(null,arguments)},e._MagickImage_AddNoise=function(){return(e._MagickImage_AddNoise=e.asm.nf).apply(null,arguments)},e._MagickImage_AffineTransform=function(){return(e._MagickImage_AffineTransform=e.asm.of).apply(null,arguments)},e._MagickImage_Annotate=function(){return(e._MagickImage_Annotate=e.asm.pf).apply(null,arguments)},e._MagickImage_AnnotateGravity=function(){return(e._MagickImage_AnnotateGravity=e.asm.qf).apply(null,arguments)},e._MagickImage_AutoGamma=function(){return(e._MagickImage_AutoGamma=e.asm.rf).apply(null,arguments)},e._MagickImage_AutoLevel=function(){return(e._MagickImage_AutoLevel=e.asm.sf).apply(null,arguments)},e._MagickImage_AutoOrient=function(){return(e._MagickImage_AutoOrient=e.asm.tf).apply(null,arguments)},e._MagickImage_AutoThreshold=function(){return(e._MagickImage_AutoThreshold=e.asm.uf).apply(null,arguments)},e._MagickImage_BilateralBlur=function(){return(e._MagickImage_BilateralBlur=e.asm.vf).apply(null,arguments)},e._MagickImage_BlackThreshold=function(){return(e._MagickImage_BlackThreshold=e.asm.wf).apply(null,arguments)},e._MagickImage_BlueShift=function(){return(e._MagickImage_BlueShift=e.asm.xf).apply(null,arguments)},e._MagickImage_Blur=function(){return(e._MagickImage_Blur=e.asm.yf).apply(null,arguments)},e._MagickImage_Border=function(){return(e._MagickImage_Border=e.asm.zf).apply(null,arguments)},e._MagickImage_BrightnessContrast=function(){return(e._MagickImage_BrightnessContrast=e.asm.Af).apply(null,arguments)},e._MagickImage_CannyEdge=function(){return(e._MagickImage_CannyEdge=e.asm.Bf).apply(null,arguments)},e._MagickImage_ChannelOffset=function(){return(e._MagickImage_ChannelOffset=e.asm.Cf).apply(null,arguments)},e._MagickImage_Charcoal=function(){return(e._MagickImage_Charcoal=e.asm.Df).apply(null,arguments)},e._MagickImage_Chop=function(){return(e._MagickImage_Chop=e.asm.Ef).apply(null,arguments)},e._MagickImage_Clahe=function(){return(e._MagickImage_Clahe=e.asm.Ff).apply(null,arguments)},e._MagickImage_Clamp=function(){return(e._MagickImage_Clamp=e.asm.Gf).apply(null,arguments)},e._MagickImage_ClipPath=function(){return(e._MagickImage_ClipPath=e.asm.Hf).apply(null,arguments)},e._MagickImage_Clone=function(){return(e._MagickImage_Clone=e.asm.If).apply(null,arguments)},e._MagickImage_CloneArea=function(){return(e._MagickImage_CloneArea=e.asm.Jf).apply(null,arguments)},e._MagickImage_Clut=function(){return(e._MagickImage_Clut=e.asm.Kf).apply(null,arguments)},e._MagickImage_ColorDecisionList=function(){return(e._MagickImage_ColorDecisionList=e.asm.Lf).apply(null,arguments)},e._MagickImage_Colorize=function(){return(e._MagickImage_Colorize=e.asm.Mf).apply(null,arguments)},e._MagickImage_ColorMatrix=function(){return(e._MagickImage_ColorMatrix=e.asm.Nf).apply(null,arguments)},e._MagickImage_ColorThreshold=function(){return(e._MagickImage_ColorThreshold=e.asm.Of).apply(null,arguments)},e._MagickImage_Compare=function(){return(e._MagickImage_Compare=e.asm.Pf).apply(null,arguments)},e._MagickImage_CompareDistortion=function(){return(e._MagickImage_CompareDistortion=e.asm.Qf).apply(null,arguments)},e._MagickImage_Composite=function(){return(e._MagickImage_Composite=e.asm.Rf).apply(null,arguments)},e._MagickImage_CompositeGravity=function(){return(e._MagickImage_CompositeGravity=e.asm.Sf).apply(null,arguments)},e._MagickImage_ConnectedComponents=function(){return(e._MagickImage_ConnectedComponents=e.asm.Tf).apply(null,arguments)},e._MagickImage_Contrast=function(){return(e._MagickImage_Contrast=e.asm.Uf).apply(null,arguments)},e._MagickImage_ContrastStretch=function(){return(e._MagickImage_ContrastStretch=e.asm.Vf).apply(null,arguments)},e._MagickImage_ConvexHull=function(){return(e._MagickImage_ConvexHull=e.asm.Wf).apply(null,arguments)},e._MagickImage_Convolve=function(){return(e._MagickImage_Convolve=e.asm.Xf).apply(null,arguments)},e._MagickImage_CopyPixels=function(){return(e._MagickImage_CopyPixels=e.asm.Yf).apply(null,arguments)},e._MagickImage_Crop=function(){return(e._MagickImage_Crop=e.asm.Zf).apply(null,arguments)},e._MagickImage_CropToTiles=function(){return(e._MagickImage_CropToTiles=e.asm._f).apply(null,arguments)},e._MagickImage_CycleColormap=function(){return(e._MagickImage_CycleColormap=e.asm.$f).apply(null,arguments)},e._MagickImage_Decipher=function(){return(e._MagickImage_Decipher=e.asm.ag).apply(null,arguments)},e._MagickImage_Deskew=function(){return(e._MagickImage_Deskew=e.asm.bg).apply(null,arguments)},e._MagickImage_Despeckle=function(){return(e._MagickImage_Despeckle=e.asm.cg).apply(null,arguments)},e._MagickImage_DetermineBitDepth=function(){return(e._MagickImage_DetermineBitDepth=e.asm.dg).apply(null,arguments)},e._MagickImage_DetermineColorType=function(){return(e._MagickImage_DetermineColorType=e.asm.eg).apply(null,arguments)},e._MagickImage_Distort=function(){return(e._MagickImage_Distort=e.asm.fg).apply(null,arguments)},e._MagickImage_Edge=function(){return(e._MagickImage_Edge=e.asm.gg).apply(null,arguments)},e._MagickImage_Emboss=function(){return(e._MagickImage_Emboss=e.asm.hg).apply(null,arguments)},e._MagickImage_Encipher=function(){return(e._MagickImage_Encipher=e.asm.ig).apply(null,arguments)},e._MagickImage_Enhance=function(){return(e._MagickImage_Enhance=e.asm.jg).apply(null,arguments)},e._MagickImage_Equalize=function(){return(e._MagickImage_Equalize=e.asm.kg).apply(null,arguments)},e._MagickImage_Equals=function(){return(e._MagickImage_Equals=e.asm.lg).apply(null,arguments)},e._MagickImage_EvaluateFunction=function(){return(e._MagickImage_EvaluateFunction=e.asm.mg).apply(null,arguments)},e._MagickImage_EvaluateGeometry=function(){return(e._MagickImage_EvaluateGeometry=e.asm.ng).apply(null,arguments)},e._MagickImage_EvaluateOperator=function(){return(e._MagickImage_EvaluateOperator=e.asm.og).apply(null,arguments)},e._MagickImage_Extent=function(){return(e._MagickImage_Extent=e.asm.pg).apply(null,arguments)},e._MagickImage_Flip=function(){return(e._MagickImage_Flip=e.asm.qg).apply(null,arguments)},e._MagickImage_FloodFill=function(){return(e._MagickImage_FloodFill=e.asm.rg).apply(null,arguments)},e._MagickImage_Flop=function(){return(e._MagickImage_Flop=e.asm.sg).apply(null,arguments)},e._MagickImage_FontTypeMetrics=function(){return(e._MagickImage_FontTypeMetrics=e.asm.tg).apply(null,arguments)},e._MagickImage_FormatExpression=function(){return(e._MagickImage_FormatExpression=e.asm.ug).apply(null,arguments)},e._MagickImage_Frame=function(){return(e._MagickImage_Frame=e.asm.vg).apply(null,arguments)},e._MagickImage_Fx=function(){return(e._MagickImage_Fx=e.asm.wg).apply(null,arguments)},e._MagickImage_GammaCorrect=function(){return(e._MagickImage_GammaCorrect=e.asm.xg).apply(null,arguments)},e._MagickImage_GaussianBlur=function(){return(e._MagickImage_GaussianBlur=e.asm.yg).apply(null,arguments)},e._MagickImage_GetArtifact=function(){return(e._MagickImage_GetArtifact=e.asm.zg).apply(null,arguments)},e._MagickImage_GetAttribute=function(){return(e._MagickImage_GetAttribute=e.asm.Ag).apply(null,arguments)},e._MagickImage_GetColormapColor=function(){return(e._MagickImage_GetColormapColor=e.asm.Bg).apply(null,arguments)},e._MagickImage_GetNext=function(){return(e._MagickImage_GetNext=e.asm.Cg).apply(null,arguments)},e._MagickImage_GetNextArtifactName=function(){return(e._MagickImage_GetNextArtifactName=e.asm.Dg).apply(null,arguments)},e._MagickImage_GetNextAttributeName=function(){return(e._MagickImage_GetNextAttributeName=e.asm.Eg).apply(null,arguments)},e._MagickImage_GetNextProfileName=function(){return(e._MagickImage_GetNextProfileName=e.asm.Fg).apply(null,arguments)},e._MagickImage_GetProfile=function(){return(e._MagickImage_GetProfile=e.asm.Gg).apply(null,arguments)},e._MagickImage_GetReadMask=function(){return(e._MagickImage_GetReadMask=e.asm.Hg).apply(null,arguments)},e._MagickImage_GetWriteMask=function(){return(e._MagickImage_GetWriteMask=e.asm.Ig).apply(null,arguments)},e._MagickImage_Grayscale=function(){return(e._MagickImage_Grayscale=e.asm.Jg).apply(null,arguments)},e._MagickImage_HaldClut=function(){return(e._MagickImage_HaldClut=e.asm.Kg).apply(null,arguments)},e._MagickImage_HasChannel=function(){return(e._MagickImage_HasChannel=e.asm.Lg).apply(null,arguments)},e._MagickImage_HasProfile=function(){return(e._MagickImage_HasProfile=e.asm.Mg).apply(null,arguments)},e._MagickImage_Histogram=function(){return(e._MagickImage_Histogram=e.asm.Ng).apply(null,arguments)},e._MagickImage_HoughLine=function(){return(e._MagickImage_HoughLine=e.asm.Og).apply(null,arguments)},e._MagickImage_Implode=function(){return(e._MagickImage_Implode=e.asm.Pg).apply(null,arguments)},e._MagickImage_ImportPixels=function(){return(e._MagickImage_ImportPixels=e.asm.Qg).apply(null,arguments)},e._MagickImage_Integral=function(){return(e._MagickImage_Integral=e.asm.Rg).apply(null,arguments)},e._MagickImage_InterpolativeResize=function(){return(e._MagickImage_InterpolativeResize=e.asm.Sg).apply(null,arguments)},e._MagickImage_InverseLevel=function(){return(e._MagickImage_InverseLevel=e.asm.Tg).apply(null,arguments)},e._MagickImage_Kmeans=function(){return(e._MagickImage_Kmeans=e.asm.Ug).apply(null,arguments)},e._MagickImage_Kuwahara=function(){return(e._MagickImage_Kuwahara=e.asm.Vg).apply(null,arguments)},e._MagickImage_Level=function(){return(e._MagickImage_Level=e.asm.Wg).apply(null,arguments)},e._MagickImage_LevelColors=function(){return(e._MagickImage_LevelColors=e.asm.Xg).apply(null,arguments)},e._MagickImage_LinearStretch=function(){return(e._MagickImage_LinearStretch=e.asm.Yg).apply(null,arguments)},e._MagickImage_LiquidRescale=function(){return(e._MagickImage_LiquidRescale=e.asm.Zg).apply(null,arguments)},e._MagickImage_LocalContrast=function(){return(e._MagickImage_LocalContrast=e.asm._g).apply(null,arguments)},e._MagickImage_Magnify=function(){return(e._MagickImage_Magnify=e.asm.$g).apply(null,arguments)},e._MagickImage_Map=function(){return(e._MagickImage_Map=e.asm.ah).apply(null,arguments)},e._MagickImage_MeanShift=function(){return(e._MagickImage_MeanShift=e.asm.bh).apply(null,arguments)},e._MagickImage_Minify=function(){return(e._MagickImage_Minify=e.asm.ch).apply(null,arguments)},e._MagickImage_MinimumBoundingBox=function(){return(e._MagickImage_MinimumBoundingBox=e.asm.dh).apply(null,arguments)},e._MagickImage_Modulate=function(){return(e._MagickImage_Modulate=e.asm.eh).apply(null,arguments)},e._MagickImage_Moments=function(){return(e._MagickImage_Moments=e.asm.fh).apply(null,arguments)},e._MagickImage_Morphology=function(){return(e._MagickImage_Morphology=e.asm.gh).apply(null,arguments)},e._MagickImage_MotionBlur=function(){return(e._MagickImage_MotionBlur=e.asm.hh).apply(null,arguments)},e._MagickImage_Negate=function(){return(e._MagickImage_Negate=e.asm.ih).apply(null,arguments)},e._MagickImage_Normalize=function(){return(e._MagickImage_Normalize=e.asm.jh).apply(null,arguments)},e._MagickImage_OilPaint=function(){return(e._MagickImage_OilPaint=e.asm.kh).apply(null,arguments)},e._MagickImage_Opaque=function(){return(e._MagickImage_Opaque=e.asm.lh).apply(null,arguments)},e._MagickImage_OrderedDither=function(){return(e._MagickImage_OrderedDither=e.asm.mh).apply(null,arguments)},e._MagickImage_Perceptible=function(){return(e._MagickImage_Perceptible=e.asm.nh).apply(null,arguments)},e._MagickImage_PerceptualHash=function(){return(e._MagickImage_PerceptualHash=e.asm.oh).apply(null,arguments)},e._MagickImage_Quantize=function(){return(e._MagickImage_Quantize=e.asm.ph).apply(null,arguments)},e._MagickImage_Polaroid=function(){return(e._MagickImage_Polaroid=e.asm.qh).apply(null,arguments)},e._MagickImage_Posterize=function(){return(e._MagickImage_Posterize=e.asm.rh).apply(null,arguments)},e._MagickImage_RaiseOrLower=function(){return(e._MagickImage_RaiseOrLower=e.asm.sh).apply(null,arguments)},e._MagickImage_RandomThreshold=function(){return(e._MagickImage_RandomThreshold=e.asm.th).apply(null,arguments)},e._MagickImage_RangeThreshold=function(){return(e._MagickImage_RangeThreshold=e.asm.uh).apply(null,arguments)},e._MagickImage_ReadBlob=function(){return(e._MagickImage_ReadBlob=e.asm.vh).apply(null,arguments)},e._MagickImage_ReadFile=function(){return(e._MagickImage_ReadFile=e.asm.wh).apply(null,arguments)},e._MagickImage_ReadPixels=function(){return(e._MagickImage_ReadPixels=e.asm.xh).apply(null,arguments)},e._MagickImage_ReadStream=function(){return(e._MagickImage_ReadStream=e.asm.yh).apply(null,arguments)},e._MagickImage_RegionMask=function(){return(e._MagickImage_RegionMask=e.asm.zh).apply(null,arguments)},e._MagickImage_RemoveArtifact=function(){return(e._MagickImage_RemoveArtifact=e.asm.Ah).apply(null,arguments)},e._MagickImage_RemoveAttribute=function(){return(e._MagickImage_RemoveAttribute=e.asm.Bh).apply(null,arguments)},e._MagickImage_RemoveProfile=function(){return(e._MagickImage_RemoveProfile=e.asm.Ch).apply(null,arguments)},e._MagickImage_ResetArtifactIterator=function(){return(e._MagickImage_ResetArtifactIterator=e.asm.Dh).apply(null,arguments)},e._MagickImage_ResetAttributeIterator=function(){return(e._MagickImage_ResetAttributeIterator=e.asm.Eh).apply(null,arguments)},e._MagickImage_ResetProfileIterator=function(){return(e._MagickImage_ResetProfileIterator=e.asm.Fh).apply(null,arguments)},e._MagickImage_Resample=function(){return(e._MagickImage_Resample=e.asm.Gh).apply(null,arguments)},e._MagickImage_Resize=function(){return(e._MagickImage_Resize=e.asm.Hh).apply(null,arguments)},e._MagickImage_Roll=function(){return(e._MagickImage_Roll=e.asm.Ih).apply(null,arguments)},e._MagickImage_Rotate=function(){return(e._MagickImage_Rotate=e.asm.Jh).apply(null,arguments)},e._MagickImage_RotationalBlur=function(){return(e._MagickImage_RotationalBlur=e.asm.Kh).apply(null,arguments)},e._MagickImage_Sample=function(){return(e._MagickImage_Sample=e.asm.Lh).apply(null,arguments)},e._MagickImage_Scale=function(){return(e._MagickImage_Scale=e.asm.Mh).apply(null,arguments)},e._MagickImage_Segment=function(){return(e._MagickImage_Segment=e.asm.Nh).apply(null,arguments)},e._MagickImage_SelectiveBlur=function(){return(e._MagickImage_SelectiveBlur=e.asm.Oh).apply(null,arguments)},e._MagickImage_Separate=function(){return(e._MagickImage_Separate=e.asm.Ph).apply(null,arguments)},e._MagickImage_SepiaTone=function(){return(e._MagickImage_SepiaTone=e.asm.Qh).apply(null,arguments)},e._MagickImage_SetAlpha=function(){return(e._MagickImage_SetAlpha=e.asm.Rh).apply(null,arguments)},e._MagickImage_SetArtifact=function(){return(e._MagickImage_SetArtifact=e.asm.Sh).apply(null,arguments)},e._MagickImage_SetAttribute=function(){return(e._MagickImage_SetAttribute=e.asm.Th).apply(null,arguments)},e._MagickImage_SetBitDepth=function(){return(e._MagickImage_SetBitDepth=e.asm.Uh).apply(null,arguments)},e._MagickImage_SetClientData=function(){return(e._MagickImage_SetClientData=e.asm.Vh).apply(null,arguments)},e._MagickImage_SetColormapColor=function(){return(e._MagickImage_SetColormapColor=e.asm.Wh).apply(null,arguments)},e._MagickImage_SetColorMetric=function(){return(e._MagickImage_SetColorMetric=e.asm.Xh).apply(null,arguments)},e._MagickImage_SetNext=function(){return(e._MagickImage_SetNext=e.asm.Yh).apply(null,arguments)},e._MagickImage_SetProfile=function(){return(e._MagickImage_SetProfile=e.asm.Zh).apply(null,arguments)},e._MagickImage_SetProgressDelegate=function(){return(e._MagickImage_SetProgressDelegate=e.asm._h).apply(null,arguments)},e._MagickImage_SetReadMask=function(){return(e._MagickImage_SetReadMask=e.asm.$h).apply(null,arguments)},e._MagickImage_SetWriteMask=function(){return(e._MagickImage_SetWriteMask=e.asm.ai).apply(null,arguments)},e._MagickImage_Shade=function(){return(e._MagickImage_Shade=e.asm.bi).apply(null,arguments)},e._MagickImage_Shadow=function(){return(e._MagickImage_Shadow=e.asm.ci).apply(null,arguments)},e._MagickImage_Sharpen=function(){return(e._MagickImage_Sharpen=e.asm.di).apply(null,arguments)},e._MagickImage_Shave=function(){return(e._MagickImage_Shave=e.asm.ei).apply(null,arguments)},e._MagickImage_Shear=function(){return(e._MagickImage_Shear=e.asm.fi).apply(null,arguments)},e._MagickImage_SigmoidalContrast=function(){return(e._MagickImage_SigmoidalContrast=e.asm.gi).apply(null,arguments)},e._MagickImage_SparseColor=function(){return(e._MagickImage_SparseColor=e.asm.hi).apply(null,arguments)},e._MagickImage_Spread=function(){return(e._MagickImage_Spread=e.asm.ii).apply(null,arguments)},e._MagickImage_Sketch=function(){return(e._MagickImage_Sketch=e.asm.ji).apply(null,arguments)},e._MagickImage_Solarize=function(){return(e._MagickImage_Solarize=e.asm.ki).apply(null,arguments)},e._MagickImage_SortPixels=function(){return(e._MagickImage_SortPixels=e.asm.li).apply(null,arguments)},e._MagickImage_Splice=function(){return(e._MagickImage_Splice=e.asm.mi).apply(null,arguments)},e._MagickImage_Statistic=function(){return(e._MagickImage_Statistic=e.asm.ni).apply(null,arguments)},e._MagickImage_Statistics=function(){return(e._MagickImage_Statistics=e.asm.oi).apply(null,arguments)},e._MagickImage_Stegano=function(){return(e._MagickImage_Stegano=e.asm.pi).apply(null,arguments)},e._MagickImage_Stereo=function(){return(e._MagickImage_Stereo=e.asm.qi).apply(null,arguments)},e._MagickImage_Strip=function(){return(e._MagickImage_Strip=e.asm.ri).apply(null,arguments)},e._MagickImage_SubImageSearch=function(){return(e._MagickImage_SubImageSearch=e.asm.si).apply(null,arguments)},e._MagickImage_Swirl=function(){return(e._MagickImage_Swirl=e.asm.ti).apply(null,arguments)},e._MagickImage_Texture=function(){return(e._MagickImage_Texture=e.asm.ui).apply(null,arguments)},e._MagickImage_Threshold=function(){return(e._MagickImage_Threshold=e.asm.vi).apply(null,arguments)},e._MagickImage_Thumbnail=function(){return(e._MagickImage_Thumbnail=e.asm.wi).apply(null,arguments)},e._MagickImage_Tint=function(){return(e._MagickImage_Tint=e.asm.xi).apply(null,arguments)},e._MagickImage_Transparent=function(){return(e._MagickImage_Transparent=e.asm.yi).apply(null,arguments)},e._MagickImage_TransparentChroma=function(){return(e._MagickImage_TransparentChroma=e.asm.zi).apply(null,arguments)},e._MagickImage_Transpose=function(){return(e._MagickImage_Transpose=e.asm.Ai).apply(null,arguments)},e._MagickImage_Transverse=function(){return(e._MagickImage_Transverse=e.asm.Bi).apply(null,arguments)},e._MagickImage_Trim=function(){return(e._MagickImage_Trim=e.asm.Ci).apply(null,arguments)},e._MagickImage_UniqueColors=function(){return(e._MagickImage_UniqueColors=e.asm.Di).apply(null,arguments)},e._MagickImage_UnsharpMask=function(){return(e._MagickImage_UnsharpMask=e.asm.Ei).apply(null,arguments)},e._MagickImage_Vignette=function(){return(e._MagickImage_Vignette=e.asm.Fi).apply(null,arguments)},e._MagickImage_Wave=function(){return(e._MagickImage_Wave=e.asm.Gi).apply(null,arguments)},e._MagickImage_WaveletDenoise=function(){return(e._MagickImage_WaveletDenoise=e.asm.Hi).apply(null,arguments)},e._MagickImage_WhiteBalance=function(){return(e._MagickImage_WhiteBalance=e.asm.Ii).apply(null,arguments)},e._MagickImage_WhiteThreshold=function(){return(e._MagickImage_WhiteThreshold=e.asm.Ji).apply(null,arguments)},e._MagickImage_WriteBlob=function(){return(e._MagickImage_WriteBlob=e.asm.Ki).apply(null,arguments)},e._MagickImage_WriteFile=function(){return(e._MagickImage_WriteFile=e.asm.Li).apply(null,arguments)},e._MagickImage_WriteStream=function(){return(e._MagickImage_WriteStream=e.asm.Mi).apply(null,arguments)},e._MagickImageCollection_Append=function(){return(e._MagickImageCollection_Append=e.asm.Ni).apply(null,arguments)},e._MagickImageCollection_Coalesce=function(){return(e._MagickImageCollection_Coalesce=e.asm.Oi).apply(null,arguments)},e._MagickImageCollection_Combine=function(){return(e._MagickImageCollection_Combine=e.asm.Pi).apply(null,arguments)},e._MagickImageCollection_Complex=function(){return(e._MagickImageCollection_Complex=e.asm.Qi).apply(null,arguments)},e._MagickImageCollection_Deconstruct=function(){return(e._MagickImageCollection_Deconstruct=e.asm.Ri).apply(null,arguments)},e._MagickImageCollection_Dispose=function(){return(e._MagickImageCollection_Dispose=e.asm.Si).apply(null,arguments)},e._MagickImageCollection_Evaluate=function(){return(e._MagickImageCollection_Evaluate=e.asm.Ti).apply(null,arguments)},e._MagickImageCollection_Fx=function(){return(e._MagickImageCollection_Fx=e.asm.Ui).apply(null,arguments)},e._MagickImageCollection_Map=function(){return(e._MagickImageCollection_Map=e.asm.Vi).apply(null,arguments)},e._MagickImageCollection_Merge=function(){return(e._MagickImageCollection_Merge=e.asm.Wi).apply(null,arguments)},e._MagickImageCollection_Montage=function(){return(e._MagickImageCollection_Montage=e.asm.Xi).apply(null,arguments)},e._MagickImageCollection_Morph=function(){return(e._MagickImageCollection_Morph=e.asm.Yi).apply(null,arguments)},e._MagickImageCollection_Optimize=function(){return(e._MagickImageCollection_Optimize=e.asm.Zi).apply(null,arguments)},e._MagickImageCollection_OptimizePlus=function(){return(e._MagickImageCollection_OptimizePlus=e.asm._i).apply(null,arguments)},e._MagickImageCollection_OptimizeTransparency=function(){return(e._MagickImageCollection_OptimizeTransparency=e.asm.$i).apply(null,arguments)},e._MagickImageCollection_Polynomial=function(){return(e._MagickImageCollection_Polynomial=e.asm.aj).apply(null,arguments)},e._MagickImageCollection_Quantize=function(){return(e._MagickImageCollection_Quantize=e.asm.bj).apply(null,arguments)},e._MagickImageCollection_ReadBlob=function(){return(e._MagickImageCollection_ReadBlob=e.asm.cj).apply(null,arguments)},e._MagickImageCollection_ReadFile=function(){return(e._MagickImageCollection_ReadFile=e.asm.dj).apply(null,arguments)},e._MagickImageCollection_ReadStream=function(){return(e._MagickImageCollection_ReadStream=e.asm.ej).apply(null,arguments)},e._MagickImageCollection_Smush=function(){return(e._MagickImageCollection_Smush=e.asm.fj).apply(null,arguments)},e._MagickImageCollection_WriteFile=function(){return(e._MagickImageCollection_WriteFile=e.asm.gj).apply(null,arguments)},e._MagickImageCollection_WriteStream=function(){return(e._MagickImageCollection_WriteStream=e.asm.hj).apply(null,arguments)},e._DoubleMatrix_Create=function(){return(e._DoubleMatrix_Create=e.asm.ij).apply(null,arguments)},e._DoubleMatrix_Dispose=function(){return(e._DoubleMatrix_Dispose=e.asm.jj).apply(null,arguments)},e._OpenCL_GetDevices=function(){return(e._OpenCL_GetDevices=e.asm.kj).apply(null,arguments)},e._OpenCL_GetDevice=function(){return(e._OpenCL_GetDevice=e.asm.lj).apply(null,arguments)},e._OpenCL_GetEnabled=function(){return(e._OpenCL_GetEnabled=e.asm.mj).apply(null,arguments)},e._OpenCL_SetEnabled=function(){return(e._OpenCL_SetEnabled=e.asm.nj).apply(null,arguments)},e._OpenCLDevice_DeviceType_Get=function(){return(e._OpenCLDevice_DeviceType_Get=e.asm.oj).apply(null,arguments)},e._OpenCLDevice_BenchmarkScore_Get=function(){return(e._OpenCLDevice_BenchmarkScore_Get=e.asm.pj).apply(null,arguments)},e._OpenCLDevice_IsEnabled_Get=function(){return(e._OpenCLDevice_IsEnabled_Get=e.asm.qj).apply(null,arguments)},e._OpenCLDevice_IsEnabled_Set=function(){return(e._OpenCLDevice_IsEnabled_Set=e.asm.rj).apply(null,arguments)},e._OpenCLDevice_Name_Get=function(){return(e._OpenCLDevice_Name_Get=e.asm.sj).apply(null,arguments)},e._OpenCLDevice_Version_Get=function(){return(e._OpenCLDevice_Version_Get=e.asm.tj).apply(null,arguments)},e._OpenCLDevice_GetKernelProfileRecords=function(){return(e._OpenCLDevice_GetKernelProfileRecords=e.asm.uj).apply(null,arguments)},e._OpenCLDevice_GetKernelProfileRecord=function(){return(e._OpenCLDevice_GetKernelProfileRecord=e.asm.vj).apply(null,arguments)},e._OpenCLDevice_SetProfileKernels=function(){return(e._OpenCLDevice_SetProfileKernels=e.asm.wj).apply(null,arguments)},e._OpenCLKernelProfileRecord_Count_Get=function(){return(e._OpenCLKernelProfileRecord_Count_Get=e.asm.xj).apply(null,arguments)},e._OpenCLKernelProfileRecord_Name_Get=function(){return(e._OpenCLKernelProfileRecord_Name_Get=e.asm.yj).apply(null,arguments)},e._OpenCLKernelProfileRecord_MaximumDuration_Get=function(){return(e._OpenCLKernelProfileRecord_MaximumDuration_Get=e.asm.zj).apply(null,arguments)},e._OpenCLKernelProfileRecord_MinimumDuration_Get=function(){return(e._OpenCLKernelProfileRecord_MinimumDuration_Get=e.asm.Aj).apply(null,arguments)},e._OpenCLKernelProfileRecord_TotalDuration_Get=function(){return(e._OpenCLKernelProfileRecord_TotalDuration_Get=e.asm.Bj).apply(null,arguments)},e._JpegOptimizer_CompressFile=function(){return(e._JpegOptimizer_CompressFile=e.asm.Cj).apply(null,arguments)},e._JpegOptimizer_CompressStream=function(){return(e._JpegOptimizer_CompressStream=e.asm.Dj).apply(null,arguments)};var Mr=e._malloc=function(){return(Mr=e._malloc=e.asm.Ej).apply(null,arguments)},Pt=e._free=function(){return(Pt=e._free=e.asm.Fj).apply(null,arguments)},zn=function(){return(zn=e.asm.Gj).apply(null,arguments)};e._PixelCollection_Create=function(){return(e._PixelCollection_Create=e.asm.Hj).apply(null,arguments)},e._PixelCollection_Dispose=function(){return(e._PixelCollection_Dispose=e.asm.Ij).apply(null,arguments)},e._PixelCollection_GetArea=function(){return(e._PixelCollection_GetArea=e.asm.Jj).apply(null,arguments)},e._PixelCollection_GetReadOnlyArea=function(){return(e._PixelCollection_GetReadOnlyArea=e.asm.Kj).apply(null,arguments)},e._PixelCollection_SetArea=function(){return(e._PixelCollection_SetArea=e.asm.Lj).apply(null,arguments)},e._PixelCollection_ToByteArray=function(){return(e._PixelCollection_ToByteArray=e.asm.Mj).apply(null,arguments)},e._PixelCollection_ToShortArray=function(){return(e._PixelCollection_ToShortArray=e.asm.Nj).apply(null,arguments)},e._Quantum_Depth_Get=function(){return(e._Quantum_Depth_Get=e.asm.Oj).apply(null,arguments)},e._Quantum_Max_Get=function(){return(e._Quantum_Max_Get=e.asm.Pj).apply(null,arguments)},e._Quantum_ScaleToByte=function(){return(e._Quantum_ScaleToByte=e.asm.Qj).apply(null,arguments)},e._ResourceLimits_Area_Get=function(){return(e._ResourceLimits_Area_Get=e.asm.Rj).apply(null,arguments)},e._ResourceLimits_Area_Set=function(){return(e._ResourceLimits_Area_Set=e.asm.Sj).apply(null,arguments)},e._ResourceLimits_Disk_Get=function(){return(e._ResourceLimits_Disk_Get=e.asm.Tj).apply(null,arguments)},e._ResourceLimits_Disk_Set=function(){return(e._ResourceLimits_Disk_Set=e.asm.Uj).apply(null,arguments)},e._ResourceLimits_Height_Get=function(){return(e._ResourceLimits_Height_Get=e.asm.Vj).apply(null,arguments)},e._ResourceLimits_Height_Set=function(){return(e._ResourceLimits_Height_Set=e.asm.Wj).apply(null,arguments)},e._ResourceLimits_ListLength_Get=function(){return(e._ResourceLimits_ListLength_Get=e.asm.Xj).apply(null,arguments)},e._ResourceLimits_ListLength_Set=function(){return(e._ResourceLimits_ListLength_Set=e.asm.Yj).apply(null,arguments)},e._ResourceLimits_MaxMemoryRequest_Get=function(){return(e._ResourceLimits_MaxMemoryRequest_Get=e.asm.Zj).apply(null,arguments)},e._ResourceLimits_MaxMemoryRequest_Set=function(){return(e._ResourceLimits_MaxMemoryRequest_Set=e.asm._j).apply(null,arguments)},e._ResourceLimits_Memory_Get=function(){return(e._ResourceLimits_Memory_Get=e.asm.$j).apply(null,arguments)},e._ResourceLimits_Memory_Set=function(){return(e._ResourceLimits_Memory_Set=e.asm.ak).apply(null,arguments)},e._ResourceLimits_Thread_Get=function(){return(e._ResourceLimits_Thread_Get=e.asm.bk).apply(null,arguments)},e._ResourceLimits_Thread_Set=function(){return(e._ResourceLimits_Thread_Set=e.asm.ck).apply(null,arguments)},e._ResourceLimits_Throttle_Get=function(){return(e._ResourceLimits_Throttle_Get=e.asm.dk).apply(null,arguments)},e._ResourceLimits_Throttle_Set=function(){return(e._ResourceLimits_Throttle_Set=e.asm.ek).apply(null,arguments)},e._ResourceLimits_Time_Get=function(){return(e._ResourceLimits_Time_Get=e.asm.fk).apply(null,arguments)},e._ResourceLimits_Time_Set=function(){return(e._ResourceLimits_Time_Set=e.asm.gk).apply(null,arguments)},e._ResourceLimits_Width_Get=function(){return(e._ResourceLimits_Width_Get=e.asm.hk).apply(null,arguments)},e._ResourceLimits_Width_Set=function(){return(e._ResourceLimits_Width_Set=e.asm.ik).apply(null,arguments)},e._ResourceLimits_LimitMemory=function(){return(e._ResourceLimits_LimitMemory=e.asm.jk).apply(null,arguments)},e._DrawingSettings_Create=function(){return(e._DrawingSettings_Create=e.asm.kk).apply(null,arguments)},e._DrawingSettings_Dispose=function(){return(e._DrawingSettings_Dispose=e.asm.lk).apply(null,arguments)},e._DrawingSettings_BorderColor_Get=function(){return(e._DrawingSettings_BorderColor_Get=e.asm.mk).apply(null,arguments)},e._DrawingSettings_BorderColor_Set=function(){return(e._DrawingSettings_BorderColor_Set=e.asm.nk).apply(null,arguments)},e._DrawingSettings_FillColor_Get=function(){return(e._DrawingSettings_FillColor_Get=e.asm.ok).apply(null,arguments)},e._DrawingSettings_FillColor_Set=function(){return(e._DrawingSettings_FillColor_Set=e.asm.pk).apply(null,arguments)},e._DrawingSettings_FillRule_Get=function(){return(e._DrawingSettings_FillRule_Get=e.asm.qk).apply(null,arguments)},e._DrawingSettings_FillRule_Set=function(){return(e._DrawingSettings_FillRule_Set=e.asm.rk).apply(null,arguments)},e._DrawingSettings_Font_Get=function(){return(e._DrawingSettings_Font_Get=e.asm.sk).apply(null,arguments)},e._DrawingSettings_Font_Set=function(){return(e._DrawingSettings_Font_Set=e.asm.tk).apply(null,arguments)},e._DrawingSettings_FontFamily_Get=function(){return(e._DrawingSettings_FontFamily_Get=e.asm.uk).apply(null,arguments)},e._DrawingSettings_FontFamily_Set=function(){return(e._DrawingSettings_FontFamily_Set=e.asm.vk).apply(null,arguments)},e._DrawingSettings_FontPointsize_Get=function(){return(e._DrawingSettings_FontPointsize_Get=e.asm.wk).apply(null,arguments)},e._DrawingSettings_FontPointsize_Set=function(){return(e._DrawingSettings_FontPointsize_Set=e.asm.xk).apply(null,arguments)},e._DrawingSettings_FontStyle_Get=function(){return(e._DrawingSettings_FontStyle_Get=e.asm.yk).apply(null,arguments)},e._DrawingSettings_FontStyle_Set=function(){return(e._DrawingSettings_FontStyle_Set=e.asm.zk).apply(null,arguments)},e._DrawingSettings_FontWeight_Get=function(){return(e._DrawingSettings_FontWeight_Get=e.asm.Ak).apply(null,arguments)},e._DrawingSettings_FontWeight_Set=function(){return(e._DrawingSettings_FontWeight_Set=e.asm.Bk).apply(null,arguments)},e._DrawingSettings_StrokeAntiAlias_Get=function(){return(e._DrawingSettings_StrokeAntiAlias_Get=e.asm.Ck).apply(null,arguments)},e._DrawingSettings_StrokeAntiAlias_Set=function(){return(e._DrawingSettings_StrokeAntiAlias_Set=e.asm.Dk).apply(null,arguments)},e._DrawingSettings_StrokeColor_Get=function(){return(e._DrawingSettings_StrokeColor_Get=e.asm.Ek).apply(null,arguments)},e._DrawingSettings_StrokeColor_Set=function(){return(e._DrawingSettings_StrokeColor_Set=e.asm.Fk).apply(null,arguments)},e._DrawingSettings_StrokeDashOffset_Get=function(){return(e._DrawingSettings_StrokeDashOffset_Get=e.asm.Gk).apply(null,arguments)},e._DrawingSettings_StrokeDashOffset_Set=function(){return(e._DrawingSettings_StrokeDashOffset_Set=e.asm.Hk).apply(null,arguments)},e._DrawingSettings_StrokeLineCap_Get=function(){return(e._DrawingSettings_StrokeLineCap_Get=e.asm.Ik).apply(null,arguments)},e._DrawingSettings_StrokeLineCap_Set=function(){return(e._DrawingSettings_StrokeLineCap_Set=e.asm.Jk).apply(null,arguments)},e._DrawingSettings_StrokeLineJoin_Get=function(){return(e._DrawingSettings_StrokeLineJoin_Get=e.asm.Kk).apply(null,arguments)},e._DrawingSettings_StrokeLineJoin_Set=function(){return(e._DrawingSettings_StrokeLineJoin_Set=e.asm.Lk).apply(null,arguments)},e._DrawingSettings_StrokeMiterLimit_Get=function(){return(e._DrawingSettings_StrokeMiterLimit_Get=e.asm.Mk).apply(null,arguments)},e._DrawingSettings_StrokeMiterLimit_Set=function(){return(e._DrawingSettings_StrokeMiterLimit_Set=e.asm.Nk).apply(null,arguments)},e._DrawingSettings_StrokeWidth_Get=function(){return(e._DrawingSettings_StrokeWidth_Get=e.asm.Ok).apply(null,arguments)},e._DrawingSettings_StrokeWidth_Set=function(){return(e._DrawingSettings_StrokeWidth_Set=e.asm.Pk).apply(null,arguments)},e._DrawingSettings_TextAntiAlias_Get=function(){return(e._DrawingSettings_TextAntiAlias_Get=e.asm.Qk).apply(null,arguments)},e._DrawingSettings_TextAntiAlias_Set=function(){return(e._DrawingSettings_TextAntiAlias_Set=e.asm.Rk).apply(null,arguments)},e._DrawingSettings_TextDirection_Get=function(){return(e._DrawingSettings_TextDirection_Get=e.asm.Sk).apply(null,arguments)},e._DrawingSettings_TextDirection_Set=function(){return(e._DrawingSettings_TextDirection_Set=e.asm.Tk).apply(null,arguments)},e._DrawingSettings_TextEncoding_Get=function(){return(e._DrawingSettings_TextEncoding_Get=e.asm.Uk).apply(null,arguments)},e._DrawingSettings_TextEncoding_Set=function(){return(e._DrawingSettings_TextEncoding_Set=e.asm.Vk).apply(null,arguments)},e._DrawingSettings_TextGravity_Get=function(){return(e._DrawingSettings_TextGravity_Get=e.asm.Wk).apply(null,arguments)},e._DrawingSettings_TextGravity_Set=function(){return(e._DrawingSettings_TextGravity_Set=e.asm.Xk).apply(null,arguments)},e._DrawingSettings_TextInterlineSpacing_Get=function(){return(e._DrawingSettings_TextInterlineSpacing_Get=e.asm.Yk).apply(null,arguments)},e._DrawingSettings_TextInterlineSpacing_Set=function(){return(e._DrawingSettings_TextInterlineSpacing_Set=e.asm.Zk).apply(null,arguments)},e._DrawingSettings_TextInterwordSpacing_Get=function(){return(e._DrawingSettings_TextInterwordSpacing_Get=e.asm._k).apply(null,arguments)},e._DrawingSettings_TextInterwordSpacing_Set=function(){return(e._DrawingSettings_TextInterwordSpacing_Set=e.asm.$k).apply(null,arguments)},e._DrawingSettings_TextKerning_Get=function(){return(e._DrawingSettings_TextKerning_Get=e.asm.al).apply(null,arguments)},e._DrawingSettings_TextKerning_Set=function(){return(e._DrawingSettings_TextKerning_Set=e.asm.bl).apply(null,arguments)},e._DrawingSettings_TextUnderColor_Get=function(){return(e._DrawingSettings_TextUnderColor_Get=e.asm.cl).apply(null,arguments)},e._DrawingSettings_TextUnderColor_Set=function(){return(e._DrawingSettings_TextUnderColor_Set=e.asm.dl).apply(null,arguments)},e._DrawingSettings_SetAffine=function(){return(e._DrawingSettings_SetAffine=e.asm.el).apply(null,arguments)},e._DrawingSettings_SetFillPattern=function(){return(e._DrawingSettings_SetFillPattern=e.asm.fl).apply(null,arguments)},e._DrawingSettings_SetStrokeDashArray=function(){return(e._DrawingSettings_SetStrokeDashArray=e.asm.gl).apply(null,arguments)},e._DrawingSettings_SetStrokePattern=function(){return(e._DrawingSettings_SetStrokePattern=e.asm.hl).apply(null,arguments)},e._DrawingSettings_SetText=function(){return(e._DrawingSettings_SetText=e.asm.il).apply(null,arguments)},e._MagickSettings_Create=function(){return(e._MagickSettings_Create=e.asm.jl).apply(null,arguments)},e._MagickSettings_Dispose=function(){return(e._MagickSettings_Dispose=e.asm.kl).apply(null,arguments)},e._MagickSettings_AntiAlias_Get=function(){return(e._MagickSettings_AntiAlias_Get=e.asm.ll).apply(null,arguments)},e._MagickSettings_AntiAlias_Set=function(){return(e._MagickSettings_AntiAlias_Set=e.asm.ml).apply(null,arguments)},e._MagickSettings_BackgroundColor_Get=function(){return(e._MagickSettings_BackgroundColor_Get=e.asm.nl).apply(null,arguments)},e._MagickSettings_BackgroundColor_Set=function(){return(e._MagickSettings_BackgroundColor_Set=e.asm.ol).apply(null,arguments)},e._MagickSettings_ColorSpace_Get=function(){return(e._MagickSettings_ColorSpace_Get=e.asm.pl).apply(null,arguments)},e._MagickSettings_ColorSpace_Set=function(){return(e._MagickSettings_ColorSpace_Set=e.asm.ql).apply(null,arguments)},e._MagickSettings_ColorType_Get=function(){return(e._MagickSettings_ColorType_Get=e.asm.rl).apply(null,arguments)},e._MagickSettings_ColorType_Set=function(){return(e._MagickSettings_ColorType_Set=e.asm.sl).apply(null,arguments)},e._MagickSettings_Compression_Get=function(){return(e._MagickSettings_Compression_Get=e.asm.tl).apply(null,arguments)},e._MagickSettings_Compression_Set=function(){return(e._MagickSettings_Compression_Set=e.asm.ul).apply(null,arguments)},e._MagickSettings_Debug_Get=function(){return(e._MagickSettings_Debug_Get=e.asm.vl).apply(null,arguments)},e._MagickSettings_Debug_Set=function(){return(e._MagickSettings_Debug_Set=e.asm.wl).apply(null,arguments)},e._MagickSettings_Density_Get=function(){return(e._MagickSettings_Density_Get=e.asm.xl).apply(null,arguments)},e._MagickSettings_Density_Set=function(){return(e._MagickSettings_Density_Set=e.asm.yl).apply(null,arguments)},e._MagickSettings_Depth_Get=function(){return(e._MagickSettings_Depth_Get=e.asm.zl).apply(null,arguments)},e._MagickSettings_Depth_Set=function(){return(e._MagickSettings_Depth_Set=e.asm.Al).apply(null,arguments)},e._MagickSettings_Endian_Get=function(){return(e._MagickSettings_Endian_Get=e.asm.Bl).apply(null,arguments)},e._MagickSettings_Endian_Set=function(){return(e._MagickSettings_Endian_Set=e.asm.Cl).apply(null,arguments)},e._MagickSettings_Extract_Get=function(){return(e._MagickSettings_Extract_Get=e.asm.Dl).apply(null,arguments)},e._MagickSettings_Extract_Set=function(){return(e._MagickSettings_Extract_Set=e.asm.El).apply(null,arguments)},e._MagickSettings_Format_Get=function(){return(e._MagickSettings_Format_Get=e.asm.Fl).apply(null,arguments)},e._MagickSettings_Format_Set=function(){return(e._MagickSettings_Format_Set=e.asm.Gl).apply(null,arguments)},e._MagickSettings_FontPointsize_Get=function(){return(e._MagickSettings_FontPointsize_Get=e.asm.Hl).apply(null,arguments)},e._MagickSettings_FontPointsize_Set=function(){return(e._MagickSettings_FontPointsize_Set=e.asm.Il).apply(null,arguments)},e._MagickSettings_Interlace_Get=function(){return(e._MagickSettings_Interlace_Get=e.asm.Jl).apply(null,arguments)},e._MagickSettings_Interlace_Set=function(){return(e._MagickSettings_Interlace_Set=e.asm.Kl).apply(null,arguments)},e._MagickSettings_Monochrome_Get=function(){return(e._MagickSettings_Monochrome_Get=e.asm.Ll).apply(null,arguments)},e._MagickSettings_Monochrome_Set=function(){return(e._MagickSettings_Monochrome_Set=e.asm.Ml).apply(null,arguments)},e._MagickSettings_Verbose_Get=function(){return(e._MagickSettings_Verbose_Get=e.asm.Nl).apply(null,arguments)},e._MagickSettings_Verbose_Set=function(){return(e._MagickSettings_Verbose_Set=e.asm.Ol).apply(null,arguments)},e._MagickSettings_SetColorFuzz=function(){return(e._MagickSettings_SetColorFuzz=e.asm.Pl).apply(null,arguments)},e._MagickSettings_SetFileName=function(){return(e._MagickSettings_SetFileName=e.asm.Ql).apply(null,arguments)},e._MagickSettings_SetFont=function(){return(e._MagickSettings_SetFont=e.asm.Rl).apply(null,arguments)},e._MagickSettings_SetNumberScenes=function(){return(e._MagickSettings_SetNumberScenes=e.asm.Sl).apply(null,arguments)},e._MagickSettings_SetOption=function(){return(e._MagickSettings_SetOption=e.asm.Tl).apply(null,arguments)},e._MagickSettings_SetPage=function(){return(e._MagickSettings_SetPage=e.asm.Ul).apply(null,arguments)},e._MagickSettings_SetPing=function(){return(e._MagickSettings_SetPing=e.asm.Vl).apply(null,arguments)},e._MagickSettings_SetQuality=function(){return(e._MagickSettings_SetQuality=e.asm.Wl).apply(null,arguments)},e._MagickSettings_SetScenes=function(){return(e._MagickSettings_SetScenes=e.asm.Xl).apply(null,arguments)},e._MagickSettings_SetScene=function(){return(e._MagickSettings_SetScene=e.asm.Yl).apply(null,arguments)},e._MagickSettings_SetSize=function(){return(e._MagickSettings_SetSize=e.asm.Zl).apply(null,arguments)},e._MontageSettings_Create=function(){return(e._MontageSettings_Create=e.asm._l).apply(null,arguments)},e._MontageSettings_Dispose=function(){return(e._MontageSettings_Dispose=e.asm.$l).apply(null,arguments)},e._MontageSettings_SetBackgroundColor=function(){return(e._MontageSettings_SetBackgroundColor=e.asm.am).apply(null,arguments)},e._MontageSettings_SetBorderColor=function(){return(e._MontageSettings_SetBorderColor=e.asm.bm).apply(null,arguments)},e._MontageSettings_SetBorderWidth=function(){return(e._MontageSettings_SetBorderWidth=e.asm.cm).apply(null,arguments)},e._MontageSettings_SetFillColor=function(){return(e._MontageSettings_SetFillColor=e.asm.dm).apply(null,arguments)},e._MontageSettings_SetFont=function(){return(e._MontageSettings_SetFont=e.asm.em).apply(null,arguments)},e._MontageSettings_SetFontPointsize=function(){return(e._MontageSettings_SetFontPointsize=e.asm.fm).apply(null,arguments)},e._MontageSettings_SetFrameGeometry=function(){return(e._MontageSettings_SetFrameGeometry=e.asm.gm).apply(null,arguments)},e._MontageSettings_SetGeometry=function(){return(e._MontageSettings_SetGeometry=e.asm.hm).apply(null,arguments)},e._MontageSettings_SetGravity=function(){return(e._MontageSettings_SetGravity=e.asm.im).apply(null,arguments)},e._MontageSettings_SetShadow=function(){return(e._MontageSettings_SetShadow=e.asm.jm).apply(null,arguments)},e._MontageSettings_SetStrokeColor=function(){return(e._MontageSettings_SetStrokeColor=e.asm.km).apply(null,arguments)},e._MontageSettings_SetTextureFileName=function(){return(e._MontageSettings_SetTextureFileName=e.asm.lm).apply(null,arguments)},e._MontageSettings_SetTileGeometry=function(){return(e._MontageSettings_SetTileGeometry=e.asm.mm).apply(null,arguments)},e._MontageSettings_SetTitle=function(){return(e._MontageSettings_SetTitle=e.asm.nm).apply(null,arguments)},e._QuantizeSettings_SetColors=function(){return(e._QuantizeSettings_SetColors=e.asm.om).apply(null,arguments)},e._QuantizeSettings_SetColorSpace=function(){return(e._QuantizeSettings_SetColorSpace=e.asm.pm).apply(null,arguments)},e._QuantizeSettings_SetDitherMethod=function(){return(e._QuantizeSettings_SetDitherMethod=e.asm.qm).apply(null,arguments)},e._QuantizeSettings_SetMeasureErrors=function(){return(e._QuantizeSettings_SetMeasureErrors=e.asm.rm).apply(null,arguments)},e._QuantizeSettings_SetTreeDepth=function(){return(e._QuantizeSettings_SetTreeDepth=e.asm.sm).apply(null,arguments)},e._ChannelMoments_Centroid_Get=function(){return(e._ChannelMoments_Centroid_Get=e.asm.tm).apply(null,arguments)},e._ChannelMoments_EllipseAngle_Get=function(){return(e._ChannelMoments_EllipseAngle_Get=e.asm.um).apply(null,arguments)},e._ChannelMoments_EllipseAxis_Get=function(){return(e._ChannelMoments_EllipseAxis_Get=e.asm.vm).apply(null,arguments)},e._ChannelMoments_EllipseEccentricity_Get=function(){return(e._ChannelMoments_EllipseEccentricity_Get=e.asm.wm).apply(null,arguments)},e._ChannelMoments_EllipseIntensity_Get=function(){return(e._ChannelMoments_EllipseIntensity_Get=e.asm.xm).apply(null,arguments)},e._ChannelMoments_GetHuInvariants=function(){return(e._ChannelMoments_GetHuInvariants=e.asm.ym).apply(null,arguments)},e._ChannelPerceptualHash_GetHuPhash=function(){return(e._ChannelPerceptualHash_GetHuPhash=e.asm.zm).apply(null,arguments)},e._ChannelStatistics_Depth_Get=function(){return(e._ChannelStatistics_Depth_Get=e.asm.Am).apply(null,arguments)},e._ChannelStatistics_Entropy_Get=function(){return(e._ChannelStatistics_Entropy_Get=e.asm.Bm).apply(null,arguments)},e._ChannelStatistics_Kurtosis_Get=function(){return(e._ChannelStatistics_Kurtosis_Get=e.asm.Cm).apply(null,arguments)},e._ChannelStatistics_Maximum_Get=function(){return(e._ChannelStatistics_Maximum_Get=e.asm.Dm).apply(null,arguments)},e._ChannelStatistics_Mean_Get=function(){return(e._ChannelStatistics_Mean_Get=e.asm.Em).apply(null,arguments)},e._ChannelStatistics_Minimum_Get=function(){return(e._ChannelStatistics_Minimum_Get=e.asm.Fm).apply(null,arguments)},e._ChannelStatistics_Skewness_Get=function(){return(e._ChannelStatistics_Skewness_Get=e.asm.Gm).apply(null,arguments)},e._ChannelStatistics_StandardDeviation_Get=function(){return(e._ChannelStatistics_StandardDeviation_Get=e.asm.Hm).apply(null,arguments)},e._Moments_DisposeList=function(){return(e._Moments_DisposeList=e.asm.Im).apply(null,arguments)},e._Moments_GetInstance=function(){return(e._Moments_GetInstance=e.asm.Jm).apply(null,arguments)},e._PerceptualHash_DisposeList=function(){return(e._PerceptualHash_DisposeList=e.asm.Km).apply(null,arguments)},e._PerceptualHash_GetInstance=function(){return(e._PerceptualHash_GetInstance=e.asm.Lm).apply(null,arguments)},e._Statistics_DisposeList=function(){return(e._Statistics_DisposeList=e.asm.Mm).apply(null,arguments)},e._Statistics_GetInstance=function(){return(e._Statistics_GetInstance=e.asm.Nm).apply(null,arguments)},e._ConnectedComponent_DisposeList=function(){return(e._ConnectedComponent_DisposeList=e.asm.Om).apply(null,arguments)},e._ConnectedComponent_GetArea=function(){return(e._ConnectedComponent_GetArea=e.asm.Pm).apply(null,arguments)},e._ConnectedComponent_GetCentroid=function(){return(e._ConnectedComponent_GetCentroid=e.asm.Qm).apply(null,arguments)},e._ConnectedComponent_GetColor=function(){return(e._ConnectedComponent_GetColor=e.asm.Rm).apply(null,arguments)},e._ConnectedComponent_GetHeight=function(){return(e._ConnectedComponent_GetHeight=e.asm.Sm).apply(null,arguments)},e._ConnectedComponent_GetId=function(){return(e._ConnectedComponent_GetId=e.asm.Tm).apply(null,arguments)},e._ConnectedComponent_GetWidth=function(){return(e._ConnectedComponent_GetWidth=e.asm.Um).apply(null,arguments)},e._ConnectedComponent_GetX=function(){return(e._ConnectedComponent_GetX=e.asm.Vm).apply(null,arguments)},e._ConnectedComponent_GetY=function(){return(e._ConnectedComponent_GetY=e.asm.Wm).apply(null,arguments)},e._ConnectedComponent_GetInstance=function(){return(e._ConnectedComponent_GetInstance=e.asm.Xm).apply(null,arguments)},e._MagickGeometry_Create=function(){return(e._MagickGeometry_Create=e.asm.Ym).apply(null,arguments)},e._MagickGeometry_Dispose=function(){return(e._MagickGeometry_Dispose=e.asm.Zm).apply(null,arguments)},e._MagickGeometry_X_Get=function(){return(e._MagickGeometry_X_Get=e.asm._m).apply(null,arguments)},e._MagickGeometry_Y_Get=function(){return(e._MagickGeometry_Y_Get=e.asm.$m).apply(null,arguments)},e._MagickGeometry_Width_Get=function(){return(e._MagickGeometry_Width_Get=e.asm.an).apply(null,arguments)},e._MagickGeometry_Height_Get=function(){return(e._MagickGeometry_Height_Get=e.asm.bn).apply(null,arguments)},e._MagickGeometry_Initialize=function(){return(e._MagickGeometry_Initialize=e.asm.cn).apply(null,arguments)},e._MagickRectangle_Dispose=function(){return(e._MagickRectangle_Dispose=e.asm.dn).apply(null,arguments)},e._MagickRectangle_X_Get=function(){return(e._MagickRectangle_X_Get=e.asm.en).apply(null,arguments)},e._MagickRectangle_X_Set=function(){return(e._MagickRectangle_X_Set=e.asm.fn).apply(null,arguments)},e._MagickRectangle_Y_Get=function(){return(e._MagickRectangle_Y_Get=e.asm.gn).apply(null,arguments)},e._MagickRectangle_Y_Set=function(){return(e._MagickRectangle_Y_Set=e.asm.hn).apply(null,arguments)},e._MagickRectangle_Width_Get=function(){return(e._MagickRectangle_Width_Get=e.asm.jn).apply(null,arguments)},e._MagickRectangle_Width_Set=function(){return(e._MagickRectangle_Width_Set=e.asm.kn).apply(null,arguments)},e._MagickRectangle_Height_Get=function(){return(e._MagickRectangle_Height_Get=e.asm.ln).apply(null,arguments)},e._MagickRectangle_Height_Set=function(){return(e._MagickRectangle_Height_Set=e.asm.mn).apply(null,arguments)},e._MagickRectangle_FromPageSize=function(){return(e._MagickRectangle_FromPageSize=e.asm.nn).apply(null,arguments)},e._OffsetInfo_Create=function(){return(e._OffsetInfo_Create=e.asm.on).apply(null,arguments)},e._OffsetInfo_Dispose=function(){return(e._OffsetInfo_Dispose=e.asm.pn).apply(null,arguments)},e._OffsetInfo_SetX=function(){return(e._OffsetInfo_SetX=e.asm.qn).apply(null,arguments)},e._OffsetInfo_SetY=function(){return(e._OffsetInfo_SetY=e.asm.rn).apply(null,arguments)},e._PointInfo_X_Get=function(){return(e._PointInfo_X_Get=e.asm.sn).apply(null,arguments)},e._PointInfo_Y_Get=function(){return(e._PointInfo_Y_Get=e.asm.tn).apply(null,arguments)},e._PrimaryInfo_Dispose=function(){return(e._PrimaryInfo_Dispose=e.asm.un).apply(null,arguments)},e._PrimaryInfo_X_Get=function(){return(e._PrimaryInfo_X_Get=e.asm.vn).apply(null,arguments)},e._PrimaryInfo_X_Set=function(){return(e._PrimaryInfo_X_Set=e.asm.wn).apply(null,arguments)},e._PrimaryInfo_Y_Get=function(){return(e._PrimaryInfo_Y_Get=e.asm.xn).apply(null,arguments)},e._PrimaryInfo_Y_Set=function(){return(e._PrimaryInfo_Y_Set=e.asm.yn).apply(null,arguments)},e._PrimaryInfo_Z_Get=function(){return(e._PrimaryInfo_Z_Get=e.asm.zn).apply(null,arguments)},e._PrimaryInfo_Z_Set=function(){return(e._PrimaryInfo_Z_Set=e.asm.An).apply(null,arguments)},e._StringInfo_Length_Get=function(){return(e._StringInfo_Length_Get=e.asm.Bn).apply(null,arguments)},e._StringInfo_Datum_Get=function(){return(e._StringInfo_Datum_Get=e.asm.Cn).apply(null,arguments)},e._TypeMetric_Dispose=function(){return(e._TypeMetric_Dispose=e.asm.Dn).apply(null,arguments)},e._TypeMetric_Ascent_Get=function(){return(e._TypeMetric_Ascent_Get=e.asm.En).apply(null,arguments)},e._TypeMetric_Descent_Get=function(){return(e._TypeMetric_Descent_Get=e.asm.Fn).apply(null,arguments)},e._TypeMetric_MaxHorizontalAdvance_Get=function(){return(e._TypeMetric_MaxHorizontalAdvance_Get=e.asm.Gn).apply(null,arguments)},e._TypeMetric_TextHeight_Get=function(){return(e._TypeMetric_TextHeight_Get=e.asm.Hn).apply(null,arguments)},e._TypeMetric_TextWidth_Get=function(){return(e._TypeMetric_TextWidth_Get=e.asm.In).apply(null,arguments)},e._TypeMetric_UnderlinePosition_Get=function(){return(e._TypeMetric_UnderlinePosition_Get=e.asm.Jn).apply(null,arguments)},e._TypeMetric_UnderlineThickness_Get=function(){return(e._TypeMetric_UnderlineThickness_Get=e.asm.Kn).apply(null,arguments)};var as=function(){return(as=e.asm.Ln).apply(null,arguments)};e.__embind_initialize_bindings=function(){return(e.__embind_initialize_bindings=e.asm.Mn).apply(null,arguments)};var ss=function(){return(ss=e.asm.Nn).apply(null,arguments)},ae=function(){return(ae=e.asm.On).apply(null,arguments)},se=function(){return(se=e.asm.Pn).apply(null,arguments)},oe=function(){return(oe=e.asm.Qn).apply(null,arguments)},os=function(){return(os=e.asm.Rn).apply(null,arguments)},ls=function(){return(ls=e.asm.Sn).apply(null,arguments)};function pc(a,s,u,g){var p=se();try{ee(a)(s,u,g)}catch(y){if(oe(p),y!==y+0)throw y;ae(1,0)}}function fc(a,s,u,g){var p=se();try{return ee(a)(s,u,g)}catch(y){if(oe(p),y!==y+0)throw y;ae(1,0)}}function dc(a,s,u){var g=se();try{return ee(a)(s,u)}catch(p){if(oe(g),p!==p+0)throw p;ae(1,0)}}function yc(a,s){var u=se();try{return ee(a)(s)}catch(g){if(oe(u),g!==g+0)throw g;ae(1,0)}}function Mc(a,s){var u=se();try{ee(a)(s)}catch(g){if(oe(u),g!==g+0)throw g;ae(1,0)}}function vc(a,s,u){var g=se();try{ee(a)(s,u)}catch(p){if(oe(g),p!==p+0)throw p;ae(1,0)}}function Sc(a,s,u,g,p){var y=se();try{ee(a)(s,u,g,p)}catch(v){if(oe(y),v!==v+0)throw v;ae(1,0)}}function kc(a,s,u,g,p){var y=se();try{return ee(a)(s,u,g,p)}catch(v){if(oe(y),v!==v+0)throw v;ae(1,0)}}function wc(a,s,u,g){var p=se();try{return ee(a)(s,u,g)}catch(y){if(oe(p),y!==y+0)throw y;return ae(1,0),0n}}function Cc(a,s){var u=se();try{return ee(a)(s)}catch(g){if(oe(u),g!==g+0)throw g;return ae(1,0),0n}}function Ic(a,s,u,g,p,y,v,w,C){var D=se();try{return ee(a)(s,u,g,p,y,v,w,C)}catch(N){if(oe(D),N!==N+0)throw N;ae(1,0)}}function Ec(a){var s=se();try{return ee(a)()}catch(u){if(oe(s),u!==u+0)throw u;ae(1,0)}}function xc(a,s,u,g,p,y,v){var w=se();try{return ee(a)(s,u,g,p,y,v)}catch(C){if(oe(w),C!==C+0)throw C;ae(1,0)}}function bc(a,s,u,g,p){var y=se();try{return ee(a)(s,u,g,p)}catch(v){if(oe(y),v!==v+0)throw v;ae(1,0)}}function Dc(a,s,u){var g=se();try{return ee(a)(s,u)}catch(p){if(oe(g),p!==p+0)throw p;ae(1,0)}}function Tc(a,s,u){var g=se();try{ee(a)(s,u)}catch(p){if(oe(g),p!==p+0)throw p;ae(1,0)}}function Ac(a,s,u,g,p,y){var v=se();try{return ee(a)(s,u,g,p,y)}catch(w){if(oe(v),w!==w+0)throw w;ae(1,0)}}function Pc(a,s,u){var g=se();try{return ee(a)(s,u)}catch(p){if(oe(g),p!==p+0)throw p;ae(1,0)}}function Rc(a){var s=se();try{ee(a)()}catch(u){if(oe(s),u!==u+0)throw u;ae(1,0)}}function Gc(a,s,u,g,p,y){var v=se();try{ee(a)(s,u,g,p,y)}catch(w){if(oe(v),w!==w+0)throw w;ae(1,0)}}function Nc(a,s,u,g,p,y,v,w){var C=se();try{return ee(a)(s,u,g,p,y,v,w)}catch(D){if(oe(C),D!==D+0)throw D;ae(1,0)}}function Oc(a,s,u,g,p,y,v,w,C,D){var N=se();try{return ee(a)(s,u,g,p,y,v,w,C,D)}catch(L){if(oe(N),L!==L+0)throw L;ae(1,0)}}function Fc(a,s,u,g){var p=se();try{ee(a)(s,u,g)}catch(y){if(oe(p),y!==y+0)throw y;ae(1,0)}}function Lc(a,s,u,g,p,y,v,w,C,D,N){var L=se();try{ee(a)(s,u,g,p,y,v,w,C,D,N)}catch(G){if(oe(L),G!==G+0)throw G;ae(1,0)}}function Wc(a,s,u,g,p,y,v,w,C,D){var N=se();try{ee(a)(s,u,g,p,y,v,w,C,D)}catch(L){if(oe(N),L!==L+0)throw L;ae(1,0)}}function Bc(a,s,u,g,p,y,v){var w=se();try{ee(a)(s,u,g,p,y,v)}catch(C){if(oe(w),C!==C+0)throw C;ae(1,0)}}function Vc(a,s,u,g,p,y,v,w){var C=se();try{ee(a)(s,u,g,p,y,v,w)}catch(D){if(oe(C),D!==D+0)throw D;ae(1,0)}}function zc(a,s,u,g,p,y,v,w,C,D,N,L){var G=se();try{return ee(a)(s,u,g,p,y,v,w,C,D,N,L)}catch(z){if(oe(G),z!==z+0)throw z;ae(1,0)}}function Uc(a,s,u,g,p,y){var v=se();try{return ee(a)(s,u,g,p,y)}catch(w){if(oe(v),w!==w+0)throw w;ae(1,0)}}function Hc(a,s,u,g,p,y,v,w,C){var D=se();try{ee(a)(s,u,g,p,y,v,w,C)}catch(N){if(oe(D),N!==N+0)throw N;ae(1,0)}}e.addFunction=_c,e.setValue=On,e.getValue=Nn,e.UTF8ToString=Wn,e.stringToUTF8=fn,e.lengthBytesUTF8=Qe,e.FS=h;var vr;st=function a(){vr||us(),vr||(st=a)};function us(){if(at>0||(qe(),at>0))return;function a(){vr||(vr=!0,e.calledRun=!0,!F&&(it(),r(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),Tt()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),a()},1)):a()}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return us(),t.ready}})(),oi=(n=>(n[n.Undefined=0]="Undefined",n[n.Activate=1]="Activate",n[n.Associate=2]="Associate",n[n.Background=3]="Background",n[n.Copy=4]="Copy",n[n.Deactivate=5]="Deactivate",n[n.Discrete=6]="Discrete",n[n.Disassociate=7]="Disassociate",n[n.Extract=8]="Extract",n[n.Off=9]="Off",n[n.On=10]="On",n[n.Opaque=11]="Opaque",n[n.Remove=12]="Remove",n[n.Set=13]="Set",n[n.Shape=14]="Shape",n[n.Transparent=15]="Transparent",n[n.OffIfOpaque=16]="OffIfOpaque",n))(oi||{}),V=(n=>(n[n.Red=0]="Red",n[n.Cyan=0]="Cyan",n[n.Gray=0]="Gray",n[n.Green=1]="Green",n[n.Magenta=1]="Magenta",n[n.Blue=2]="Blue",n[n.Yellow=2]="Yellow",n[n.Black=3]="Black",n[n.Alpha=4]="Alpha",n[n.Index=5]="Index",n[n.Meta0=10]="Meta0",n[n.Meta1=11]="Meta1",n[n.Meta2=12]="Meta2",n[n.Meta3=13]="Meta3",n[n.Meta4=14]="Meta4",n[n.Meta5=15]="Meta5",n[n.Meta6=16]="Meta6",n[n.Meta7=17]="Meta7",n[n.Meta8=18]="Meta8",n[n.Meta9=19]="Meta9",n[n.Meta10=20]="Meta10",n[n.Meta11=21]="Meta11",n[n.Meta12=22]="Meta12",n[n.Meta13=23]="Meta13",n[n.Meta14=24]="Meta14",n[n.Meta15=25]="Meta15",n[n.Meta16=26]="Meta16",n[n.Meta17=27]="Meta17",n[n.Meta18=28]="Meta18",n[n.Meta19=29]="Meta19",n[n.Meta20=30]="Meta20",n[n.Meta21=31]="Meta21",n[n.Meta22=32]="Meta22",n[n.Meta23=33]="Meta23",n[n.Meta24=34]="Meta24",n[n.Meta25=35]="Meta25",n[n.Meta26=36]="Meta26",n[n.Meta27=37]="Meta27",n[n.Meta28=38]="Meta28",n[n.Meta29=39]="Meta29",n[n.Meta30=40]="Meta30",n[n.Meta31=41]="Meta31",n[n.Meta32=42]="Meta32",n[n.Meta33=43]="Meta33",n[n.Meta34=44]="Meta34",n[n.Meta35=45]="Meta35",n[n.Meta36=46]="Meta36",n[n.Meta37=47]="Meta37",n[n.Meta38=48]="Meta38",n[n.Meta39=49]="Meta39",n[n.Meta40=50]="Meta40",n[n.Meta41=51]="Meta41",n[n.Meta42=52]="Meta42",n[n.Meta43=53]="Meta43",n[n.Meta44=54]="Meta44",n[n.Meta45=55]="Meta45",n[n.Meta46=56]="Meta46",n[n.Meta47=57]="Meta47",n[n.Meta48=58]="Meta48",n[n.Meta49=59]="Meta49",n[n.Meta50=60]="Meta50",n[n.Meta51=61]="Meta51",n[n.Meta52=62]="Meta52",n[n.Composite=64]="Composite",n))(V||{}),Ie=(n=>(n[n.Undefined=0]="Undefined",n[n.Red=1]="Red",n[n.Gray=1]="Gray",n[n.Cyan=1]="Cyan",n[n.Green=2]="Green",n[n.Magenta=2]="Magenta",n[n.Blue=4]="Blue",n[n.Yellow=4]="Yellow",n[n.Black=8]="Black",n[n.Alpha=16]="Alpha",n[n.Opacity=16]="Opacity",n[n.Index=32]="Index",n[n.Composite=31]="Composite",n[n.TrueAlpha=256]="TrueAlpha",n[n.RGB=7]="RGB",n[n.CMYK=15]="CMYK",n[n.CMYKA=31]="CMYKA",n[n.Meta0=1<<V.Meta0]="Meta0",n[n.Meta1=1<<V.Meta1]="Meta1",n[n.Meta2=1<<V.Meta2]="Meta2",n[n.Meta3=1<<V.Meta3]="Meta3",n[n.Meta4=1<<V.Meta4]="Meta4",n[n.Meta5=1<<V.Meta5]="Meta5",n[n.Meta6=1<<V.Meta6]="Meta6",n[n.Meta7=1<<V.Meta7]="Meta7",n[n.Meta8=1<<V.Meta8]="Meta8",n[n.Meta9=1<<V.Meta9]="Meta9",n[n.Meta10=1<<V.Meta10]="Meta10",n[n.Meta11=1<<V.Meta11]="Meta11",n[n.Meta12=1<<V.Meta12]="Meta12",n[n.Meta13=1<<V.Meta13]="Meta13",n[n.Meta14=1<<V.Meta14]="Meta14",n[n.Meta15=1<<V.Meta15]="Meta15",n[n.Meta16=1<<V.Meta16]="Meta16",n[n.Meta17=1<<V.Meta17]="Meta17",n[n.Meta18=1<<V.Meta18]="Meta18",n[n.Meta19=1<<V.Meta19]="Meta19",n[n.Meta20=1<<V.Meta20]="Meta20",n[n.Meta21=1<<V.Meta21]="Meta21",n[n.Meta22=1<<V.Meta22]="Meta22",n[n.Meta23=1<<V.Meta23]="Meta23",n[n.Meta24=1<<V.Meta24]="Meta24",n[n.Meta25=1<<V.Meta25]="Meta25",n[n.Meta26=1<<V.Meta26]="Meta26",n[n.Meta27=1<<V.Meta27]="Meta27",n[n.Meta28=1<<V.Meta28]="Meta28",n[n.Meta29=1<<V.Meta29]="Meta29",n[n.Meta30=1<<V.Meta30]="Meta30",n[n.Meta31=1<<V.Meta31]="Meta31",n[n.Meta32=1<<V.Meta32]="Meta32",n[n.Meta33=1<<V.Meta33]="Meta33",n[n.Meta34=1<<V.Meta34]="Meta34",n[n.Meta35=1<<V.Meta35]="Meta35",n[n.Meta36=1<<V.Meta36]="Meta36",n[n.Meta37=1<<V.Meta37]="Meta37",n[n.Meta38=1<<V.Meta38]="Meta38",n[n.Meta39=1<<V.Meta39]="Meta39",n[n.Meta40=1<<V.Meta40]="Meta40",n[n.Meta41=1<<V.Meta41]="Meta41",n[n.Meta42=1<<V.Meta42]="Meta42",n[n.Meta43=1<<V.Meta43]="Meta43",n[n.Meta44=1<<V.Meta44]="Meta44",n[n.Meta45=1<<V.Meta45]="Meta45",n[n.Meta46=1<<V.Meta46]="Meta46",n[n.Meta47=1<<V.Meta47]="Meta47",n[n.Meta48=1<<V.Meta48]="Meta48",n[n.Meta49=1<<V.Meta49]="Meta49",n[n.Meta50=1<<V.Meta50]="Meta50",n[n.Meta51=1<<V.Meta51]="Meta51",n[n.Meta52=1<<V.Meta52]="Meta52",n[n.All=134217727]="All",n))(Ie||{});class hs{constructor(t,e,r,i){this.red=t,this.green=e,this.blue=r,this.white=i}red;green;blue;white}var li=(n=>(n[n.Undefined=0]="Undefined",n[n.CMY=1]="CMY",n[n.CMYK=2]="CMYK",n[n.Gray=3]="Gray",n[n.HCL=4]="HCL",n[n.HCLp=5]="HCLp",n[n.HSB=6]="HSB",n[n.HSI=7]="HSI",n[n.HSL=8]="HSL",n[n.HSV=9]="HSV",n[n.HWB=10]="HWB",n[n.Lab=11]="Lab",n[n.LCH=12]="LCH",n[n.LCHab=13]="LCHab",n[n.LCHuv=14]="LCHuv",n[n.Log=15]="Log",n[n.LMS=16]="LMS",n[n.Luv=17]="Luv",n[n.OHTA=18]="OHTA",n[n.Rec601YCbCr=19]="Rec601YCbCr",n[n.Rec709YCbCr=20]="Rec709YCbCr",n[n.RGB=21]="RGB",n[n.scRGB=22]="scRGB",n[n.sRGB=23]="sRGB",n[n.Transparent=24]="Transparent",n[n.XyY=25]="XyY",n[n.XYZ=26]="XYZ",n[n.YCbCr=27]="YCbCr",n[n.YCC=28]="YCC",n[n.YDbDr=29]="YDbDr",n[n.YIQ=30]="YIQ",n[n.YPbPr=31]="YPbPr",n[n.YUV=32]="YUV",n[n.LinearGray=33]="LinearGray",n))(li||{}),Un=(n=>(n[n.Undefined=0]="Undefined",n[n.Alpha=1]="Alpha",n[n.Atop=2]="Atop",n[n.Blend=3]="Blend",n[n.Blur=4]="Blur",n[n.Bumpmap=5]="Bumpmap",n[n.ChangeMask=6]="ChangeMask",n[n.Clear=7]="Clear",n[n.ColorBurn=8]="ColorBurn",n[n.ColorDodge=9]="ColorDodge",n[n.Colorize=10]="Colorize",n[n.CopyBlack=11]="CopyBlack",n[n.CopyBlue=12]="CopyBlue",n[n.Copy=13]="Copy",n[n.CopyCyan=14]="CopyCyan",n[n.CopyGreen=15]="CopyGreen",n[n.CopyMagenta=16]="CopyMagenta",n[n.CopyAlpha=17]="CopyAlpha",n[n.CopyRed=18]="CopyRed",n[n.CopyYellow=19]="CopyYellow",n[n.Darken=20]="Darken",n[n.DarkenIntensity=21]="DarkenIntensity",n[n.Difference=22]="Difference",n[n.Displace=23]="Displace",n[n.Dissolve=24]="Dissolve",n[n.Distort=25]="Distort",n[n.DivideDst=26]="DivideDst",n[n.DivideSrc=27]="DivideSrc",n[n.DstAtop=28]="DstAtop",n[n.Dst=29]="Dst",n[n.DstIn=30]="DstIn",n[n.DstOut=31]="DstOut",n[n.DstOver=32]="DstOver",n[n.Exclusion=33]="Exclusion",n[n.HardLight=34]="HardLight",n[n.HardMix=35]="HardMix",n[n.Hue=36]="Hue",n[n.In=37]="In",n[n.Intensity=38]="Intensity",n[n.Lighten=39]="Lighten",n[n.LightenIntensity=40]="LightenIntensity",n[n.LinearBurn=41]="LinearBurn",n[n.LinearDodge=42]="LinearDodge",n[n.LinearLight=43]="LinearLight",n[n.Luminize=44]="Luminize",n[n.Mathematics=45]="Mathematics",n[n.MinusDst=46]="MinusDst",n[n.MinusSrc=47]="MinusSrc",n[n.Modulate=48]="Modulate",n[n.ModulusAdd=49]="ModulusAdd",n[n.ModulusSubtract=50]="ModulusSubtract",n[n.Multiply=51]="Multiply",n[n.No=52]="No",n[n.Out=53]="Out",n[n.Over=54]="Over",n[n.Overlay=55]="Overlay",n[n.PegtopLight=56]="PegtopLight",n[n.PinLight=57]="PinLight",n[n.Plus=58]="Plus",n[n.Replace=59]="Replace",n[n.Saturate=60]="Saturate",n[n.Screen=61]="Screen",n[n.SoftLight=62]="SoftLight",n[n.SrcAtop=63]="SrcAtop",n[n.Src=64]="Src",n[n.SrcIn=65]="SrcIn",n[n.SrcOut=66]="SrcOut",n[n.SrcOver=67]="SrcOver",n[n.Threshold=68]="Threshold",n[n.VividLight=69]="VividLight",n[n.Xor=70]="Xor",n[n.Stereo=71]="Stereo",n[n.Freeze=72]="Freeze",n[n.Interpolate=73]="Interpolate",n[n.Negate=74]="Negate",n[n.Reflect=75]="Reflect",n[n.SoftBurn=76]="SoftBurn",n[n.SoftDodge=77]="SoftDodge",n[n.Stamp=78]="Stamp",n[n.RMSE=79]="RMSE",n[n.SaliencyBlend=80]="SaliencyBlend",n[n.SeamlessBlend=81]="SeamlessBlend",n))(Un||{}),Hn=(n=>(n[n.Warning=300]="Warning",n[n.ResourceLimitWarning=300]="ResourceLimitWarning",n[n.TypeWarning=305]="TypeWarning",n[n.OptionWarning=310]="OptionWarning",n[n.DelegateWarning=315]="DelegateWarning",n[n.MissingDelegateWarning=320]="MissingDelegateWarning",n[n.CorruptImageWarning=325]="CorruptImageWarning",n[n.FileOpenWarning=330]="FileOpenWarning",n[n.BlobWarning=335]="BlobWarning",n[n.StreamWarning=340]="StreamWarning",n[n.CacheWarning=345]="CacheWarning",n[n.CoderWarning=350]="CoderWarning",n[n.FilterWarning=352]="FilterWarning",n[n.ModuleWarning=355]="ModuleWarning",n[n.DrawWarning=360]="DrawWarning",n[n.ImageWarning=365]="ImageWarning",n[n.WandWarning=370]="WandWarning",n[n.RandomWarning=375]="RandomWarning",n[n.XServerWarning=380]="XServerWarning",n[n.MonitorWarning=385]="MonitorWarning",n[n.RegistryWarning=390]="RegistryWarning",n[n.ConfigureWarning=395]="ConfigureWarning",n[n.PolicyWarning=399]="PolicyWarning",n[n.Error=400]="Error",n[n.ResourceLimitError=400]="ResourceLimitError",n[n.TypeError=405]="TypeError",n[n.OptionError=410]="OptionError",n[n.DelegateError=415]="DelegateError",n[n.MissingDelegateError=420]="MissingDelegateError",n[n.CorruptImageError=425]="CorruptImageError",n[n.FileOpenError=430]="FileOpenError",n[n.BlobError=435]="BlobError",n[n.StreamError=440]="StreamError",n[n.CacheError=445]="CacheError",n[n.CoderError=450]="CoderError",n[n.FilterError=452]="FilterError",n[n.ModuleError=455]="ModuleError",n[n.DrawError=460]="DrawError",n[n.ImageError=465]="ImageError",n[n.WandError=470]="WandError",n[n.RandomError=475]="RandomError",n[n.XServerError=480]="XServerError",n[n.MonitorError=485]="MonitorError",n[n.RegistryError=490]="RegistryError",n[n.ConfigureError=495]="ConfigureError",n[n.PolicyError=499]="PolicyError",n))(Hn||{});class ke extends Error{_relatedErrors=[];constructor(t,e=Hn.Error){super(t),this.severity=e}severity;get relatedErrors(){return this._relatedErrors}_setRelatedErrors(t){this._relatedErrors=t}}class Rt{static get depth(){return f._api._Quantum_Depth_Get()}static get max(){return f._api._Quantum_Max_Get()}}function Xe(n){return n===0?null:f._api.UTF8ToString(n)}function wr(n,t,e){const r=n.lengthBytesUTF8(t)+1,i=n._malloc(r);try{return n.stringToUTF8(t,i,r),e(i)}finally{n._free(i)}}function ne(n,t){return wr(f._api,n,t)}let $t=class cs{constructor(t,e,r,i,o){if(t!==void 0)if(typeof t=="string"){let l=0;try{l=f._api._MagickColor_Create(),ne(t,c=>{if(f._api._MagickColor_Initialize(l,c)===0)throw new ke("invalid color specified");this.initialize(l)})}finally{f._api._free(l)}}else this.r=t,this.g=e??0,this.b=r??0,o===void 0?this.a=i??Rt.max:(this.k=i??0,this.a=o,this.isCmyk=!0)}r=0;g=0;b=0;a=0;k=0;isCmyk=!1;static _create(t){const e=new cs;return e.initialize(t),e}toShortString(){return this.a!==Rt.max?this.toString():this.isCmyk?`cmyka(${this.r},${this.g},${this.b},${this.k})`:`#${this.toHex(this.r)}${this.toHex(this.g)}${this.toHex(this.b)}`}toString(){return this.isCmyk?`cmyka(${this.r},${this.g},${this.b},${this.k},${(this.a/Rt.max).toFixed(4)})`:`#${this.toHex(this.r)}${this.toHex(this.g)}${this.toHex(this.b)}${this.toHex(this.a)}`}_use(t){let e=0;try{e=f._api._MagickColor_Create(),f._api._MagickColor_Red_Set(e,this.r),f._api._MagickColor_Green_Set(e,this.g),f._api._MagickColor_Blue_Set(e,this.b),f._api._MagickColor_Alpha_Set(e,this.a),f._api._MagickColor_IsCMYK_Set(e,this.isCmyk?1:0),t(e)}finally{f._api._free(e)}}initialize(t){this.r=f._api._MagickColor_Red_Get(t),this.g=f._api._MagickColor_Green_Get(t),this.b=f._api._MagickColor_Blue_Get(t),this.a=f._api._MagickColor_Alpha_Get(t),this.isCmyk=f._api._MagickColor_IsCMYK_Get(t)===1}toHex(t){return t.toString(16).padStart(2,"0")}};var ot=(n=>(n[n.NoValue=0]="NoValue",n[n.PercentValue=4096]="PercentValue",n[n.IgnoreAspectRatio=8192]="IgnoreAspectRatio",n[n.Less=16384]="Less",n[n.Greater=32768]="Greater",n[n.FillArea=65536]="FillArea",n[n.LimitPixels=131072]="LimitPixels",n[n.AspectRatio=1048576]="AspectRatio",n))(ot||{});class je{_width=0;_height=0;_x=0;_y=0;_aspectRatio=!1;_fillArea=!1;_greater=!1;_isPercentage=!1;_ignoreAspectRatio=!1;_less=!1;_limitPixels=!1;constructor(t,e,r,i){if(typeof t=="number"){if(r!==void 0&&i!==void 0?(this._width=r,this._height=i,this._x=t,this._y=e??0):(this._width=t,this._height=e??this._width,this._x=0,this._y=0),this._width<0)throw new ke("negative width is not allowed");if(this._height<0)throw new ke("negative height is not allowed")}else{const o=f._api._MagickGeometry_Create();try{ne(t,l=>{const c=f._api._MagickGeometry_Initialize(o,l);if(c===ot.NoValue)throw new ke("invalid geometry specified");this.hasFlag(c,ot.AspectRatio)?this.initializeFromAspectRation(o,t):this.initialize(o,c)})}finally{f._api._MagickGeometry_Dispose(o)}}}get aspectRatio(){return this._aspectRatio}get fillArea(){return this._fillArea}set fillArea(t){this._fillArea=t}get greater(){return this._greater}set greater(t){this._greater=t}get height(){return this._height}set height(t){this._height=t}get ignoreAspectRatio(){return this._ignoreAspectRatio}set ignoreAspectRatio(t){this._ignoreAspectRatio=t}get isPercentage(){return this._isPercentage}set isPercentage(t){this._isPercentage=t}get less(){return this._less}set less(t){this._less=t}get limitPixels(){return this._limitPixels}set limitPixels(t){this._limitPixels=t}get width(){return this._width}set width(t){this._width=t}get x(){return this._x}set x(t){this._x=t}get y(){return this._y}set y(t){this._y=t}toString(){if(this._aspectRatio)return this._width+":"+this._height;let t="";return this._width>0&&(t+=this._width.toString()),this._height>0?t+="x"+this._height.toString():t+="x",(this._x!=0||this._y!=0)&&(this._x>=0&&(t+="+"),t+=this._x,this.y>=0&&(t+="+"),t+=this.y),this._fillArea&&(t+="^"),this._greater&&(t+=">"),this._isPercentage&&(t+="%"),this._ignoreAspectRatio&&(t+="!"),this._less&&(t+="<"),this._limitPixels&&(t+="@"),t}static _fromRectangle(t){if(t===0)throw new ke("unable to allocate memory");try{const e=f._api._MagickRectangle_Width_Get(t),r=f._api._MagickRectangle_Height_Get(t),i=f._api._MagickRectangle_X_Get(t),o=f._api._MagickRectangle_Y_Get(t);return new je(i,o,e,r)}finally{f._api._MagickRectangle_Dispose(t)}}_toRectangle(t){const e=f._api._MagickRectangle_Create();if(e===0)throw new ke("unable to allocate memory");try{f._api._MagickRectangle_Width_Set(e,this._width),f._api._MagickRectangle_Height_Set(e,this._height),f._api._MagickRectangle_X_Set(e,this._x),f._api._MagickRectangle_Y_Set(e,this._y),t(e)}finally{f._api._MagickRectangle_Dispose(e)}}initialize(t,e){this._width=f._api._MagickGeometry_Width_Get(t),this._height=f._api._MagickGeometry_Height_Get(t),this._x=f._api._MagickGeometry_X_Get(t),this._y=f._api._MagickGeometry_Y_Get(t),this._ignoreAspectRatio=this.hasFlag(e,ot.IgnoreAspectRatio),this._isPercentage=this.hasFlag(e,ot.PercentValue),this._fillArea=this.hasFlag(e,ot.FillArea),this._greater=this.hasFlag(e,ot.Greater),this._less=this.hasFlag(e,ot.Less),this._limitPixels=this.hasFlag(e,ot.LimitPixels)}initializeFromAspectRation(t,e){this._aspectRatio=!0;const r=e.split(":");this._width=this.parseNumber(r[0]),this._height=this.parseNumber(r[1]),this._x=f._api._MagickGeometry_X_Get(t),this._y=f._api._MagickGeometry_Y_Get(t)}parseNumber(t){let e=0;for(;e<t.length&&!this.isNumber(t[e]);)e++;const r=e;for(;e<t.length&&this.isNumber(t[e]);)e++;return parseInt(t.substr(r,e-r))}isNumber(t){return t>="0"&&t<="9"}hasFlag(t,e){return(t&e)===e}}class lt{constructor(t,e){this.x=t,this.y=e??t}x;y;static _create(t){return t===0?new lt(0,0):new lt(f._api._PointInfo_X_Get(t),f._api._PointInfo_Y_Get(t))}}class Cr{constructor(t){this.area=f._api._ConnectedComponent_GetArea(t),this.centroid=lt._create(f._api._ConnectedComponent_GetCentroid(t)),this.color=$t._create(f._api._ConnectedComponent_GetColor(t)),this.height=f._api._ConnectedComponent_GetHeight(t),this.id=f._api._ConnectedComponent_GetId(t),this.width=f._api._ConnectedComponent_GetWidth(t),this.x=f._api._ConnectedComponent_GetX(t),this.y=f._api._ConnectedComponent_GetY(t)}area;centroid;color;height;id;width;x;y;static _create(t,e){const r=[];if(t===0)return r;for(let i=0;i<e;i++){const o=f._api._ConnectedComponent_GetInstance(t,i);o===0||f._api._ConnectedComponent_GetArea(o)<Number.EPSILON||r.push(new Cr(o))}return r}toGeometry(){return new je(this.x,this.y,this.width,this.height)}}class ps{angleThreshold;areaThreshold;circularityThreshold;connectivity;diameterThreshold;eccentricityThreshold;majorAxisThreshold;meanColor;minorAxisThreshold;perimeterThreshold;constructor(t){this.connectivity=t}_removeArtifacts(t){this.angleThreshold!==void 0&&t.removeArtifact("connected-components:angle-threshold"),this.areaThreshold!==void 0&&t.removeArtifact("connected-components:area-threshold"),this.circularityThreshold!==void 0&&t.removeArtifact("connected-components:circularity-threshold"),this.diameterThreshold!==void 0&&t.removeArtifact("connected-components:diameter-threshold"),this.eccentricityThreshold!==void 0&&t.removeArtifact("connected-components:eccentricity-threshold"),this.majorAxisThreshold!==void 0&&t.removeArtifact("connected-components:major-axis-threshold"),this.meanColor!==void 0&&t.removeArtifact("connected-components:mean-color"),this.minorAxisThreshold!==void 0&&t.removeArtifact("connected-components:minor-axis-threshold"),this.perimeterThreshold!==void 0&&t.removeArtifact("connected-components:perimeter-threshold")}_setArtifacts(t){this.angleThreshold!==void 0&&t.setArtifact("connected-components:angle-threshold",this.angleThreshold.toString()),this.areaThreshold!==void 0&&t.setArtifact("connected-components:area-threshold",this.areaThreshold.toString()),this.circularityThreshold!==void 0&&t.setArtifact("connected-components:circularity-threshold",this.circularityThreshold.toString()),this.diameterThreshold!==void 0&&t.setArtifact("connected-components:diameter-threshold",this.diameterThreshold.toString()),this.eccentricityThreshold!==void 0&&t.setArtifact("connected-components:eccentricity-threshold",this.eccentricityThreshold.toString()),this.majorAxisThreshold!==void 0&&t.setArtifact("connected-components:major-axis-threshold",this.majorAxisThreshold.toString()),this.meanColor!==void 0&&t.setArtifact("connected-components:mean-color",this.meanColor.toString()),this.minorAxisThreshold!==void 0&&t.setArtifact("connected-components:minor-axis-threshold",this.minorAxisThreshold.toString()),this.perimeterThreshold!==void 0&&t.setArtifact("connected-components:perimeter-threshold",this.perimeterThreshold.toString())}}var ui=(n=>(n[n.Undefined=0]="Undefined",n[n.PixelsPerInch=1]="PixelsPerInch",n[n.PixelsPerCentimeter=2]="PixelsPerCentimeter",n))(ui||{});class fs{constructor(t,e,r){e===void 0?(this.x=t,this.y=t,this.units=ui.PixelsPerInch):r!==void 0?(this.x=t,this.y=e,this.units=r):(this.x=t,this.y=t,this.units=e)}x;y;units}class $e{static _disposeAfterExecution(t,e){try{const r=e(t);return r instanceof Promise?Promise.resolve(r).then(i=>(t.dispose(),$e.checkResult(t,i),i)):(t.dispose(),$e.checkResult(t,r),r)}catch(r){throw t.dispose(),r}}static checkResult(t,e){if(e===t)throw new ke("The result of the function cannot be the instance that has been disposed.");return e}}class ci{_pointer;_bytes;_func;constructor(t,e,r){this._pointer=t,this._func=r,this._bytes=f._api.HEAPU8.subarray(t,t+e)}func(t){return t._bytes===void 0?t._func(new Uint8Array):t._func(t._bytes)}dispose(){this._pointer=f._api._MagickMemory_Relinquish(this._pointer)}}class Mn{disposeMethod;instance;constructor(t,e){this.instance=t,this.disposeMethod=e}get _instance(){if(this.instance>0)return this.instance;throw this.instance===-1&&this._instanceNotInitialized(),new ke("instance is disposed")}set _instance(t){this.disposeInstance(this.instance),this.instance=t}dispose(){this.instance=this.disposeInstance(this.instance)}_instanceNotInitialized(){throw new ke("instance is not initialized")}_setInstance(t,e){return e.check(()=>this.instance===0?!1:(this.dispose(),this.instance=t,!0),()=>(this.disposeInstance(t),!0))}disposeInstance(t){return t>0&&(this.onDispose!==void 0&&this.onDispose(),this.disposeMethod(t)),0}}class ds extends Mn{constructor(t){const e=f._api._DrawingSettings_Create(),r=f._api._DrawingSettings_Dispose;if(super(e,r),t.fillColor!==void 0&&t.fillColor._use(i=>{f._api._DrawingSettings_FillColor_Set(this._instance,i)}),t.font!==void 0){const i=Nt._getFontFileName(t.font);ne(i,o=>{f._api._DrawingSettings_Font_Set(this._instance,o)})}t.fontPointsize!==void 0&&f._api._DrawingSettings_FontPointsize_Set(this._instance,t.fontPointsize),t.strokeColor!==void 0&&t.strokeColor._use(i=>{f._api._DrawingSettings_StrokeColor_Set(this._instance,i)}),t.strokeWidth!==void 0&&f._api._DrawingSettings_StrokeWidth_Set(this._instance,t.strokeWidth)}}class Ir{backgroundColor;fillColor;font;fontPointsize;strokeColor;strokeWidth;static _create(t){const e=new Ir;return e.fillColor=t.fillColor,e.font=t.font,e.fontPointsize=t.fontPointsize,e.strokeColor=t.strokeColor,e.strokeWidth=t.strokeWidth,e}_use(t){const e=new ds(this);return $e._disposeAfterExecution(e,t)}}class ut{instance;constructor(){this.instance=f._api._malloc(4),f._api.setValue(this.instance,0,"i32")}get ptr(){return this.instance}get value(){return f._api.getValue(this.instance,"i32")}static use(t){const e=new ut;try{return t(e)}finally{f._api._free(e.instance)}}}class X{pointer;constructor(t){this.pointer=t}get ptr(){return this.pointer.ptr}check(t,e){return this.isError()?e():t()}static usePointer(t,e){return ut.use(r=>{const i=t(r.ptr);return X.checkException(r,i,e)})}static use(t,e){return ut.use(r=>{const i=t(new X(r));return X.checkException(r,i,e)})}static checkException(t,e,r){if(!X.isRaised(t))return e;const i=X.getErrorSeverity(t.value);if(i>=Hn.Error)X.throw(t,i);else if(r!==void 0){const o=X.createError(t.value,i);r(o)}else X.dispose(t);return e}isError(){return X.isRaised(this.pointer)?X.getErrorSeverity(this.pointer.value)>=Hn.Error:!1}static getErrorSeverity(t){return f._api._MagickExceptionHelper_Severity(t)}static isRaised(t){return t.value!==0}static throw(t,e){const r=X.createError(t.value,e);throw X.dispose(t),r}static createError(t,e){const r=X.getMessage(t),i=new ke(r,e),o=f._api._MagickExceptionHelper_RelatedCount(t);if(o===0)return i;const l=[];for(let c=0;c<o;c++){const m=f._api._MagickExceptionHelper_Related(t,c),_=X.getErrorSeverity(m),d=X.createError(m,_);l.push(d)}return i._setRelatedErrors(l),i}static getMessage(t){const e=f._api._MagickExceptionHelper_Message(t),r=f._api._MagickExceptionHelper_Description(t);let i=Xe(e);return r!==0&&(i+=`(${f._api.UTF8ToString(r)})`),i}static dispose(t){f._api._MagickExceptionHelper_Dispose(t.value)}}class Er{constructor(t,e,r,i,o,l,c){this.ascent=t,this.descent=e,this.maxHorizontalAdvance=r,this.textHeight=i,this.textWidth=o,this.underlinePosition=l,this.underlineThickness=c}ascent;descent;maxHorizontalAdvance;textHeight;textWidth;underlinePosition;underlineThickness;static _create(t){if(t==0)return null;try{const e=f._api._TypeMetric_Ascent_Get(t),r=f._api._TypeMetric_Descent_Get(t),i=f._api._TypeMetric_MaxHorizontalAdvance_Get(t),o=f._api._TypeMetric_TextHeight_Get(t),l=f._api._TypeMetric_TextWidth_Get(t),c=f._api._TypeMetric_UnderlinePosition_Get(t),m=f._api._TypeMetric_UnderlineThickness_Get(t);return new Er(e,r,i,o,l,c,m)}finally{f._api._TypeMetric_Dispose(t)}}}class xr extends Mn{constructor(t,e){const r=Ir._create(e)._use(o=>f._api._DrawingWand_Create(t._instance,o._instance)),i=f._api._DrawingWand_Dispose;super(r,i)}color(t,e,r){X.usePointer(i=>{f._api._DrawingWand_Color(this._instance,t,e,r,i)})}draw(t){t.forEach(e=>{e.draw(this)}),X.usePointer(e=>{f._api._DrawingWand_Render(this._instance,e)})}fillColor(t){X.usePointer(e=>{t._use(r=>{f._api._DrawingWand_FillColor(this._instance,r,e)})})}fillOpacity(t){X.usePointer(e=>{f._api._DrawingWand_FillOpacity(this._instance,t,e)})}font(t){X.usePointer(e=>{ne(t,r=>{f._api._DrawingWand_Font(this._instance,r,e)})})}fontPointSize(t){X.usePointer(e=>{f._api._DrawingWand_FontPointSize(this._instance,t,e)})}fontTypeMetrics(t,e){return X.usePointer(r=>ne(t,i=>{const o=f._api._DrawingWand_FontTypeMetrics(this._instance,i,e?1:0,r);return Er._create(o)}))}gravity(t){X.usePointer(e=>{f._api._DrawingWand_Gravity(this._instance,t,e)})}line(t,e,r,i){X.usePointer(o=>{f._api._DrawingWand_Line(this._instance,t,e,r,i,o)})}point(t,e){X.usePointer(r=>{f._api._DrawingWand_Point(this._instance,t,e,r)})}rectangle(t,e,r,i){X.usePointer(o=>{f._api._DrawingWand_Rectangle(this._instance,t,e,r,i,o)})}roundRectangle(t,e,r,i,o,l){X.usePointer(c=>{f._api._DrawingWand_RoundRectangle(this._instance,t,e,r,i,o,l,c)})}strokeColor(t){X.usePointer(e=>{t._use(r=>{f._api._DrawingWand_StrokeColor(this._instance,r,e)})})}strokeWidth(t){X.usePointer(e=>{f._api._DrawingWand_StrokeWidth(this._instance,t,e)})}text(t,e,r){X.usePointer(i=>{ne(r,o=>{f._api._DrawingWand_Text(this._instance,t,e,o,i)})})}textAlignment(t){X.usePointer(e=>{f._api._DrawingWand_TextAlignment(this._instance,t,e)})}textAntialias(t){X.usePointer(e=>{f._api._DrawingWand_TextAntialias(this._instance,t?1:0,e)})}textDecoration(t){X.usePointer(e=>{f._api._DrawingWand_TextDecoration(this._instance,t,e)})}textInterlineSpacing(t){X.usePointer(e=>{f._api._DrawingWand_TextInterlineSpacing(this._instance,t,e)})}textInterwordspacing(t){X.usePointer(e=>{f._api._DrawingWand_TextInterwordSpacing(this._instance,t,e)})}textKerning(t){X.usePointer(e=>{f._api._DrawingWand_TextKerning(this._instance,t,e)})}textUnderColor(t){X.usePointer(e=>{t._use(r=>{f._api._DrawingWand_TextUnderColor(this._instance,r,e)})})}static _use(t,e){const r=new xr(t,t.settings);return $e._disposeAfterExecution(r,e)}}var Yn=(n=>(n[n.Undefined=0]="Undefined",n[n.Forget=0]="Forget",n[n.Northwest=1]="Northwest",n[n.North=2]="North",n[n.Northeast=3]="Northeast",n[n.West=4]="West",n[n.Center=5]="Center",n[n.East=6]="East",n[n.Southwest=7]="Southwest",n[n.South=8]="South",n[n.Southeast=9]="Southeast",n))(Yn||{});function*ys(n){for(const t of n)switch(t){case 2:yield"north";break;case 3:yield"north",yield"east";break;case 1:yield"north",yield"west";break;case 6:yield"east";break;case 4:yield"west";break;case 8:yield"south";break;case 9:yield"south",yield"east";break;case 7:yield"south",yield"west"}}class Ms{constructor(t,e){this.name=t,this.data=e}name;data}var Ae=(n=>(n.Unknown="UNKNOWN",n.ThreeFr="3FR",n.ThreeG2="3G2",n.ThreeGp="3GP",n.A="A",n.Aai="AAI",n.Ai="AI",n.APng="APNG",n.Art="ART",n.Arw="ARW",n.Ashlar="ASHLAR",n.Avi="AVI",n.Avif="AVIF",n.Avs="AVS",n.B="B",n.Bayer="BAYER",n.Bayera="BAYERA",n.Bgr="BGR",n.Bgra="BGRA",n.Bgro="BGRO",n.Bmp="BMP",n.Bmp2="BMP2",n.Bmp3="BMP3",n.Brf="BRF",n.C="C",n.Cal="CAL",n.Cals="CALS",n.Canvas="CANVAS",n.Caption="CAPTION",n.Cin="CIN",n.Cip="CIP",n.Clip="CLIP",n.Cmyk="CMYK",n.Cmyka="CMYKA",n.Cr2="CR2",n.Cr3="CR3",n.Crw="CRW",n.Cube="CUBE",n.Cur="CUR",n.Cut="CUT",n.Data="DATA",n.Dcm="DCM",n.Dcr="DCR",n.Dcraw="DCRAW",n.Dcx="DCX",n.Dds="DDS",n.Dfont="DFONT",n.Dng="DNG",n.Dpx="DPX",n.Dxt1="DXT1",n.Dxt5="DXT5",n.Epdf="EPDF",n.Epi="EPI",n.Eps="EPS",n.Eps2="EPS2",n.Eps3="EPS3",n.Epsf="EPSF",n.Epsi="EPSI",n.Ept="EPT",n.Ept2="EPT2",n.Ept3="EPT3",n.Erf="ERF",n.Exr="EXR",n.Farbfeld="FARBFELD",n.Fax="FAX",n.Ff="FF",n.Fff="FFF",n.File="FILE",n.Fits="FITS",n.Fl32="FL32",n.Flv="FLV",n.Fractal="FRACTAL",n.Ftp="FTP",n.Fts="FTS",n.Ftxt="FTXT",n.G="G",n.G3="G3",n.G4="G4",n.Gif="GIF",n.Gif87="GIF87",n.Gradient="GRADIENT",n.Gray="GRAY",n.Graya="GRAYA",n.Group4="GROUP4",n.Hald="HALD",n.Hdr="HDR",n.Heic="HEIC",n.Heif="HEIF",n.Histogram="HISTOGRAM",n.Hrz="HRZ",n.Htm="HTM",n.Html="HTML",n.Http="HTTP",n.Https="HTTPS",n.Icb="ICB",n.Ico="ICO",n.Icon="ICON",n.Iiq="IIQ",n.Info="INFO",n.Inline="INLINE",n.Ipl="IPL",n.Isobrl="ISOBRL",n.Isobrl6="ISOBRL6",n.J2c="J2C",n.J2k="J2K",n.Jng="JNG",n.Jnx="JNX",n.Jp2="JP2",n.Jpc="JPC",n.Jpe="JPE",n.Jpeg="JPEG",n.Jpg="JPG",n.Jpm="JPM",n.Jps="JPS",n.Jpt="JPT",n.Json="JSON",n.Jxl="JXL",n.K="K",n.K25="K25",n.Kdc="KDC",n.Label="LABEL",n.M="M",n.M2v="M2V",n.M4v="M4V",n.Mac="MAC",n.Map="MAP",n.Mask="MASK",n.Mat="MAT",n.Matte="MATTE",n.Mdc="MDC",n.Mef="MEF",n.Miff="MIFF",n.Mkv="MKV",n.Mng="MNG",n.Mono="MONO",n.Mov="MOV",n.Mos="MOS",n.Mp4="MP4",n.Mpc="MPC",n.Mpeg="MPEG",n.Mpg="MPG",n.Mpo="MPO",n.Mrw="MRW",n.Msl="MSL",n.Msvg="MSVG",n.Mtv="MTV",n.Mvg="MVG",n.Nef="NEF",n.Nrw="NRW",n.Null="NULL",n.O="O",n.Ora="ORA",n.Orf="ORF",n.Otb="OTB",n.Otf="OTF",n.Pal="PAL",n.Palm="PALM",n.Pam="PAM",n.Pango="PANGO",n.Pattern="PATTERN",n.Pbm="PBM",n.Pcd="PCD",n.Pcds="PCDS",n.Pcl="PCL",n.Pct="PCT",n.Pcx="PCX",n.Pdb="PDB",n.Pdf="PDF",n.Pdfa="PDFA",n.Pef="PEF",n.Pes="PES",n.Pfa="PFA",n.Pfb="PFB",n.Pfm="PFM",n.Pgm="PGM",n.Pgx="PGX",n.Phm="PHM",n.Picon="PICON",n.Pict="PICT",n.Pix="PIX",n.Pjpeg="PJPEG",n.Plasma="PLASMA",n.Png="PNG",n.Png00="PNG00",n.Png24="PNG24",n.Png32="PNG32",n.Png48="PNG48",n.Png64="PNG64",n.Png8="PNG8",n.Pnm="PNM",n.Pocketmod="POCKETMOD",n.Ppm="PPM",n.Ps="PS",n.Ps2="PS2",n.Ps3="PS3",n.Psb="PSB",n.Psd="PSD",n.Ptif="PTIF",n.Pwp="PWP",n.Qoi="QOI",n.R="R",n.RadialGradient="RADIAL-GRADIENT",n.Raf="RAF",n.Ras="RAS",n.Raw="RAW",n.Rgb="RGB",n.Rgb565="RGB565",n.Rgba="RGBA",n.Rgbo="RGBO",n.Rgf="RGF",n.Rla="RLA",n.Rle="RLE",n.Rmf="RMF",n.Rw2="RW2",n.Rwl="RWL",n.Scr="SCR",n.Screenshot="SCREENSHOT",n.Sct="SCT",n.Sfw="SFW",n.Sgi="SGI",n.Shtml="SHTML",n.Six="SIX",n.Sixel="SIXEL",n.SparseColor="SPARSE-COLOR",n.Sr2="SR2",n.Srf="SRF",n.Srw="SRW",n.Stegano="STEGANO",n.Sti="STI",n.StrImg="STRIMG",n.Sun="SUN",n.Svg="SVG",n.Svgz="SVGZ",n.Text="TEXT",n.Tga="TGA",n.Thumbnail="THUMBNAIL",n.Tif="TIF",n.Tiff="TIFF",n.Tiff64="TIFF64",n.Tile="TILE",n.Tim="TIM",n.Tm2="TM2",n.Ttc="TTC",n.Ttf="TTF",n.Txt="TXT",n.Ubrl="UBRL",n.Ubrl6="UBRL6",n.Uil="UIL",n.Uyvy="UYVY",n.Vda="VDA",n.Vicar="VICAR",n.Vid="VID",n.Viff="VIFF",n.Vips="VIPS",n.Vst="VST",n.WebM="WEBM",n.WebP="WEBP",n.Wbmp="WBMP",n.Wmv="WMV",n.Wpg="WPG",n.X3f="X3F",n.Xbm="XBM",n.Xc="XC",n.Xcf="XCF",n.Xpm="XPM",n.Xps="XPS",n.Xv="XV",n.Y="Y",n.Yaml="YAML",n.Ycbcr="YCbCr",n.Ycbcra="YCbCrA",n.Yuv="YUV",n))(Ae||{}),Xn=(n=>(n[n.Undefined=0]="Undefined",n[n.Coalesce=1]="Coalesce",n[n.CompareAny=2]="CompareAny",n[n.CompareClear=3]="CompareClear",n[n.CompareOverlay=4]="CompareOverlay",n[n.Dispose=5]="Dispose",n[n.Optimize=6]="Optimize",n[n.OptimizeImage=7]="OptimizeImage",n[n.OptimizePlus=8]="OptimizePlus",n[n.OptimizeTrans=9]="OptimizeTrans",n[n.RemoveDups=10]="RemoveDups",n[n.RemoveZero=11]="RemoveZero",n[n.Composite=12]="Composite",n[n.Merge=13]="Merge",n[n.Flatten=14]="Flatten",n[n.Mosaic=15]="Mosaic",n[n.Trimbounds=16]="Trimbounds",n))(Xn||{});class gi extends Mn{constructor(t){const e=f._api._MagickSettings_Create(),r=f._api._MagickSettings_Dispose;if(super(e,r),t._fileName!==void 0&&ne(t._fileName,i=>{f._api._MagickSettings_SetFileName(this._instance,i)}),t._ping&&f._api._MagickSettings_SetPing(this._instance,1),t._quality!==void 0&&f._api._MagickSettings_SetQuality(this._instance,t._quality),t.antiAlias!==void 0&&f._api._MagickSettings_AntiAlias_Set(this._instance,t.antiAlias?1:0),t.backgroundColor!==void 0&&t.backgroundColor._use(i=>{f._api._MagickSettings_BackgroundColor_Set(this._instance,i)}),t.colorSpace!==void 0&&f._api._MagickSettings_ColorSpace_Set(this._instance,t.colorSpace),t.colorType!==void 0&&f._api._MagickSettings_ColorType_Set(this._instance,t.colorType),t.compression!==void 0&&f._api._MagickSettings_Compression_Set(this._instance,t.compression),t.debug!==void 0&&f._api._MagickSettings_Debug_Set(this._instance,t.debug?1:0),t.depth!==void 0&&f._api._MagickSettings_Depth_Set(this._instance,t.depth),t.endian!==void 0&&f._api._MagickSettings_Endian_Set(this._instance,t.endian),t.fillColor!==void 0&&this.setOption("fill",t.fillColor.toString()),t.font!==void 0){const i=Nt._getFontFileName(t.font);ne(i,o=>{f._api._MagickSettings_SetFont(this._instance,o)})}t.fontPointsize!==void 0&&f._api._MagickSettings_FontPointsize_Set(this._instance,t.fontPointsize),t.format!==void 0&&ne(t.format,i=>{f._api._MagickSettings_Format_Set(this._instance,i)}),t.interlace!==void 0&&f._api._MagickSettings_Interlace_Set(this._instance,t.interlace),t.strokeColor!==void 0&&this.setOption("stroke",t.strokeColor.toString()),t.strokeWidth!==void 0&&this.setOption("strokeWidth",t.strokeWidth.toString()),t.textInterlineSpacing!==void 0&&this.setOption("interline-spacing",t.textInterlineSpacing.toString()),t.textKerning!==void 0&&this.setOption("kerning",t.textKerning.toString());for(const i in t._options)this.setOption(i,t._options[i])}setOption(t,e){ne(t,r=>{ne(e,i=>{f._api._MagickSettings_SetOption(this._instance,r,i)})})}}class qt{_options={};_fileName;_ping=!1;_quality;antiAlias;backgroundColor;colorSpace;colorType;compression;debug;depth;endian;fillColor;font;fontPointsize;format;interlace;strokeColor;strokeWidth;textInterlineSpacing;textKerning;getDefine(t,e){return e!==void 0?this._options[`${t}:${e}`]??null:this._options[t]??null}setDefine(t,e,r){if(r===void 0)this._options[t]=e;else{const i=this.parseDefine(t,e);typeof r=="string"?this._options[i]=r:typeof r=="number"?this._options[i]=r.toString():this._options[i]=r?"true":"false"}}setDefines(t){t.getDefines().forEach(e=>{e!==void 0&&this.setDefine(e.format,e.name,e.value)})}_clone(){const t=new qt;return Object.assign(t,this),t}_use(t){const e=new gi(this);return $e._disposeAfterExecution(e,t)}parseDefine(t,e){return t===Ae.Unknown?e:`${t}:${e}`}}class Ct extends qt{constructor(t){super(),Object.assign(this,t)}height;width;_use(t){const e=new gi(this),r=this.getSize();return r!==""&&ne(r,i=>{f._api._MagickSettings_SetSize(e._instance,i)}),$e._disposeAfterExecution(e,t)}getSize(){return this.width!==void 0&&this.height!==void 0?`${this.width}x${this.height}`:this.width!==void 0?`${this.width}x`:this.height!==void 0?`x${this.height}`:""}}class rt extends Array{constructor(){super()}static create(t){const e=rt.createObject();return t!==void 0&&e.read(t),e}dispose(){let t=this.pop();for(;t!==void 0;)t.dispose(),t=this.pop()}appendHorizontally(t){return this.createImage((e,r)=>f._api._MagickImageCollection_Append(e,0,r.ptr),t)}appendVertically(t){return this.createImage((e,r)=>f._api._MagickImageCollection_Append(e,1,r.ptr),t)}clone(t){const e=rt.create();for(let r=0;r<this.length;r++)e.push(Le._clone(this[r]));return e._use(t)}coalesce(){this.throwIfEmpty();let t=0;try{this.attachImages(),t=X.use(r=>{const i=f._api._MagickImageCollection_Coalesce(this[0]._instance,r.ptr);return this.checkResult(i,r)})}finally{this.detachImages()}const e=this.getSettings()._clone();this.dispose(),this.addImages(t,e)}evaluate(t,e){return this.createImage((r,i)=>f._api._MagickImageCollection_Evaluate(r,t,i.ptr),e)}flatten(t){return this.mergeImages(Xn.Flatten,t)}merge(t){return this.mergeImages(Xn.Merge,t)}montage(t,e){this.throwIfEmpty();try{this.attachImages();const r=t._use(l=>X.use(c=>{const m=f._api._MagickImageCollection_Montage(this[0]._instance,l._instance,c.ptr);return this.checkResult(m,c)})),i=rt._createFromImages(r,this.getSettings()),o=t.transparentColor;return o!==void 0&&i.forEach(l=>{l.transparent(o)}),i.merge(e)}finally{this.detachImages()}}mosaic(t){return this.mergeImages(Xn.Mosaic,t)}read(t,e){this.dispose(),X.use(r=>{const i=rt.createSettings(e);typeof t=="string"?(i._fileName=t,i._use(o=>{const l=f._api._MagickImageCollection_ReadFile(o._instance,r.ptr);this.addImages(l,i)})):i._use(o=>{const l=t.byteLength;let c=0;try{c=f._api._malloc(l),f._api.HEAPU8.set(t,c);const m=f._api._MagickImageCollection_ReadBlob(o._instance,c,0,l,r.ptr);this.addImages(m,i)}finally{c!==0&&f._api._free(c)}})})}write(t,e){this.throwIfEmpty();let r=0,i=0;const o=this[0],l=this.getSettings();e!==void 0?l.format=t:(e=t,l.format=o.format),X.use(m=>{ut.use(_=>{l._use(d=>{try{this.attachImages(),r=f._api._MagickImage_WriteBlob(o._instance,d._instance,_.ptr,m.ptr),i=_.value}finally{this.detachImages()}})})});const c=new ci(r,i,e);return $e._disposeAfterExecution(c,c.func)}static _createFromImages(t,e){const r=rt.createObject();return r.addImages(t,e._clone()),r}_use(t){return $e._disposeAfterExecution(this,t)}addImages(t,e){e.format=Ae.Unknown;let r=t;for(;r!==0;){const i=f._api._MagickImage_GetNext(r);f._api._MagickImage_SetNext(r,0),this.push(Le._createFromImage(r,e)),r=i}}attachImages(){for(let t=0;t<this.length-1;t++)f._api._MagickImage_SetNext(this[t]._instance,this[t+1]._instance)}static createObject(){return Object.create(rt.prototype)}createImage(t,e){this.throwIfEmpty();try{this.attachImages();const r=X.use(i=>{const o=t(this[0]._instance,i);return this.checkResult(o,i)});return Le._createFromImage(r,this.getSettings())._use(e)}finally{this.detachImages()}}static createSettings(t){return t==null?new qt:new Ct(t)}detachImages(){for(let t=0;t<this.length-1;t++)f._api._MagickImage_SetNext(this[t]._instance,0)}getSettings(){return this[0]._getSettings()._clone()}mergeImages(t,e){return this.createImage((r,i)=>f._api._MagickImageCollection_Merge(r,t,i.ptr),e)}throwIfEmpty(){if(this.length===0)throw new ke("operation requires at least one image")}checkResult(t,e){return e.check(()=>t,()=>(f._api._MagickImageCollection_Dispose(t),0))}}let Fe=class gs{_value;constructor(t){this._value=t}static _fromQuantum(t){return new gs(t/Rt.max*100)}multiply(t){return t*this._value/100}toDouble(){return this._value}_toQuantum(){return Rt.max*(this._value/100)}};class mi{static use(t,e,r){const i=f._api._MagickRectangle_Create();try{f._api._MagickRectangle_X_Set(i,e.x),f._api._MagickRectangle_Y_Set(i,e.y);let o=e.width,l=e.height;return e.isPercentage&&(o=new Fe(e.width).multiply(t.width),l=new Fe(e.height).multiply(t.height)),f._api._MagickRectangle_Width_Set(i,o),f._api._MagickRectangle_Height_Set(i,l),r(i)}finally{f._api._MagickRectangle_Dispose(i)}}}function _i(n,t){if(n.byteLength===0)throw new ke("The specified array cannot be empty");let e=0;try{return e=f._api._malloc(n.byteLength),f._api.HEAPU8.set(n,e),t(e)}finally{e!==0&&f._api._free(e)}}function vs(n,t){const e=n.length*8;let r=0;try{if(e!==0){r=f._api._malloc(e);const i=new ArrayBuffer(e),o=new Float64Array(i);for(let l=0;l<n.length;l++)o[l]=n[l];f._api.HEAPU8.set(new Int8Array(i),r)}return t(r)}finally{r!==0&&f._api._free(r)}}function Ss(n,t){if(n.byteLength===0)throw new ke("The specified array cannot be empty");let e=0;try{return e=f._api._malloc(n.byteLength),f._api.HEAPU8.set(n,e),t(e)}finally{e!==0&&f._api._free(e)}}class Qt extends Mn{image;constructor(t){const e=X.usePointer(i=>f._api._PixelCollection_Create(t._instance,i)),r=f._api._PixelCollection_Dispose;super(e,r),this.image=t}static _create(t){return new Qt(t)}static _use(t,e){const r=new Qt(t);return $e._disposeAfterExecution(r,e)}static _map(t,e,r){const i=new Qt(t);try{i.use(0,0,t.width,t.height,e,o=>{r(o)})}finally{i.dispose()}}getArea(t,e,r,i){return X.usePointer(o=>{const l=f._api._PixelCollection_GetArea(this._instance,t,e,r,i,o),c=r*i*this.image.channelCount;return f._api.HEAPU8.subarray(l,l+c)})}getPixel(t,e){return this.getArea(t,e,1,1)}setArea(t,e,r,i,o){X.usePointer(l=>{const c=o instanceof Uint8Array?o:new Uint8Array(o);Ss(c,m=>{f._api._PixelCollection_SetArea(this._instance,t,e,r,i,m,c.length,l)})})}setPixel(t,e,r){r instanceof Uint8Array?this.setArea(t,e,1,1,r):this.setArea(t,e,1,1,r)}toByteArray(t,e,r,i,o){return this.use(t,e,r,i,o,l=>{if(l===0)return null;const c=r*i*o.length;return f._api.HEAPU8.slice(l,l+c)})}use(t,e,r,i,o,l){return ne(o,c=>X.use(m=>{let _=f._api._PixelCollection_ToByteArray(this._instance,t,e,r,i,c,m.ptr);return m.check(()=>{const d=l(_);return _=f._api._MagickMemory_Relinquish(_),d},()=>(_=f._api._MagickMemory_Relinquish(_),null))}))}}var hi=(n=>(n[n.Undefined=0]="Undefined",n[n.Average=1]="Average",n[n.Brightness=2]="Brightness",n[n.Lightness=3]="Lightness",n[n.MS=4]="MS",n[n.Rec601Luma=5]="Rec601Luma",n[n.Rec601Luminance=6]="Rec601Luminance",n[n.Rec709Luma=7]="Rec709Luma",n[n.Rec709Luminance=8]="Rec709Luminance",n[n.RMS=9]="RMS",n))(hi||{});class Gt{constructor(t,e,r){this.x=t,this.y=e,this.z=r}x;y;z;static _create(t){return t===0?new Gt(0,0,0):new Gt(f._api._PrimaryInfo_X_Get(t),f._api._PrimaryInfo_Y_Get(t),f._api._PrimaryInfo_Z_Get(t))}_use(t){let e=0;try{e=f._api._PrimaryInfo_Create(),f._api._PrimaryInfo_X_Set(e,this.x),f._api._PrimaryInfo_Y_Set(e,this.y),f._api._PrimaryInfo_Z_Set(e,this.z),t(e)}finally{f._api._free(e)}}}class ks{channel;depth;entropy;kurtosis;maximum;mean;minimum;skewness;standardDeviation;constructor(t,e){this.channel=t,this.depth=f._api._ChannelStatistics_Depth_Get(e),this.entropy=f._api._ChannelStatistics_Entropy_Get(e),this.kurtosis=f._api._ChannelStatistics_Kurtosis_Get(e),this.maximum=f._api._ChannelStatistics_Maximum_Get(e),this.mean=f._api._ChannelStatistics_Mean_Get(e),this.minimum=f._api._ChannelStatistics_Minimum_Get(e),this.skewness=f._api._ChannelStatistics_Skewness_Get(e),this.standardDeviation=f._api._ChannelStatistics_StandardDeviation_Get(e)}}class br{_channels={};get channels(){const t=[];for(const e in this._channels)t.push(parseInt(e));return t}composite(){return this._channels[V.Composite]}getChannel(t){const e=this._channels[t];return e!==void 0?e:null}static _create(t,e,r){const i=new br;return t.channels.forEach(o=>{r>>o&1&&i.addChannel(e,o)}),i.addChannel(e,V.Composite),i}addChannel(t,e){const r=f._api._Statistics_GetInstance(t,e);r!==0&&(this._channels[e]=new ks(e,r))}}class ws{static toArray(t){if(t===0)return null;const e=f._api._StringInfo_Datum_Get(t),r=f._api._StringInfo_Length_Get(t);return f._api.HEAPU8.subarray(e,e+r)}}class jn{_image;_names=[];constructor(t){this._image=t}setArtifact(t,e){this._names.push(t),this._image.setArtifact(t,e)}static use(t,e){const r=new jn(t);try{return e(r)}finally{r.dispose()}}dispose(){for(const t of this._names)this._image.removeArtifact(t)}}class pi{constructor(t){this.error=t}error}class Le extends Mn{_settings;_progress;_warning;constructor(t,e){super(t,f._api._MagickImage_Dispose),this._settings=e}get animationDelay(){return f._api._MagickImage_AnimationDelay_Get(this._instance)}set animationDelay(t){f._api._MagickImage_AnimationDelay_Set(this._instance,t)}get animationIterations(){return f._api._MagickImage_AnimationIterations_Get(this._instance)}set animationIterations(t){f._api._MagickImage_AnimationIterations_Set(this._instance,t)}get animationTicksPerSecond(){return f._api._MagickImage_AnimationTicksPerSecond_Get(this._instance)}set animationTicksPerSecond(t){f._api._MagickImage_AnimationTicksPerSecond_Set(this._instance,t)}get artifactNames(){const t=[];f._api._MagickImage_ResetArtifactIterator(this._instance);let e=f._api._MagickImage_GetNextArtifactName(this._instance);for(;e!==0;)t.push(f._api.UTF8ToString(e)),e=f._api._MagickImage_GetNextArtifactName(this._instance);return t}get attributeNames(){const t=[];f._api._MagickImage_ResetAttributeIterator(this._instance);let e=f._api._MagickImage_GetNextAttributeName(this._instance);for(;e!==0;)t.push(f._api.UTF8ToString(e)),e=f._api._MagickImage_GetNextAttributeName(this._instance);return t}get backgroundColor(){const t=f._api._MagickImage_BackgroundColor_Get(this._instance);return $t._create(t)}set backgroundColor(t){t._use(e=>{f._api._MagickImage_BackgroundColor_Set(this._instance,e)})}get baseHeight(){return f._api._MagickImage_BaseHeight_Get(this._instance)}get baseWidth(){return f._api._MagickImage_BaseWidth_Get(this._instance)}get blackPointCompensation(){return f._api._MagickImage_BlackPointCompensation_Get(this._instance)===1}set blackPointCompensation(t){f._api._MagickImage_BlackPointCompensation_Set(this._instance,t?1:0)}get borderColor(){const t=f._api._MagickImage_BorderColor_Get(this._instance);return $t._create(t)}set borderColor(t){t._use(e=>{f._api._MagickImage_BorderColor_Set(this._instance,e)})}get boundingBox(){return this.useExceptionPointer(t=>{const e=f._api._MagickImage_BoundingBox_Get(this._instance,t),r=je._fromRectangle(e);return r.width===0||r.height===0?null:r})}get channelCount(){return f._api._MagickImage_ChannelCount_Get(this._instance)}get channels(){const t=[];return[V.Red,V.Green,V.Blue,V.Black,V.Alpha].forEach(e=>{f._api._MagickImage_HasChannel(this._instance,e)&&t.push(e)}),t}get chromaticity(){return new hs(Gt._create(f._api._MagickImage_ChromaRed_Get(this._instance)),Gt._create(f._api._MagickImage_ChromaGreen_Get(this._instance)),Gt._create(f._api._MagickImage_ChromaBlue_Get(this._instance)),Gt._create(f._api._MagickImage_ChromaWhite_Get(this._instance)))}set chromaticity(t){t.blue._use(e=>f._api._MagickImage_ChromaBlue_Set(this._instance,e)),t.green._use(e=>f._api._MagickImage_ChromaGreen_Set(this._instance,e)),t.red._use(e=>f._api._MagickImage_ChromaRed_Set(this._instance,e)),t.white._use(e=>f._api._MagickImage_ChromaWhite_Set(this._instance,e))}get classType(){return this.useExceptionPointer(t=>f._api._MagickImage_ClassType_Get(this._instance,t))}set classType(t){this.useExceptionPointer(e=>{f._api._MagickImage_ClassType_Set(this._instance,t,e)})}get colorFuzz(){return Fe._fromQuantum(f._api._MagickImage_ColorFuzz_Get(this._instance))}set colorFuzz(t){f._api._MagickImage_ColorFuzz_Set(this._instance,t._toQuantum())}get colormapSize(){return this.useExceptionPointer(t=>f._api._MagickImage_ColormapSize_Get(this._instance,t))}set colormapSize(t){this.useExceptionPointer(e=>{f._api._MagickImage_ColormapSize_Set(this._instance,t,e)})}get colorSpace(){return this.useExceptionPointer(t=>f._api._MagickImage_ColorSpace_Get(this._instance,t))}set colorSpace(t){this.useExceptionPointer(e=>{f._api._MagickImage_ColorSpace_Set(this._instance,t,e)})}get colorType(){return this.settings.colorType!==void 0?this.settings.colorType:this.useExceptionPointer(t=>f._api._MagickImage_ColorType_Get(this._instance,t))}set colorType(t){this.useExceptionPointer(e=>{f._api._MagickImage_ColorType_Set(this._instance,t,e)})}get comment(){return this.getAttribute("comment")}set comment(t){t===null?this.removeAttribute("comment"):this.setAttribute("comment",t)}get compose(){return f._api._MagickImage_Compose_Get(this._instance)}set compose(t){f._api._MagickImage_Compose_Set(this._instance,t)}get compression(){return f._api._MagickImage_Compression_Get(this._instance)}get density(){return new fs(f._api._MagickImage_ResolutionX_Get(this._instance),f._api._MagickImage_ResolutionY_Get(this._instance),f._api._MagickImage_ResolutionUnits_Get(this._instance))}set density(t){f._api._MagickImage_ResolutionX_Set(this._instance,t.x),f._api._MagickImage_ResolutionY_Set(this._instance,t.y),f._api._MagickImage_ResolutionUnits_Set(this._instance,t.units)}get depth(){return f._api._MagickImage_Depth_Get(this._instance)}set depth(t){f._api._MagickImage_Depth_Set(this._instance,t)}get endian(){return f._api._MagickImage_Endian_Get(this._instance)}set endian(t){f._api._MagickImage_Endian_Set(this._instance,t)}get fileName(){const t=f._api._MagickImage_FileName_Get(this._instance);return t===0?null:f._api.UTF8ToString(t)}get filterType(){return f._api._MagickImage_FilterType_Get(this._instance)}set filterType(t){f._api._MagickImage_FilterType_Set(this._instance,t)}get format(){return Xe(f._api._MagickImage_Format_Get(this._instance))}set format(t){ne(t.toString(),e=>f._api._MagickImage_Format_Set(this._instance,e))}get gamma(){return f._api._MagickImage_Gamma_Get(this._instance)}get gifDisposeMethod(){return f._api._MagickImage_GifDisposeMethod_Get(this._instance)}set gifDisposeMethod(t){f._api._MagickImage_GifDisposeMethod_Set(this._instance,t)}get hasAlpha(){return this.useExceptionPointer(t=>this.toBool(f._api._MagickImage_HasAlpha_Get(this._instance,t)))}set hasAlpha(t){this.useExceptionPointer(e=>{t&&this.alpha(oi.Opaque),f._api._MagickImage_HasAlpha_Set(this._instance,this.fromBool(t),e)})}get height(){return f._api._MagickImage_Height_Get(this._instance)}get interlace(){return f._api._MagickImage_Interlace_Get(this._instance)}get isOpaque(){return this.useExceptionPointer(t=>this.toBool(f._api._MagickImage_IsOpaque_Get(this._instance,t)))}get interpolate(){return f._api._MagickImage_Interpolate_Get(this._instance)}set interpolate(t){f._api._MagickImage_Interpolate_Set(this._instance,t)}get label(){return this.getAttribute("label")}set label(t){t===null?this.removeAttribute("label"):this.setAttribute("label",t)}get matteColor(){const t=f._api._MagickImage_MatteColor_Get(this._instance);return $t._create(t)}set matteColor(t){t._use(e=>{f._api._MagickImage_MatteColor_Set(this._instance,e)})}get orientation(){return f._api._MagickImage_Orientation_Get(this._instance)}set orientation(t){f._api._MagickImage_Orientation_Set(this._instance,t)}get onProgress(){return this._progress}set onProgress(t){t!==void 0?Pe.setProgressDelegate(this):this.disposeProgressDelegate(),this._progress=t}get onWarning(){return this._warning}set onWarning(t){this._warning=t}get page(){const t=f._api._MagickImage_Page_Get(this._instance);return je._fromRectangle(t)}set page(t){t._toRectangle(e=>{f._api._MagickImage_Page_Set(this._instance,e)})}get profileNames(){const t=[];f._api._MagickImage_ResetProfileIterator(this._instance);let e=f._api._MagickImage_GetNextProfileName(this._instance);for(;e!==0;)t.push(f._api.UTF8ToString(e)),e=f._api._MagickImage_GetNextProfileName(this._instance);return t}get quality(){return f._api._MagickImage_Quality_Get(this._instance)}set quality(t){let e=t<1?1:t;e=e>100?100:e,f._api._MagickImage_Quality_Set(this._instance,e),this._settings._quality=e}get renderingIntent(){return f._api._MagickImage_RenderingIntent_Get(this._instance)}set renderingIntent(t){f._api._MagickImage_RenderingIntent_Set(this._instance,t)}get settings(){return this._settings}get signature(){return this.useExceptionPointer(t=>Xe(f._api._MagickImage_Signature_Get(this._instance,t)))}get totalColors(){return this.useExceptionPointer(t=>f._api._MagickImage_TotalColors_Get(this._instance,t))}get virtualPixelMethod(){return this.useExceptionPointer(t=>f._api._MagickImage_VirtualPixelMethod_Get(this._instance,t))}set virtualPixelMethod(t){this.useExceptionPointer(e=>{f._api._MagickImage_VirtualPixelMethod_Set(this._instance,t,e)})}get width(){return f._api._MagickImage_Width_Get(this._instance)}adaptiveBlur(t,e){const r=this.valueOrDefault(t,0),i=this.valueOrDefault(e,1);this.useException(o=>{const l=f._api._MagickImage_AdaptiveBlur(this._instance,r,i,o.ptr);this._setInstance(l,o)})}alpha(t){this.useExceptionPointer(e=>{f._api._MagickImage_SetAlpha(this._instance,t,e)})}autoGamma(t){this.useExceptionPointer(e=>{const r=this.valueOrDefault(t,Ie.Composite);f._api._MagickImage_AutoGamma(this._instance,r,e)})}autoLevel(t){this.useExceptionPointer(e=>{const r=this.valueOrDefault(t,Ie.Undefined);f._api._MagickImage_AutoLevel(this._instance,r,e)})}autoOrient(){this.useException(t=>{const e=f._api._MagickImage_AutoOrient(this._instance,t.ptr);this._setInstance(e,t)})}autoThreshold(t){this.useException(e=>{f._api._MagickImage_AutoThreshold(this._instance,t,e.ptr)})}blur(t,e,r){let i=0;const o=this.valueOrDefault(e,1);let l=this.valueOrDefault(r,Ie.Undefined);t!==void 0&&(e===void 0?l=t:i=t),this.useException(c=>{const m=f._api._MagickImage_Blur(this._instance,i,o,l,c.ptr);this._setInstance(m,c)})}border(t,e){const r=t,i=this.valueOrDefault(e,t),o=new je(0,0,r,i);this.useException(l=>{o._toRectangle(c=>{const m=f._api._MagickImage_Border(this._instance,c,l.ptr);this._setInstance(m,l)})})}brightnessContrast(t,e,r){const i=this.valueOrDefault(r,Ie.Undefined);this.useException(o=>{f._api._MagickImage_BrightnessContrast(this._instance,t.toDouble(),e.toDouble(),i,o.ptr)})}charcoal(t,e){const r=t===void 0?0:t,i=e===void 0?1:e;this.useException(o=>{const l=f._api._MagickImage_Charcoal(this._instance,r,i,o.ptr);this._setInstance(l,o)})}clahe(t,e,r,i){this.useExceptionPointer(o=>{const l=t instanceof Fe?t.multiply(this.width):t,c=e instanceof Fe?e.multiply(this.height):e;f._api._MagickImage_Clahe(this._instance,l,c,r,i,o)})}clone(t){return Le._clone(this)._use(t)}colorAlpha(t){if(!this.hasAlpha)return;const e=Le.create();e.read(t,this.width,this.height),e.composite(this,Un.SrcOver,new lt(0,0)),this._instance=e._instance}compare(t,e,r){return this.useExceptionPointer(i=>{const o=this.valueOrDefault(r,Ie.Undefined);return f._api._MagickImage_CompareDistortion(this._instance,t._instance,e,o,i)})}composite(t,e,r,i,o){let l=0,c=0,m=Un.In,_=Ie.All,d=null;e instanceof lt?(l=e.x,c=e.y):e!==void 0&&(m=e),r instanceof lt?(l=r.x,c=r.y):typeof r=="string"?d=r:r!==void 0&&(_=r),typeof i=="string"?d=i:i!==void 0&&(_=i),o!==void 0&&(_=o),d!==null&&this.setArtifact("compose:args",d),this.useExceptionPointer(S=>{f._api._MagickImage_Composite(this._instance,t._instance,l,c,m,_,S)}),d!==null&&this.removeArtifact("compose:args")}compositeGravity(t,e,r,i,o,l){let c=0,m=0,_=Un.In,d=Ie.All,S=null;r instanceof lt?(c=r.x,m=r.y):r!==void 0&&(_=r),i instanceof lt?(c=i.x,m=i.y):typeof i=="string"?S=i:i!==void 0&&(d=i),typeof o=="string"?S=o:o!==void 0&&(d=o),l!==void 0&&(d=l),S!==null&&this.setArtifact("compose:args",S),this.useExceptionPointer(k=>{f._api._MagickImage_CompositeGravity(this._instance,t._instance,e,c,m,_,d,k)}),S!==null&&this.removeArtifact("compose:args")}connectedComponents(t){const e=typeof t=="number"?new ps(t):t;e._setArtifacts(this);const r=this.useException(i=>ut.use(o=>{try{const l=f._api._MagickImage_ConnectedComponents(this._instance,e.connectivity,o.ptr,i.ptr);return this._setInstance(l,i),Cr._create(o.value,this.colormapSize)}finally{o.value!==0&&f._api._ConnectedComponent_DisposeList(o.value)}}));return e._removeArtifacts(this),r}contrast=()=>this._contrast(!0);contrastStretch(t,e,r){const i=this.width*this.height,o=t.multiply(i);let l=0,c=this.valueOrDefault(r,Ie.Undefined);e instanceof Fe?l=i-e.multiply(i):(l=i-t.multiply(i),e!==void 0&&(c=e)),this.useExceptionPointer(m=>{f._api._MagickImage_ContrastStretch(this._instance,o,l,c,m)})}static create(t,e,r){const i=new Le(Le.createInstance(),new qt);return t!==void 0&&i.readOrPing(!1,t,e,r),i}crop(t,e,r){let i,o;typeof t!="number"?(i=t,o=this.valueOrDefault(e,Yn.Undefined)):e!==void 0&&(i=new je(t,e),o=this.valueOrDefault(r,Yn.Undefined)),this.useException(l=>{ne(i.toString(),c=>{const m=f._api._MagickImage_Crop(this._instance,c,o,l.ptr);this._setInstance(m,l)})})}cropToTiles(t,e,r){let i,o;return typeof t=="number"&&typeof e=="number"&&r!==void 0?(i=new je(0,0,t,e),o=r):typeof t!="number"&&typeof e!="number"&&(i=t,o=e),this.useException(l=>ne(i.toString(),c=>{const m=f._api._MagickImage_CropToTiles(this._instance,c,l.ptr);return rt._createFromImages(m,this._settings)._use(o)}))}deskew(t,e){return jn.use(this,r=>{e!==void 0&&r.setArtifact("deskew:auto-crop",e),this.useException(o=>{const l=f._api._MagickImage_Deskew(this._instance,t._toQuantum(),o.ptr);this._setInstance(l,o)});const i=Number(this.getArtifact("deskew:angle"));return isNaN(i)?0:i})}distort(t,e){jn.use(this,r=>{let i,o=0;typeof t=="number"?i=t:(i=t.method,o=t.bestFit?1:0,t.scale!==void 0&&r.setArtifact("distort:scale",t.scale.toString()),t.viewport!==void 0&&r.setArtifact("distort:viewport",t.viewport.toString()));const l=e??[];this.useException(c=>{vs(l,m=>{const _=f._api._MagickImage_Distort(this._instance,i,o,m,l.length,c.ptr);this._setInstance(_,c)})})})}draw(...t){const e=t.flat();e.length!==0&&xr._use(this,r=>{r.draw(e)})}evaluate(t,e,r,i){if(typeof e=="number"){const o=e,l=typeof r=="number"?r:r._toQuantum();this.useExceptionPointer(c=>{f._api._MagickImage_EvaluateOperator(this._instance,t,o,l,c)})}else if(i!==void 0){if(typeof r!="number")throw new ke("this should not happen");const o=e,l=r,c=typeof i=="number"?i:i._toQuantum();if(o.isPercentage)throw new ke("percentage is not supported");this.useExceptionPointer(m=>{mi.use(this,o,_=>{f._api._MagickImage_EvaluateGeometry(this._instance,t,_,l,c,m)})})}}extent(t,e,r){let i=Yn.Undefined,o;typeof t!="number"?o=t:typeof e=="number"&&(o=new je(t,e)),typeof e=="number"?i=e:e!==void 0&&(this.backgroundColor=e),typeof r=="number"?i=r:r!==void 0&&(this.backgroundColor=r),this.useException(l=>{ne(o.toString(),c=>{const m=f._api._MagickImage_Extent(this._instance,c,i,l.ptr);this._setInstance(m,l)})})}flip(){this.useException(t=>{const e=f._api._MagickImage_Flip(this._instance,t.ptr);this._setInstance(e,t)})}flop(){this.useException(t=>{const e=f._api._MagickImage_Flop(this._instance,t.ptr);this._setInstance(e,t)})}gaussianBlur(t,e,r){const i=this.valueOrDefault(e,1),o=this.valueOrDefault(r,Ie.Undefined);this.useException(l=>{const c=f._api._MagickImage_GaussianBlur(this._instance,t,i,o,l.ptr);this._setInstance(c,l)})}getArtifact(t){return ne(t,e=>{const r=f._api._MagickImage_GetArtifact(this._instance,e);return Xe(r)})}getAttribute(t){return this.useException(e=>ne(t,r=>{const i=f._api._MagickImage_GetAttribute(this._instance,r,e.ptr);return Xe(i)}))}getPixels(t){if(this._settings._ping)throw new ke("image contains no pixel data");return Qt._use(this,t)}getProfile(t){return ne(t,e=>{const r=f._api._MagickImage_GetProfile(this._instance,e),i=ws.toArray(r);return i===null?null:new Ms(t,i)})}getWriteMask(t){const e=this.useExceptionPointer(i=>f._api._MagickImage_GetWriteMask(this._instance,i)),r=e===0?null:new Le(e,new qt);return r==null?t(r):r._use(t)}grayscale(t=hi.Undefined){this.useExceptionPointer(e=>{f._api._MagickImage_Grayscale(this._instance,t,e)})}histogram(){const t=new Map;return this.useExceptionPointer(e=>{ut.use(r=>{const i=f._api._MagickImage_Histogram(this._instance,r.ptr,e);if(i!==0){const o=r.value;for(let l=0;l<o;l++){const c=f._api._MagickColorCollection_GetInstance(i,l),m=$t._create(c),_=f._api._MagickColor_Count_Get(c);t.set(m.toString(),_)}f._api._MagickColorCollection_DisposeList(i)}})}),t}inverseContrast=()=>this._contrast(!1);inverseLevel(t,e,r,i){const o=this.valueOrDefault(r,1),l=this.valueOrDefault(i,Ie.Composite);this.useExceptionPointer(c=>{f._api._MagickImage_InverseLevel(this._instance,t.toDouble(),e._toQuantum(),o,l,c)})}inverseOpaque=(t,e)=>this._opaque(t,e,!0);inverseSigmoidalContrast(t,e,r){this._sigmoidalContrast(!1,t,e,r)}inverseTransparent=t=>this._transparent(t,!0);level(t,e,r,i){const o=this.valueOrDefault(r,1),l=this.valueOrDefault(i,Ie.Composite);this.useExceptionPointer(c=>{f._api._MagickImage_Level(this._instance,t.toDouble(),e._toQuantum(),o,l,c)})}linearStretch(t,e){this.useExceptionPointer(r=>{f._api._MagickImage_LinearStretch(this._instance,t.toDouble(),e._toQuantum(),r)})}liquidRescale(t,e){const r=typeof t=="number"?new je(t,e):t;this.useException(i=>{ne(r.toString(),o=>{const l=f._api._MagickImage_LiquidRescale(this._instance,o,r.x,r.y,i.ptr);this._setInstance(l,i)})})}negate(t){this.useExceptionPointer(e=>{const r=this.valueOrDefault(t,Ie.Undefined);f._api._MagickImage_Negate(this._instance,0,r,e)})}negateGrayScale(t){this.useExceptionPointer(e=>{const r=this.valueOrDefault(t,Ie.Undefined);f._api._MagickImage_Negate(this._instance,1,r,e)})}normalize(){this.useExceptionPointer(t=>{f._api._MagickImage_Normalize(this._instance,t)})}modulate(t,e,r){const i=this.valueOrDefault(e,new Fe(100)),o=this.valueOrDefault(r,new Fe(100));this.useExceptionPointer(l=>{const c=`${t.toDouble()}/${i.toDouble()}/${o.toDouble()}`;ne(c,m=>{f._api._MagickImage_Modulate(this._instance,m,l)})})}morphology(t){this.useException(e=>{ne(t.kernel,r=>{const i=f._api._MagickImage_Morphology(this._instance,t.method,r,t.channels,t.iterations,e.ptr);this._setInstance(i,e)})})}motionBlur(t,e,r){this.useException(i=>{const o=f._api._MagickImage_MotionBlur(this._instance,t,e,r,i.ptr);this._setInstance(o,i)})}oilPaint(t){const e=this.valueOrDefault(t,3),r=0;this.useException(i=>{const o=f._api._MagickImage_OilPaint(this._instance,e,r,i.ptr);this._setInstance(o,i)})}opaque=(t,e)=>this._opaque(t,e,!1);ping(t,e){this.readOrPing(!0,t,e)}quantize(t){this.useException(e=>{t._use(r=>{f._api._MagickImage_Quantize(this._instance,r._instance,e.ptr)})})}read(t,e,r){this.readOrPing(!1,t,e,r)}readFromCanvas(t,e){const r=t.getContext("2d",e);if(r===null)return;const i=r.getImageData(0,0,t.width,t.height),o=new Ct;o.format=Ae.Rgba,o.width=t.width,o.height=t.height,this.useException(l=>{this.readFromArray(i.data,o,l)})}removeArtifact(t){ne(t,e=>{f._api._MagickImage_RemoveArtifact(this._instance,e)})}removeAttribute(t){ne(t,e=>{f._api._MagickImage_RemoveAttribute(this._instance,e)})}removeProfile(t){const e=typeof t=="string"?t:t.name;ne(e,r=>{f._api._MagickImage_RemoveProfile(this._instance,r)})}removeWriteMask(){this.useExceptionPointer(t=>{f._api._MagickImage_SetWriteMask(this._instance,0,t)})}repage(){this.page=new je(0,0,0,0)}resize(t,e){const r=typeof t=="number"?new je(t,e):t;this.useException(i=>{ne(r.toString(),o=>{const l=f._api._MagickImage_Resize(this._instance,o,i.ptr);this._setInstance(l,i)})})}rotate(t){this.useException(e=>{const r=f._api._MagickImage_Rotate(this._instance,t,e.ptr);this._setInstance(r,e)})}separate(t,e){return this.useException(r=>{let i,o=Ie.Undefined;if(typeof t=="number"&&e!==void 0)o=t,i=e;else if(typeof t=="function")i=t;else throw new ke("invalid arguments");const l=f._api._MagickImage_Separate(this._instance,o,r.ptr);return rt._createFromImages(l,this._settings)._use(i)})}sepiaTone(t=new Fe(80)){this.useException(e=>{const r=typeof t=="number"?new Fe(t):t,i=f._api._MagickImage_SepiaTone(this._instance,r._toQuantum(),e.ptr);this._setInstance(i,e)})}setArtifact(t,e){let r;typeof e=="string"?r=e:r=this.fromBool(e).toString(),ne(t,i=>{ne(r,o=>{f._api._MagickImage_SetArtifact(this._instance,i,o)})})}setAttribute(t,e){this.useException(r=>{ne(t,i=>{ne(e,o=>{f._api._MagickImage_SetAttribute(this._instance,i,o,r.ptr)})})})}setProfile(t,e){const r=typeof t=="string"?t:t.name;let i;e!==void 0?i=e:typeof t!="string"&&(i=t.data),this.useException(o=>{ne(r,l=>{_i(i,c=>{f._api._MagickImage_SetProfile(this._instance,l,c,i.byteLength,o.ptr)})})})}setWriteMask(t){this.useExceptionPointer(e=>{f._api._MagickImage_SetWriteMask(this._instance,t._instance,e)})}sharpen(t,e,r){const i=this.valueOrDefault(t,0),o=this.valueOrDefault(e,1),l=this.valueOrDefault(r,Ie.Undefined);this.useException(c=>{const m=f._api._MagickImage_Sharpen(this._instance,i,o,l,c.ptr);this._setInstance(m,c)})}shave(t,e){this.useException(r=>{const i=f._api._MagickImage_Shave(this._instance,t,e,r.ptr);this._setInstance(i,r)})}sigmoidalContrast(t,e,r){this._sigmoidalContrast(!0,t,e,r)}solarize(t=new Fe(50)){this.useException(e=>{const r=typeof t=="number"?new Fe(t):t;f._api._MagickImage_Solarize(this._instance,r._toQuantum(),e.ptr)})}splice(t){mi.use(this,t,e=>{this.useException(r=>{const i=f._api._MagickImage_Splice(this._instance,e,r.ptr);this._setInstance(i,r)})})}statistics(t){const e=this.valueOrDefault(t,Ie.All);return this.useExceptionPointer(r=>{const i=f._api._MagickImage_Statistics(this._instance,e,r),o=br._create(this,i,e);return f._api._Statistics_DisposeList(i),o})}strip(){this.useExceptionPointer(t=>{f._api._MagickImage_Strip(this._instance,t)})}threshold(t,e){const r=this.valueOrDefault(e,Ie.Undefined);this.useExceptionPointer(i=>{f._api._MagickImage_Threshold(this._instance,t._toQuantum(),r,i)})}toString=()=>`${this.format} ${this.width}x${this.height} ${this.depth}-bit ${li[this.colorSpace]}`;transparent(t){t._use(e=>{this.useExceptionPointer(r=>{f._api._MagickImage_Transparent(this._instance,e,0,r)})})}trim(...t){if(t.length>0)if(t.length==1&&t[0]instanceof Fe){const e=t[0];this.setArtifact("trim:percent-background",e.toDouble().toString())}else{const e=t,r=[...new Set(ys(e))].join(",");this.setArtifact("trim:edges",r)}this.useException(e=>{const r=f._api._MagickImage_Trim(this._instance,e.ptr);this._setInstance(r,e),this.removeArtifact("trim:edges"),this.removeArtifact("trim:percent-background")})}wave(t,e,r){const i=this.valueOrDefault(t,this.interpolate),o=this.valueOrDefault(e,25),l=this.valueOrDefault(r,150);this.useException(c=>{const m=f._api._MagickImage_Wave(this._instance,i,o,l,c.ptr);this._setInstance(m,c)})}vignette(t,e,r,i){const o=this.valueOrDefault(t,0),l=this.valueOrDefault(e,1),c=this.valueOrDefault(r,0),m=this.valueOrDefault(i,0);this.useException(_=>{const d=f._api._MagickImage_Vignette(this._instance,o,l,c,m,_.ptr);this._setInstance(d,_)})}write(t,e){let r=0,i=0;e!==void 0?this._settings.format=t:e=t,this.useException(l=>{ut.use(c=>{this._settings._use(m=>{try{r=f._api._MagickImage_WriteBlob(this._instance,m._instance,c.ptr,l.ptr),i=c.value}catch{r!==0&&(r=f._api._MagickMemory_Relinquish(r))}})})});const o=new ci(r,i,e);return $e._disposeAfterExecution(o,o.func)}writeToCanvas(t,e){t.width=this.width,t.height=this.height;const r=t.getContext("2d",e);r!==null&&Qt._map(this,"RGBA",i=>{const o=r.createImageData(this.width,this.height);let l=0;for(let c=0;c<this.height;c++)for(let m=0;m<this.width;m++)o.data[l++]=f._api.HEAPU8[i++],o.data[l++]=f._api.HEAPU8[i++],o.data[l++]=f._api.HEAPU8[i++],o.data[l++]=f._api.HEAPU8[i++];r.putImageData(o,0,0)})}static _createFromImage(t,e){return new Le(t,e)}_channelOffset(t){return f._api._MagickImage_HasChannel(this._instance,t)?f._api._MagickImage_ChannelOffset(this._instance,t):-1}static _clone(t){return X.usePointer(e=>new Le(f._api._MagickImage_Clone(t._instance,e),t._settings._clone()))}_getSettings(){return this._settings}_instanceNotInitialized(){throw new ke("no image has been read")}_setInstance(t,e){if(super._setInstance(t,e)===!0||t===0&&this.onProgress!==void 0)return!0;throw new ke("out of memory")}_use(t){return $e._disposeAfterExecution(this,t)}static _create(t){return Le.create()._use(t)}onDispose(){this.disposeProgressDelegate()}_contrast(t){this.useExceptionPointer(e=>{f._api._MagickImage_Contrast(this._instance,this.fromBool(t),e)})}_opaque(t,e,r){this.useExceptionPointer(i=>{t._use(o=>{e._use(l=>{f._api._MagickImage_Opaque(this._instance,o,l,this.fromBool(r),i)})})})}_sigmoidalContrast(t,e,r,i){let o;r!==void 0?typeof r=="number"?o=r:o=r.multiply(Rt.max):o=Rt.max*.5;const l=this.valueOrDefault(i,Ie.Undefined);this.useExceptionPointer(c=>{f._api._MagickImage_SigmoidalContrast(this._instance,this.fromBool(t),e,o,l,c)})}_transparent(t,e){t._use(r=>{this.useExceptionPointer(i=>{f._api._MagickImage_Transparent(this._instance,r,this.fromBool(e),i)})})}static createInstance(){return X.usePointer(t=>f._api._MagickImage_Create(0,t))}fromBool(t){return t?1:0}disposeProgressDelegate(){Pe.removeProgressDelegate(this),this._progress=void 0}readOrPing(t,e,r,i){this.useException(o=>{const l=r instanceof Ct?r:new Ct(this._settings);if(l._ping=t,this._settings._ping=t,typeof e=="string")l._fileName=e;else if(ii(e)){this.readFromArray(e,l,o);return}else l._fileName="xc:"+e.toShortString(),l.width=typeof r=="number"?r:0,l.height=typeof i=="number"?i:0;l._use(c=>{const m=f._api._MagickImage_ReadFile(c._instance,o.ptr);this._setInstance(m,o)})})}readFromArray(t,e,r){e._use(i=>{_i(t,o=>{const l=f._api._MagickImage_ReadBlob(i._instance,o,0,t.byteLength,r.ptr);this._setInstance(l,r)})})}toBool(t){return t===1}valueOrDefault(t,e){return t===void 0?e:t}useException(t){return X.use(t,e=>{this.onWarning!==void 0&&this.onWarning(new pi(e))})}useExceptionPointer(t){return X.usePointer(t,e=>{this.onWarning!==void 0&&this.onWarning(new pi(e))})}}class Cs{constructor(t){if(t instanceof URL){if(t.protocol!=="http:"&&t.protocol!=="https:")throw new Error("Only http/https protocol is supported");this.locateFile=()=>t.href}else t instanceof WebAssembly.Module?this.instantiateWasm=(e,r)=>{const i=new WebAssembly.Instance(t,e);r(i)}:this.wasmBinary=t}wasmBinary;instantiateWasm;locateFile}let f=class{loader;api;constructor(){this.loader=(t,e)=>new Promise((r,i)=>{if(this.api!==void 0){r();return}const o=new Cs(t);_s(o).then(l=>{try{this.writeConfigurationFiles(l,e),wr(l,"MAGICK_CONFIGURE_PATH",c=>{wr(l,"/xml",m=>{l._Environment_SetEnv(c,m),this.api=l,r()})})}catch(c){i(c)}})})}async _initialize(t,e){await this.loader(t,e)}static get _api(){if(!$n.api)throw new ke("`await initializeImageMagick` should be called to initialize the library");return $n.api}static set _api(t){$n.api=t}static read(t,e,r,i){return Le._create(o=>{let l=i;if(typeof t!="string"&&!ii(t))typeof e=="number"&&typeof r=="number"&&o.read(t,e,r);else if(typeof e!="number"&&typeof r!="number"){l=r;let c;e instanceof Ct?c=e:typeof e=="string"?(c=new Ct,c.format=e):l=e,o.read(t,c)}return l(o)})}static readCollection(t,e,r){return rt.create()._use(i=>{let o=r,l;return e instanceof Ct?l=e:typeof e=="string"?(l=new Ct,l.format=e):o=e,i.read(t,l),o(i)})}static readFromCanvas(t,e,r){return Le._create(i=>(i.readFromCanvas(t,r),e(i)))}writeConfigurationFiles(t,e){t.FS.analyzePath("/xml").exists||t.FS.mkdir("/xml");for(const r of e.all()){const i=t.FS.open(`/xml/${r.fileName}`,"w"),o=new TextEncoder().encode(r.data);t.FS.write(i,o,0,o.length),t.FS.close(i)}}};const $n=new f;async function Is(n,t){await $n._initialize(n,kr.default)}class Es{constructor(t,e,r){this.origin=t,this.progress=new Fe((e+1)/(r*100))}origin;progress;cancel=!1}class Pe{static _logDelegate=0;static _onLog;static _progressDelegate=0;static _images={};static setLogDelegate(t){Pe._logDelegate===0&&t!==void 0&&(Pe._logDelegate=f._api.addFunction(Pe.logDelegate,"vii")),f._api._Magick_SetLogDelegate(t===void 0?0:Pe._logDelegate),Pe._onLog=t}static setProgressDelegate(t){Pe._progressDelegate===0&&(this._progressDelegate=f._api.addFunction(Pe.progressDelegate,"iijji")),this._images[t._instance]=t,f._api._MagickImage_SetClientData(t._instance,t._instance),f._api._MagickImage_SetProgressDelegate(t._instance,Pe._progressDelegate)}static removeProgressDelegate(t){f._api._MagickImage_SetClientData(t._instance,0),f._api._MagickImage_SetProgressDelegate(t._instance,0),delete Pe._images[t._instance]}static logDelegate(t,e){if(Pe._onLog===void 0)return;const r=Xe(e);Pe._onLog(new ms(t,r))}static progressDelegate(t,e,r,i){const o=Pe._images[i];if(o===void 0||o.onProgress===void 0)return 1;const l=Number(e),c=Number(r),m=Xe(t),_=new Es(m,l,c);return o.onProgress(_),_.cancel?0:1}}class It{static _allFormats;constructor(t,e,r,i,o){this.format=t,this.description=e,this.supportsMultipleFrames=r,this.supportsReading=i,this.supportsWriting=o}description;format;supportsMultipleFrames;supportsReading;supportsWriting;static get all(){return It._allFormats===void 0&&(It._allFormats=It.loadFormats()),It._allFormats}static loadFormats(){return X.usePointer(t=>ut.use(e=>{const r=f._api._MagickFormatInfo_CreateList(e.ptr,t),i=e.value;try{const o=new Array(i),l=Object.values(Ae);for(let c=0;c<i;c++){const m=f._api._MagickFormatInfo_GetInfo(r,c,t),_=Xe(f._api._MagickFormatInfo_Format_Get(m)),d=It.convertFormat(_,l),S=Xe(f._api._MagickFormatInfo_Description_Get(m),""),k=f._api._MagickFormatInfo_SupportsMultipleFrames_Get(m)==1,M=f._api._MagickFormatInfo_SupportsReading_Get(m)==1,E=f._api._MagickFormatInfo_SupportsWriting_Get(m)==1;o[c]=new It(d,S,k,M,E)}return o}finally{f._api._MagickFormatInfo_DisposeList(r,i)}}))}static convertFormat(t,e){return t===null?Ae.Unknown:e.includes(t)?t:Ae.Unknown}}var pe=(n=>(n[n.None=0]="None",n[n.Accelerate=1]="Accelerate",n[n.Annotate=2]="Annotate",n[n.Blob=4]="Blob",n[n.Cache=8]="Cache",n[n.Coder=16]="Coder",n[n.Configure=32]="Configure",n[n.Deprecate=64]="Deprecate",n[n.Draw=128]="Draw",n[n.Exception=256]="Exception",n[n.Image=512]="Image",n[n.Locale=1024]="Locale",n[n.Module=2048]="Module",n[n.Pixel=4096]="Pixel",n[n.Policy=8192]="Policy",n[n.Resource=16384]="Resource",n[n.Trace=32768]="Trace",n[n.Transform=65536]="Transform",n[n.User=131072]="User",n[n.Wand=262144]="Wand",n[n.Detailed=2147450879]="Detailed",n[n.All=2147483647]="All",n))(pe||{});class Nt{static get delegates(){return Xe(f._api._Magick_Delegates_Get())}static get features(){return Xe(f._api._Magick_Features_Get()).slice(0,-1)}static get imageMagickVersion(){return Xe(f._api._Magick_ImageMagickVersion_Get())}static get supportedFormats(){return It.all}static onLog;static addFont(t,e){const r=f._api.FS;r.analyzePath("/fonts").exists||r.mkdir("/fonts");const i=r.open(`/fonts/${t}`,"w");r.write(i,e,0,e.length),r.close(i)}static setRandomSeed=t=>f._api._Magick_SetRandomSeed(t);static setLogEvents(t){const e=t==pe.None?void 0:Nt.logDelegate;Pe.setLogDelegate(e);const r=Nt.getEventTypeString(t);ne(r,i=>f._api._Magick_SetLogEvents(i))}static _getFontFileName(t){const e=`/fonts/${t}`;if(!f._api.FS.analyzePath(e).exists)throw`Unable to find a font with the name '${t}', add it with Magick.addFont.`;return e}static getEventTypeString(t){if(t==pe.All)return"All,Trace";if(t==pe.Detailed)return"All";switch(t){case pe.Accelerate:return"Accelerate";case pe.Annotate:return"Annotate";case pe.Blob:return"Blob";case pe.Cache:return"Cache";case pe.Coder:return"Coder";case pe.Configure:return"Configure";case pe.Deprecate:return"Deprecate";case pe.Draw:return"Draw";case pe.Exception:return"Exception";case pe.Image:return"Image";case pe.Locale:return"Locale";case pe.Module:return"Module";case pe.Pixel:return"Pixel";case pe.Policy:return"Policy";case pe.Resource:return"Resource";case pe.Trace:return"Trace";case pe.Transform:return"Transform";case pe.User:return"User";case pe.Wand:return"Wand";case pe.None:default:return"None"}}static logDelegate(t){Nt.onLog!==void 0&&Nt.onLog(t)}}var fi=(n=>(n[n.Undefined=0]="Undefined",n[n.B44A=1]="B44A",n[n.B44=2]="B44",n[n.BZip=3]="BZip",n[n.DXT1=4]="DXT1",n[n.DXT3=5]="DXT3",n[n.DXT5=6]="DXT5",n[n.Fax=7]="Fax",n[n.Group4=8]="Group4",n[n.JBIG1=9]="JBIG1",n[n.JBIG2=10]="JBIG2",n[n.JPEG2000=11]="JPEG2000",n[n.JPEG=12]="JPEG",n[n.LosslessJPEG=13]="LosslessJPEG",n[n.LZMA=14]="LZMA",n[n.LZW=15]="LZW",n[n.NoCompression=16]="NoCompression",n[n.Piz=17]="Piz",n[n.Pxr24=18]="Pxr24",n[n.RLE=19]="RLE",n[n.Zip=20]="Zip",n[n.ZipS=21]="ZipS",n[n.Zstd=22]="Zstd",n[n.WebP=23]="WebP",n[n.DWAA=24]="DWAA",n[n.DWAB=25]="DWAB",n[n.BC7=26]="BC7",n[n.BC5=27]="BC5",n))(fi||{});const Dr={bmp:{name:"BMP",mime:"bmp",format:Ae.Bmp,ext:"bmp"},gif:{name:"GIF",mime:"gif",format:Ae.Gif,ext:"gif"},ico:{name:"ICO",mime:"ico",format:Ae.Ico,ext:"ico"},jpeg:{name:"JPEG",mime:"jpeg",format:Ae.Jpeg,ext:"jpeg"},jpg:{name:"JPG",mime:"jpeg",format:Ae.Jpg,ext:"jpg"},png:{name:"PNG",mime:"png",format:Ae.Png,ext:"png"},tiff:{name:"TIFF",mime:"tiff",format:Ae.Tiff,ext:"tiff"},webp:{name:"WEBP",mime:"webp",format:Ae.WebP,ext:"webp"}};var di={},xs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof di<"u"?di:typeof self<"u"?self:{};function yi(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qn={exports:{}},vn={exports:{}};(function(){var n,t,e,r,i,o;typeof performance<"u"&&performance!==null&&performance.now?vn.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(vn.exports=function(){return(n()-i)/1e6},t=process.hrtime,n=function(){var l;return l=t(),l[0]*1e9+l[1]},r=n(),o=process.uptime()*1e9,i=r-o):Date.now?(vn.exports=function(){return Date.now()-e},e=Date.now()):(vn.exports=function(){return new Date().getTime()-e},e=new Date().getTime())}).call(xs);for(var bs=vn.exports,Ds={},Ts=bs,ct=typeof window>"u"?Ds:window,Qn=["moz","webkit"],Kt="AnimationFrame",Jt=ct["request"+Kt],Sn=ct["cancel"+Kt]||ct["cancelRequest"+Kt],kn=0;!Jt&&kn<Qn.length;kn++)Jt=ct[Qn[kn]+"Request"+Kt],Sn=ct[Qn[kn]+"Cancel"+Kt]||ct[Qn[kn]+"CancelRequest"+Kt];if(!Jt||!Sn){var Tr=0,Mi=0,Ot=[],As=1e3/60;Jt=function(n){if(Ot.length===0){var t=Ts(),e=Math.max(0,As-(t-Tr));Tr=e+t,setTimeout(function(){var r=Ot.slice(0);Ot.length=0;for(var i=0;i<r.length;i++)if(!r[i].cancelled)try{r[i].callback(Tr)}catch(o){setTimeout(function(){throw o},0)}},Math.round(e))}return Ot.push({handle:++Mi,callback:n,cancelled:!1}),Mi},Sn=function(n){for(var t=0;t<Ot.length;t++)Ot[t].handle===n&&(Ot[t].cancelled=!0)}}qn.exports=function(n){return Jt.call(ct,n)},qn.exports.cancel=function(){Sn.apply(ct,arguments)},qn.exports.polyfill=function(n){n||(n=ct),n.requestAnimationFrame=Jt,n.cancelAnimationFrame=Sn};var Ps=qn.exports,Ar=yi(Ps),Rs=function(n){this.ok=!1,this.alpha=1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n=n.replace(/ /g,""),n=n.toLowerCase();var t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};n=t[n]||n;for(var e=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(m){return[parseInt(m[1]),parseInt(m[2]),parseInt(m[3]),parseFloat(m[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(m){return[parseInt(m[1]),parseInt(m[2]),parseInt(m[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(m){return[parseInt(m[1],16),parseInt(m[2],16),parseInt(m[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(m){return[parseInt(m[1]+m[1],16),parseInt(m[2]+m[2],16),parseInt(m[3]+m[3],16)]}}],r=0;r<e.length;r++){var i=e[r].re,o=e[r].process,l=i.exec(n);if(l){var c=o(l);this.r=c[0],this.g=c[1],this.b=c[2],c.length>3&&(this.alpha=c[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var m=this.r.toString(16),_=this.g.toString(16),d=this.b.toString(16);return m.length==1&&(m="0"+m),_.length==1&&(_="0"+_),d.length==1&&(d="0"+d),"#"+m+_+d},this.getHelpXML=function(){for(var m=new Array,_=0;_<e.length;_++)for(var d=e[_].example,S=0;S<d.length;S++)m[m.length]=d[S];for(var k in t)m[m.length]=k;var M=document.createElement("ul");M.setAttribute("id","rgbcolor-examples");for(var _=0;_<m.length;_++)try{var E=document.createElement("li"),I=new RGBColor(m[_]),x=document.createElement("div");x.style.cssText="margin: 3px; border: 1px solid black; background:"+I.toHex()+"; color:"+I.toHex(),x.appendChild(document.createTextNode("test"));var R=document.createTextNode(" "+m[_]+" -> "+I.toRGB()+" -> "+I.toHex());E.appendChild(x),E.appendChild(R),M.appendChild(E)}catch{}return M}},Pr=yi(Rs);/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var vi=function(n,t){return(vi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])})(n,t)};function Si(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}vi(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function Gs(n){var t="";Array.isArray(n)||(n=[n]);for(var e=0;e<n.length;e++){var r=n[e];if(r.type===b.CLOSE_PATH)t+="z";else if(r.type===b.HORIZ_LINE_TO)t+=(r.relative?"h":"H")+r.x;else if(r.type===b.VERT_LINE_TO)t+=(r.relative?"v":"V")+r.y;else if(r.type===b.MOVE_TO)t+=(r.relative?"m":"M")+r.x+" "+r.y;else if(r.type===b.LINE_TO)t+=(r.relative?"l":"L")+r.x+" "+r.y;else if(r.type===b.CURVE_TO)t+=(r.relative?"c":"C")+r.x1+" "+r.y1+" "+r.x2+" "+r.y2+" "+r.x+" "+r.y;else if(r.type===b.SMOOTH_CURVE_TO)t+=(r.relative?"s":"S")+r.x2+" "+r.y2+" "+r.x+" "+r.y;else if(r.type===b.QUAD_TO)t+=(r.relative?"q":"Q")+r.x1+" "+r.y1+" "+r.x+" "+r.y;else if(r.type===b.SMOOTH_QUAD_TO)t+=(r.relative?"t":"T")+r.x+" "+r.y;else{if(r.type!==b.ARC)throw new Error('Unexpected command type "'+r.type+'" at index '+e+".");t+=(r.relative?"a":"A")+r.rX+" "+r.rY+" "+r.xRot+" "+ +r.lArcFlag+" "+ +r.sweepFlag+" "+r.x+" "+r.y}}return t}function Rr(n,t){var e=n[0],r=n[1];return[e*Math.cos(t)-r*Math.sin(t),e*Math.sin(t)+r*Math.cos(t)]}function Ke(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var e=0;e<n.length;e++)if(typeof n[e]!="number")throw new Error("assertNumbers arguments["+e+"] is not a number. "+typeof n[e]+" == typeof "+n[e]);return!0}var Et=Math.PI;function Gr(n,t,e){n.lArcFlag=n.lArcFlag===0?0:1,n.sweepFlag=n.sweepFlag===0?0:1;var r=n.rX,i=n.rY,o=n.x,l=n.y;r=Math.abs(n.rX),i=Math.abs(n.rY);var c=Rr([(t-o)/2,(e-l)/2],-n.xRot/180*Et),m=c[0],_=c[1],d=Math.pow(m,2)/Math.pow(r,2)+Math.pow(_,2)/Math.pow(i,2);1<d&&(r*=Math.sqrt(d),i*=Math.sqrt(d)),n.rX=r,n.rY=i;var S=Math.pow(r,2)*Math.pow(_,2)+Math.pow(i,2)*Math.pow(m,2),k=(n.lArcFlag!==n.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(r,2)*Math.pow(i,2)-S)/S)),M=r*_/i*k,E=-i*m/r*k,I=Rr([M,E],n.xRot/180*Et);n.cX=I[0]+(t+o)/2,n.cY=I[1]+(e+l)/2,n.phi1=Math.atan2((_-E)/i,(m-M)/r),n.phi2=Math.atan2((-_-E)/i,(-m-M)/r),n.sweepFlag===0&&n.phi2>n.phi1&&(n.phi2-=2*Et),n.sweepFlag===1&&n.phi2<n.phi1&&(n.phi2+=2*Et),n.phi1*=180/Et,n.phi2*=180/Et}function ki(n,t,e){Ke(n,t,e);var r=n*n+t*t-e*e;if(0>r)return[];if(r===0)return[[n*e/(n*n+t*t),t*e/(n*n+t*t)]];var i=Math.sqrt(r);return[[(n*e+t*i)/(n*n+t*t),(t*e-n*i)/(n*n+t*t)],[(n*e-t*i)/(n*n+t*t),(t*e+n*i)/(n*n+t*t)]]}var we,gt=Math.PI/180;function wi(n,t,e){return(1-e)*n+e*t}function Ci(n,t,e,r){return n+Math.cos(r/180*Et)*t+Math.sin(r/180*Et)*e}function Ii(n,t,e,r){var i=1e-6,o=t-n,l=e-t,c=3*o+3*(r-e)-6*l,m=6*(l-o),_=3*o;return Math.abs(c)<i?[-_/m]:function(d,S,k){var M=d*d/4-S;if(M<-k)return[];if(M<=k)return[-d/2];var E=Math.sqrt(M);return[-d/2-E,-d/2+E]}(m/c,_/c,i)}function Ei(n,t,e,r,i){var o=1-i;return n*(o*o*o)+t*(3*o*o*i)+e*(3*o*i*i)+r*(i*i*i)}(function(n){function t(){return i(function(c,m,_){return c.relative&&(c.x1!==void 0&&(c.x1+=m),c.y1!==void 0&&(c.y1+=_),c.x2!==void 0&&(c.x2+=m),c.y2!==void 0&&(c.y2+=_),c.x!==void 0&&(c.x+=m),c.y!==void 0&&(c.y+=_),c.relative=!1),c})}function e(){var c=NaN,m=NaN,_=NaN,d=NaN;return i(function(S,k,M){return S.type&b.SMOOTH_CURVE_TO&&(S.type=b.CURVE_TO,c=isNaN(c)?k:c,m=isNaN(m)?M:m,S.x1=S.relative?k-c:2*k-c,S.y1=S.relative?M-m:2*M-m),S.type&b.CURVE_TO?(c=S.relative?k+S.x2:S.x2,m=S.relative?M+S.y2:S.y2):(c=NaN,m=NaN),S.type&b.SMOOTH_QUAD_TO&&(S.type=b.QUAD_TO,_=isNaN(_)?k:_,d=isNaN(d)?M:d,S.x1=S.relative?k-_:2*k-_,S.y1=S.relative?M-d:2*M-d),S.type&b.QUAD_TO?(_=S.relative?k+S.x1:S.x1,d=S.relative?M+S.y1:S.y1):(_=NaN,d=NaN),S})}function r(){var c=NaN,m=NaN;return i(function(_,d,S){if(_.type&b.SMOOTH_QUAD_TO&&(_.type=b.QUAD_TO,c=isNaN(c)?d:c,m=isNaN(m)?S:m,_.x1=_.relative?d-c:2*d-c,_.y1=_.relative?S-m:2*S-m),_.type&b.QUAD_TO){c=_.relative?d+_.x1:_.x1,m=_.relative?S+_.y1:_.y1;var k=_.x1,M=_.y1;_.type=b.CURVE_TO,_.x1=((_.relative?0:d)+2*k)/3,_.y1=((_.relative?0:S)+2*M)/3,_.x2=(_.x+2*k)/3,_.y2=(_.y+2*M)/3}else c=NaN,m=NaN;return _})}function i(c){var m=0,_=0,d=NaN,S=NaN;return function(k){if(isNaN(d)&&!(k.type&b.MOVE_TO))throw new Error("path must start with moveto");var M=c(k,m,_,d,S);return k.type&b.CLOSE_PATH&&(m=d,_=S),k.x!==void 0&&(m=k.relative?m+k.x:k.x),k.y!==void 0&&(_=k.relative?_+k.y:k.y),k.type&b.MOVE_TO&&(d=m,S=_),M}}function o(c,m,_,d,S,k){return Ke(c,m,_,d,S,k),i(function(M,E,I,x){var R=M.x1,Y=M.x2,A=M.relative&&!isNaN(x),F=M.x!==void 0?M.x:A?0:E,te=M.y!==void 0?M.y:A?0:I;function W(He){return He*He}M.type&b.HORIZ_LINE_TO&&m!==0&&(M.type=b.LINE_TO,M.y=M.relative?0:I),M.type&b.VERT_LINE_TO&&_!==0&&(M.type=b.LINE_TO,M.x=M.relative?0:E),M.x!==void 0&&(M.x=M.x*c+te*_+(A?0:S)),M.y!==void 0&&(M.y=F*m+M.y*d+(A?0:k)),M.x1!==void 0&&(M.x1=M.x1*c+M.y1*_+(A?0:S)),M.y1!==void 0&&(M.y1=R*m+M.y1*d+(A?0:k)),M.x2!==void 0&&(M.x2=M.x2*c+M.y2*_+(A?0:S)),M.y2!==void 0&&(M.y2=Y*m+M.y2*d+(A?0:k));var B=c*d-m*_;if(M.xRot!==void 0&&(c!==1||m!==0||_!==0||d!==1))if(B===0)delete M.rX,delete M.rY,delete M.xRot,delete M.lArcFlag,delete M.sweepFlag,M.type=b.LINE_TO;else{var K=M.xRot*Math.PI/180,J=Math.sin(K),T=Math.cos(K),O=1/W(M.rX),me=1/W(M.rY),re=W(T)*O+W(J)*me,_e=2*J*T*(O-me),ue=W(J)*O+W(T)*me,Q=re*d*d-_e*m*d+ue*m*m,Z=_e*(c*d+m*_)-2*(re*_*d+ue*c*m),be=re*_*_-_e*c*_+ue*c*c,he=(Math.atan2(Z,Q-be)+Math.PI)%Math.PI/2,ge=Math.sin(he),Te=Math.cos(he);M.rX=Math.abs(B)/Math.sqrt(Q*W(Te)+Z*ge*Te+be*W(ge)),M.rY=Math.abs(B)/Math.sqrt(Q*W(ge)-Z*ge*Te+be*W(Te)),M.xRot=180*he/Math.PI}return M.sweepFlag!==void 0&&0>B&&(M.sweepFlag=+!M.sweepFlag),M})}function l(){return function(c){var m={};for(var _ in c)m[_]=c[_];return m}}n.ROUND=function(c){function m(_){return Math.round(_*c)/c}return c===void 0&&(c=1e13),Ke(c),function(_){return _.x1!==void 0&&(_.x1=m(_.x1)),_.y1!==void 0&&(_.y1=m(_.y1)),_.x2!==void 0&&(_.x2=m(_.x2)),_.y2!==void 0&&(_.y2=m(_.y2)),_.x!==void 0&&(_.x=m(_.x)),_.y!==void 0&&(_.y=m(_.y)),_.rX!==void 0&&(_.rX=m(_.rX)),_.rY!==void 0&&(_.rY=m(_.rY)),_}},n.TO_ABS=t,n.TO_REL=function(){return i(function(c,m,_){return c.relative||(c.x1!==void 0&&(c.x1-=m),c.y1!==void 0&&(c.y1-=_),c.x2!==void 0&&(c.x2-=m),c.y2!==void 0&&(c.y2-=_),c.x!==void 0&&(c.x-=m),c.y!==void 0&&(c.y-=_),c.relative=!0),c})},n.NORMALIZE_HVZ=function(c,m,_){return c===void 0&&(c=!0),m===void 0&&(m=!0),_===void 0&&(_=!0),i(function(d,S,k,M,E){if(isNaN(M)&&!(d.type&b.MOVE_TO))throw new Error("path must start with moveto");return m&&d.type&b.HORIZ_LINE_TO&&(d.type=b.LINE_TO,d.y=d.relative?0:k),_&&d.type&b.VERT_LINE_TO&&(d.type=b.LINE_TO,d.x=d.relative?0:S),c&&d.type&b.CLOSE_PATH&&(d.type=b.LINE_TO,d.x=d.relative?M-S:M,d.y=d.relative?E-k:E),d.type&b.ARC&&(d.rX===0||d.rY===0)&&(d.type=b.LINE_TO,delete d.rX,delete d.rY,delete d.xRot,delete d.lArcFlag,delete d.sweepFlag),d})},n.NORMALIZE_ST=e,n.QT_TO_C=r,n.INFO=i,n.SANITIZE=function(c){c===void 0&&(c=0),Ke(c);var m=NaN,_=NaN,d=NaN,S=NaN;return i(function(k,M,E,I,x){var R=Math.abs,Y=!1,A=0,F=0;if(k.type&b.SMOOTH_CURVE_TO&&(A=isNaN(m)?0:M-m,F=isNaN(_)?0:E-_),k.type&(b.CURVE_TO|b.SMOOTH_CURVE_TO)?(m=k.relative?M+k.x2:k.x2,_=k.relative?E+k.y2:k.y2):(m=NaN,_=NaN),k.type&b.SMOOTH_QUAD_TO?(d=isNaN(d)?M:2*M-d,S=isNaN(S)?E:2*E-S):k.type&b.QUAD_TO?(d=k.relative?M+k.x1:k.x1,S=k.relative?E+k.y1:k.y2):(d=NaN,S=NaN),k.type&b.LINE_COMMANDS||k.type&b.ARC&&(k.rX===0||k.rY===0||!k.lArcFlag)||k.type&b.CURVE_TO||k.type&b.SMOOTH_CURVE_TO||k.type&b.QUAD_TO||k.type&b.SMOOTH_QUAD_TO){var te=k.x===void 0?0:k.relative?k.x:k.x-M,W=k.y===void 0?0:k.relative?k.y:k.y-E;A=isNaN(d)?k.x1===void 0?A:k.relative?k.x:k.x1-M:d-M,F=isNaN(S)?k.y1===void 0?F:k.relative?k.y:k.y1-E:S-E;var B=k.x2===void 0?0:k.relative?k.x:k.x2-M,K=k.y2===void 0?0:k.relative?k.y:k.y2-E;R(te)<=c&&R(W)<=c&&R(A)<=c&&R(F)<=c&&R(B)<=c&&R(K)<=c&&(Y=!0)}return k.type&b.CLOSE_PATH&&R(M-I)<=c&&R(E-x)<=c&&(Y=!0),Y?[]:k})},n.MATRIX=o,n.ROTATE=function(c,m,_){m===void 0&&(m=0),_===void 0&&(_=0),Ke(c,m,_);var d=Math.sin(c),S=Math.cos(c);return o(S,d,-d,S,m-m*S+_*d,_-m*d-_*S)},n.TRANSLATE=function(c,m){return m===void 0&&(m=0),Ke(c,m),o(1,0,0,1,c,m)},n.SCALE=function(c,m){return m===void 0&&(m=c),Ke(c,m),o(c,0,0,m,0,0)},n.SKEW_X=function(c){return Ke(c),o(1,0,Math.atan(c),1,0,0)},n.SKEW_Y=function(c){return Ke(c),o(1,Math.atan(c),0,1,0,0)},n.X_AXIS_SYMMETRY=function(c){return c===void 0&&(c=0),Ke(c),o(-1,0,0,1,c,0)},n.Y_AXIS_SYMMETRY=function(c){return c===void 0&&(c=0),Ke(c),o(1,0,0,-1,0,c)},n.A_TO_C=function(){return i(function(c,m,_){return b.ARC===c.type?function(d,S,k){var M,E,I,x;d.cX||Gr(d,S,k);for(var R=Math.min(d.phi1,d.phi2),Y=Math.max(d.phi1,d.phi2)-R,A=Math.ceil(Y/90),F=new Array(A),te=S,W=k,B=0;B<A;B++){var K=wi(d.phi1,d.phi2,B/A),J=wi(d.phi1,d.phi2,(B+1)/A),T=J-K,O=4/3*Math.tan(T*gt/4),me=[Math.cos(K*gt)-O*Math.sin(K*gt),Math.sin(K*gt)+O*Math.cos(K*gt)],re=me[0],_e=me[1],ue=[Math.cos(J*gt),Math.sin(J*gt)],Q=ue[0],Z=ue[1],be=[Q+O*Math.sin(J*gt),Z-O*Math.cos(J*gt)],he=be[0],ge=be[1];F[B]={relative:d.relative,type:b.CURVE_TO};var Te=function(He,qe){var it=Rr([He*d.rX,qe*d.rY],d.xRot),Tt=it[0],mn=it[1];return[d.cX+Tt,d.cY+mn]};M=Te(re,_e),F[B].x1=M[0],F[B].y1=M[1],E=Te(he,ge),F[B].x2=E[0],F[B].y2=E[1],I=Te(Q,Z),F[B].x=I[0],F[B].y=I[1],d.relative&&(F[B].x1-=te,F[B].y1-=W,F[B].x2-=te,F[B].y2-=W,F[B].x-=te,F[B].y-=W),te=(x=[F[B].x,F[B].y])[0],W=x[1]}return F}(c,c.relative?0:m,c.relative?0:_):c})},n.ANNOTATE_ARCS=function(){return i(function(c,m,_){return c.relative&&(m=0,_=0),b.ARC===c.type&&Gr(c,m,_),c})},n.CLONE=l,n.CALCULATE_BOUNDS=function(){var c=function(k){var M={};for(var E in k)M[E]=k[E];return M},m=t(),_=r(),d=e(),S=i(function(k,M,E){var I=d(_(m(c(k))));function x(ge){ge>S.maxX&&(S.maxX=ge),ge<S.minX&&(S.minX=ge)}function R(ge){ge>S.maxY&&(S.maxY=ge),ge<S.minY&&(S.minY=ge)}if(I.type&b.DRAWING_COMMANDS&&(x(M),R(E)),I.type&b.HORIZ_LINE_TO&&x(I.x),I.type&b.VERT_LINE_TO&&R(I.y),I.type&b.LINE_TO&&(x(I.x),R(I.y)),I.type&b.CURVE_TO){x(I.x),R(I.y);for(var Y=0,A=Ii(M,I.x1,I.x2,I.x);Y<A.length;Y++)0<(he=A[Y])&&1>he&&x(Ei(M,I.x1,I.x2,I.x,he));for(var F=0,te=Ii(E,I.y1,I.y2,I.y);F<te.length;F++)0<(he=te[F])&&1>he&&R(Ei(E,I.y1,I.y2,I.y,he))}if(I.type&b.ARC){x(I.x),R(I.y),Gr(I,M,E);for(var W=I.xRot/180*Math.PI,B=Math.cos(W)*I.rX,K=Math.sin(W)*I.rX,J=-Math.sin(W)*I.rY,T=Math.cos(W)*I.rY,O=I.phi1<I.phi2?[I.phi1,I.phi2]:-180>I.phi2?[I.phi2+360,I.phi1+360]:[I.phi2,I.phi1],me=O[0],re=O[1],_e=function(ge){var Te=ge[0],He=ge[1],qe=180*Math.atan2(He,Te)/Math.PI;return qe<me?qe+360:qe},ue=0,Q=ki(J,-B,0).map(_e);ue<Q.length;ue++)(he=Q[ue])>me&&he<re&&x(Ci(I.cX,B,J,he));for(var Z=0,be=ki(T,-K,0).map(_e);Z<be.length;Z++){var he;(he=be[Z])>me&&he<re&&R(Ci(I.cY,K,T,he))}}return k});return S.minX=1/0,S.maxX=-1/0,S.minY=1/0,S.maxY=-1/0,S}})(we||(we={}));var Je,xi=function(){function n(){}return n.prototype.round=function(t){return this.transform(we.ROUND(t))},n.prototype.toAbs=function(){return this.transform(we.TO_ABS())},n.prototype.toRel=function(){return this.transform(we.TO_REL())},n.prototype.normalizeHVZ=function(t,e,r){return this.transform(we.NORMALIZE_HVZ(t,e,r))},n.prototype.normalizeST=function(){return this.transform(we.NORMALIZE_ST())},n.prototype.qtToC=function(){return this.transform(we.QT_TO_C())},n.prototype.aToC=function(){return this.transform(we.A_TO_C())},n.prototype.sanitize=function(t){return this.transform(we.SANITIZE(t))},n.prototype.translate=function(t,e){return this.transform(we.TRANSLATE(t,e))},n.prototype.scale=function(t,e){return this.transform(we.SCALE(t,e))},n.prototype.rotate=function(t,e,r){return this.transform(we.ROTATE(t,e,r))},n.prototype.matrix=function(t,e,r,i,o,l){return this.transform(we.MATRIX(t,e,r,i,o,l))},n.prototype.skewX=function(t){return this.transform(we.SKEW_X(t))},n.prototype.skewY=function(t){return this.transform(we.SKEW_Y(t))},n.prototype.xSymmetry=function(t){return this.transform(we.X_AXIS_SYMMETRY(t))},n.prototype.ySymmetry=function(t){return this.transform(we.Y_AXIS_SYMMETRY(t))},n.prototype.annotateArcs=function(){return this.transform(we.ANNOTATE_ARCS())},n}(),Ns=function(n){return n===" "||n==="	"||n==="\r"||n===`
`},bi=function(n){return 48<=n.charCodeAt(0)&&n.charCodeAt(0)<=57},Os=function(n){function t(){var e=n.call(this)||this;return e.curNumber="",e.curCommandType=-1,e.curCommandRelative=!1,e.canParseCommandOrComma=!0,e.curNumberHasExp=!1,e.curNumberHasExpDigits=!1,e.curNumberHasDecimal=!1,e.curArgs=[],e}return Si(t,n),t.prototype.finish=function(e){if(e===void 0&&(e=[]),this.parse(" ",e),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return e},t.prototype.parse=function(e,r){var i=this;r===void 0&&(r=[]);for(var o=function(S){r.push(S),i.curArgs.length=0,i.canParseCommandOrComma=!0},l=0;l<e.length;l++){var c=e[l],m=!(this.curCommandType!==b.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),_=bi(c)&&(this.curNumber==="0"&&c==="0"||m);if(!bi(c)||_)if(c!=="e"&&c!=="E")if(c!=="-"&&c!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(c!=="."||this.curNumberHasExp||this.curNumberHasDecimal||m){if(this.curNumber&&this.curCommandType!==-1){var d=Number(this.curNumber);if(isNaN(d))throw new SyntaxError("Invalid number ending at "+l);if(this.curCommandType===b.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>d)throw new SyntaxError('Expected positive number, got "'+d+'" at index "'+l+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+l+'"')}this.curArgs.push(d),this.curArgs.length===Fs[this.curCommandType]&&(b.HORIZ_LINE_TO===this.curCommandType?o({type:b.HORIZ_LINE_TO,relative:this.curCommandRelative,x:d}):b.VERT_LINE_TO===this.curCommandType?o({type:b.VERT_LINE_TO,relative:this.curCommandRelative,y:d}):this.curCommandType===b.MOVE_TO||this.curCommandType===b.LINE_TO||this.curCommandType===b.SMOOTH_QUAD_TO?(o({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),b.MOVE_TO===this.curCommandType&&(this.curCommandType=b.LINE_TO)):this.curCommandType===b.CURVE_TO?o({type:b.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===b.SMOOTH_CURVE_TO?o({type:b.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===b.QUAD_TO?o({type:b.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===b.ARC&&o({type:b.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!Ns(c))if(c===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(c!=="+"&&c!=="-"&&c!==".")if(_)this.curNumber=c,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+l+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+c+'" at index '+l+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,c!=="z"&&c!=="Z")if(c==="h"||c==="H")this.curCommandType=b.HORIZ_LINE_TO,this.curCommandRelative=c==="h";else if(c==="v"||c==="V")this.curCommandType=b.VERT_LINE_TO,this.curCommandRelative=c==="v";else if(c==="m"||c==="M")this.curCommandType=b.MOVE_TO,this.curCommandRelative=c==="m";else if(c==="l"||c==="L")this.curCommandType=b.LINE_TO,this.curCommandRelative=c==="l";else if(c==="c"||c==="C")this.curCommandType=b.CURVE_TO,this.curCommandRelative=c==="c";else if(c==="s"||c==="S")this.curCommandType=b.SMOOTH_CURVE_TO,this.curCommandRelative=c==="s";else if(c==="q"||c==="Q")this.curCommandType=b.QUAD_TO,this.curCommandRelative=c==="q";else if(c==="t"||c==="T")this.curCommandType=b.SMOOTH_QUAD_TO,this.curCommandRelative=c==="t";else{if(c!=="a"&&c!=="A")throw new SyntaxError('Unexpected character "'+c+'" at index '+l+".");this.curCommandType=b.ARC,this.curCommandRelative=c==="a"}else r.push({type:b.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=c,this.curNumberHasDecimal=c==="."}else this.curNumber+=c,this.curNumberHasDecimal=!0;else this.curNumber+=c;else this.curNumber+=c,this.curNumberHasExp=!0;else this.curNumber+=c,this.curNumberHasExpDigits=this.curNumberHasExp}return r},t.prototype.transform=function(e){return Object.create(this,{parse:{value:function(r,i){i===void 0&&(i=[]);for(var o=0,l=Object.getPrototypeOf(this).parse.call(this,r);o<l.length;o++){var c=l[o],m=e(c);Array.isArray(m)?i.push.apply(i,m):i.push(m)}return i}}})},t}(xi),b=function(n){function t(e){var r=n.call(this)||this;return r.commands=typeof e=="string"?t.parse(e):e,r}return Si(t,n),t.prototype.encode=function(){return t.encode(this.commands)},t.prototype.getBounds=function(){var e=we.CALCULATE_BOUNDS();return this.transform(e),e},t.prototype.transform=function(e){for(var r=[],i=0,o=this.commands;i<o.length;i++){var l=e(o[i]);Array.isArray(l)?r.push.apply(r,l):r.push(l)}return this.commands=r,this},t.encode=function(e){return Gs(e)},t.parse=function(e){var r=new Os,i=[];return r.parse(e,i),r.finish(i),i},t.CLOSE_PATH=1,t.MOVE_TO=2,t.HORIZ_LINE_TO=4,t.VERT_LINE_TO=8,t.LINE_TO=16,t.CURVE_TO=32,t.SMOOTH_CURVE_TO=64,t.QUAD_TO=128,t.SMOOTH_QUAD_TO=256,t.ARC=512,t.LINE_COMMANDS=t.LINE_TO|t.HORIZ_LINE_TO|t.VERT_LINE_TO,t.DRAWING_COMMANDS=t.HORIZ_LINE_TO|t.VERT_LINE_TO|t.LINE_TO|t.CURVE_TO|t.SMOOTH_CURVE_TO|t.QUAD_TO|t.SMOOTH_QUAD_TO|t.ARC,t}(xi),Fs=((Je={})[b.MOVE_TO]=2,Je[b.LINE_TO]=2,Je[b.HORIZ_LINE_TO]=1,Je[b.VERT_LINE_TO]=1,Je[b.CLOSE_PATH]=0,Je[b.QUAD_TO]=4,Je[b.SMOOTH_QUAD_TO]=2,Je[b.CURVE_TO]=6,Je[b.SMOOTH_CURVE_TO]=4,Je[b.ARC]=7,Je);function Kn(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kn=function(t){return typeof t}:Kn=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kn(n)}function Ls(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}var Ws=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],Bs=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function Vs(n,t,e,r,i){if(typeof n=="string"&&(n=document.getElementById(n)),!n||Kn(n)!=="object"||!("getContext"in n))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var o=n.getContext("2d");try{return o.getImageData(t,e,r,i)}catch(l){throw new Error("unable to access image data: "+l)}}function zs(n,t,e,r,i,o){if(!(isNaN(o)||o<1)){o|=0;var l=Vs(n,t,e,r,i);l=Us(l,t,e,r,i,o),n.getContext("2d").putImageData(l,t,e)}}function Us(n,t,e,r,i,o){for(var l=n.data,c=2*o+1,m=r-1,_=i-1,d=o+1,S=d*(d+1)/2,k=new Di,M=k,E,I=1;I<c;I++)M=M.next=new Di,I===d&&(E=M);M.next=k;for(var x=null,R=null,Y=0,A=0,F=Ws[o],te=Bs[o],W=0;W<i;W++){M=k;for(var B=l[A],K=l[A+1],J=l[A+2],T=l[A+3],O=0;O<d;O++)M.r=B,M.g=K,M.b=J,M.a=T,M=M.next;for(var me=0,re=0,_e=0,ue=0,Q=d*B,Z=d*K,be=d*J,he=d*T,ge=S*B,Te=S*K,He=S*J,qe=S*T,it=1;it<d;it++){var Tt=A+((m<it?m:it)<<2),mn=l[Tt],gr=l[Tt+1],mr=l[Tt+2],at=l[Tt+3],st=d-it;ge+=(M.r=mn)*st,Te+=(M.g=gr)*st,He+=(M.b=mr)*st,qe+=(M.a=at)*st,me+=mn,re+=gr,_e+=mr,ue+=at,M=M.next}x=k,R=E;for(var Vt=0;Vt<r;Vt++){var At=qe*F>>>te;if(l[A+3]=At,At!==0){var Ye=255/At;l[A]=(ge*F>>>te)*Ye,l[A+1]=(Te*F>>>te)*Ye,l[A+2]=(He*F>>>te)*Ye}else l[A]=l[A+1]=l[A+2]=0;ge-=Q,Te-=Z,He-=be,qe-=he,Q-=x.r,Z-=x.g,be-=x.b,he-=x.a;var pt=Vt+o+1;pt=Y+(pt<m?pt:m)<<2,me+=x.r=l[pt],re+=x.g=l[pt+1],_e+=x.b=l[pt+2],ue+=x.a=l[pt+3],ge+=me,Te+=re,He+=_e,qe+=ue,x=x.next;var zt=R,Rn=zt.r,ft=zt.g,Gn=zt.b,_r=zt.a;Q+=Rn,Z+=ft,be+=Gn,he+=_r,me-=Rn,re-=ft,_e-=Gn,ue-=_r,R=R.next,A+=4}Y+=r}for(var dt=0;dt<r;dt++){A=dt<<2;var yt=l[A],Mt=l[A+1],vt=l[A+2],De=l[A+3],Nn=d*yt,On=d*Mt,St=d*vt,ee=d*De,_n=S*yt,tt=S*Mt,Ut=S*vt,hn=S*De;M=k;for(var hr=0;hr<d;hr++)M.r=yt,M.g=Mt,M.b=vt,M.a=De,M=M.next;for(var pr=r,Fn=0,ie=0,Ln=0,Ht=0,Ve=1;Ve<=o;Ve++){A=pr+dt<<2;var Qe=d-Ve;_n+=(M.r=yt=l[A])*Qe,tt+=(M.g=Mt=l[A+1])*Qe,Ut+=(M.b=vt=l[A+2])*Qe,hn+=(M.a=De=l[A+3])*Qe,Ht+=yt,Fn+=Mt,ie+=vt,Ln+=De,M=M.next,Ve<_&&(pr+=r)}A=dt,x=k,R=E;for(var Yt=0;Yt<i;Yt++){var Ee=A<<2;l[Ee+3]=De=hn*F>>>te,De>0?(De=255/De,l[Ee]=(_n*F>>>te)*De,l[Ee+1]=(tt*F>>>te)*De,l[Ee+2]=(Ut*F>>>te)*De):l[Ee]=l[Ee+1]=l[Ee+2]=0,_n-=Nn,tt-=On,Ut-=St,hn-=ee,Nn-=x.r,On-=x.g,St-=x.b,ee-=x.a,Ee=dt+((Ee=Yt+d)<_?Ee:_)*r<<2,_n+=Ht+=x.r=l[Ee],tt+=Fn+=x.g=l[Ee+1],Ut+=ie+=x.b=l[Ee+2],hn+=Ln+=x.a=l[Ee+3],x=x.next,Nn+=yt=R.r,On+=Mt=R.g,St+=vt=R.b,ee+=De=R.a,Ht-=yt,Fn-=Mt,ie-=vt,Ln-=De,R=R.next,A+=r}}return n}var Di=function n(){Ls(this,n),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};function Hs(){let{DOMParser:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:n,createCanvas(e,r){return new OffscreenCanvas(e,r)},async createImage(e){const i=await(await fetch(e)).blob();return await createImageBitmap(i)}};return(typeof globalThis.DOMParser<"u"||typeof n>"u")&&Reflect.deleteProperty(t,"DOMParser"),t}function Ys(n){let{DOMParser:t,canvas:e,fetch:r}=n;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:t,fetch:r,createCanvas:e.createCanvas,createImage:e.loadImage}}var Xs=Object.freeze({__proto__:null,offscreen:Hs,node:Ys});function Zt(n){return n.replace(/(?!\u3000)\s+/gm," ")}function js(n){return n.replace(/^[\n \t]+/,"")}function $s(n){return n.replace(/[\n \t]+$/,"")}function Ue(n){const t=n.match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm);return t?t.map(parseFloat):[]}function qs(n){const t=Ue(n);return[t[0]||0,t[1]||0,t[2]||0,t[3]||0,t[4]||0,t[5]||0]}const Qs=/^[A-Z-]+$/;function Ks(n){return Qs.test(n)?n.toLowerCase():n}function Ti(n){const t=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(n);return t&&(t[2]||t[3]||t[4])||""}function Js(n){if(!n.startsWith("rgb"))return n;let t=3;return n.replace(/\d+(\.\d+)?/g,(r,i)=>t--&&i?String(Math.round(parseFloat(r))):r)}const Zs=/(\[[^\]]+\])/g,eo=/(#[^\s+>~.[:]+)/g,to=/(\.[^\s+>~.[:]+)/g,no=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,ro=/(:[\w-]+\([^)]*\))/gi,io=/(:[^\s+>~.[:]+)/g,ao=/([^\s+>~.[:]+)/g;function Ft(n,t){const e=t.exec(n);return e?[n.replace(t," "),e.length]:[n,0]}function so(n){const t=[0,0,0];let e=n.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),r=0;return[e,r]=Ft(e,Zs),t[1]+=r,[e,r]=Ft(e,eo),t[0]+=r,[e,r]=Ft(e,to),t[1]+=r,[e,r]=Ft(e,no),t[2]+=r,[e,r]=Ft(e,ro),t[1]+=r,[e,r]=Ft(e,io),t[1]+=r,e=e.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[e,r]=Ft(e,ao),t[2]+=r,t.join("")}const en=1e-8;function Ai(n){return Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2))}function Nr(n,t){return(n[0]*t[0]+n[1]*t[1])/(Ai(n)*Ai(t))}function Pi(n,t){return(n[0]*t[1]<n[1]*t[0]?-1:1)*Math.acos(Nr(n,t))}function Ri(n){return n*n*n}function Gi(n){return 3*n*n*(1-n)}function Ni(n){return 3*n*(1-n)*(1-n)}function Oi(n){return(1-n)*(1-n)*(1-n)}function Fi(n){return n*n}function Li(n){return 2*n*(1-n)}function Wi(n){return(1-n)*(1-n)}class H{static empty(t){return new H(t,"EMPTY","")}split(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ";const{document:e,name:r}=this;return Zt(this.getString()).trim().split(t).map(i=>new H(e,r,i))}hasValue(t){const e=this.value;return e!==null&&e!==""&&(t||e!==0)&&typeof e<"u"}isString(t){const{value:e}=this,r=typeof e=="string";return!r||!t?r:t.test(e)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;const t=this.getString();switch(!0){case t.endsWith("px"):case/^[0-9]+$/.test(t):return!0;default:return!1}}setValue(t){return this.value=t,this}getValue(t){return typeof t>"u"||this.hasValue()?this.value:t}getNumber(t){if(!this.hasValue())return typeof t>"u"?0:parseFloat(t);const{value:e}=this;let r=parseFloat(e);return this.isString(/%$/)&&(r/=100),r}getString(t){return typeof t>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(t)}getColor(t){let e=this.getString(t);return this.isNormalizedColor||(this.isNormalizedColor=!0,e=Js(e),this.value=e),e}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;const[r,i]=typeof t=="boolean"?[void 0,t]:[t],{viewPort:o}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(o.computeSize("x"),o.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(o.computeSize("x"),o.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*o.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*o.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&i):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*o.computeSize(r);default:{const l=this.getNumber();return e&&l<1?l*o.computeSize(r):l}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){const t=this.getString(),e=/#([^)'"]+)/.exec(t),r=e?.[1]||t;return this.document.definitions[r]}getFillStyleDefinition(t,e){let r=this.getDefinition();if(!r)return null;if(typeof r.createGradient=="function"&&"getBoundingBox"in t)return r.createGradient(this.document.ctx,t,e);if(typeof r.createPattern=="function"){if(r.getHrefAttribute().hasValue()){const i=r.getAttribute("patternTransform");r=r.getHrefAttribute().getDefinition(),r&&i.hasValue()&&r.getAttribute("patternTransform",!0).setValue(i.value)}if(r)return r.createPattern(this.document.ctx,t,e)}return null}getTextBaseline(){if(!this.hasValue())return null;const t=this.getString();return H.textBaselineMapping[t]||null}addOpacity(t){let e=this.getColor();const r=e.length;let i=0;for(let o=0;o<r&&(e[o]===","&&i++,i!==3);o++);if(t.hasValue()&&this.isString()&&i!==3){const o=new Pr(e);o.ok&&(o.alpha=t.getNumber(),e=o.toRGBA())}return new H(this.document,this.name,e)}constructor(t,e,r){this.document=t,this.name=e,this.value=r,this.isNormalizedColor=!1}}H.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class wn{clear(){this.viewPorts=[]}setCurrent(t,e){this.viewPorts.push({width:t,height:e})}removeCurrent(){this.viewPorts.pop()}getRoot(){const[t]=this.viewPorts;return t||Bi()}getCurrent(){const{viewPorts:t}=this,e=t[t.length-1];return e||Bi()}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(t){return typeof t=="number"?t:t==="x"?this.width:t==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}constructor(){this.viewPorts=[]}}wn.DEFAULT_VIEWPORT_WIDTH=800,wn.DEFAULT_VIEWPORT_HEIGHT=600;function Bi(){return{width:wn.DEFAULT_VIEWPORT_WIDTH,height:wn.DEFAULT_VIEWPORT_HEIGHT}}class fe{static parse(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const[r=e,i=e]=Ue(t);return new fe(r,i)}static parseScale(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const[r=e,i=r]=Ue(t);return new fe(r,i)}static parsePath(t){const e=Ue(t),r=e.length,i=[];for(let o=0;o<r;o+=2)i.push(new fe(e[o],e[o+1]));return i}angleTo(t){return Math.atan2(t.y-this.y,t.x-this.x)}applyTransform(t){const{x:e,y:r}=this,i=e*t[0]+r*t[2]+t[4],o=e*t[1]+r*t[3]+t[5];this.x=i,this.y=o}constructor(t,e){this.x=t,this.y=e}}class oo{isWorking(){return this.working}start(){if(this.working)return;const{screen:t,onClick:e,onMouseMove:r}=this,i=t.ctx.canvas;i.onclick=e,i.onmousemove=r,this.working=!0}stop(){if(!this.working)return;const t=this.screen.ctx.canvas;this.working=!1,t.onclick=null,t.onmousemove=null}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(!this.working)return;const{screen:t,events:e,eventElements:r}=this,{style:i}=t.ctx.canvas;let o;i&&(i.cursor=""),e.forEach((l,c)=>{let{run:m}=l;for(o=r[c];o;)m(o),o=o.parent}),this.events=[],this.eventElements=[]}checkPath(t,e){if(!this.working||!e)return;const{events:r,eventElements:i}=this;r.forEach((o,l)=>{let{x:c,y:m}=o;!i[l]&&e.isPointInPath&&e.isPointInPath(c,m)&&(i[l]=t)})}checkBoundingBox(t,e){if(!this.working||!e)return;const{events:r,eventElements:i}=this;r.forEach((o,l)=>{let{x:c,y:m}=o;!i[l]&&e.isPointInBox(c,m)&&(i[l]=t)})}mapXY(t,e){const{window:r,ctx:i}=this.screen,o=new fe(t,e);let l=i.canvas;for(;l;)o.x-=l.offsetLeft,o.y-=l.offsetTop,l=l.offsetParent;return r?.scrollX&&(o.x+=r.scrollX),r?.scrollY&&(o.y+=r.scrollY),o}onClick(t){const{x:e,y:r}=this.mapXY(t.clientX,t.clientY);this.events.push({type:"onclick",x:e,y:r,run(i){i.onClick&&i.onClick()}})}onMouseMove(t){const{x:e,y:r}=this.mapXY(t.clientX,t.clientY);this.events.push({type:"onmousemove",x:e,y:r,run(i){i.onMouseMove&&i.onMouseMove()}})}constructor(t){this.screen=t,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}}const Vi=typeof window<"u"?window:null,zi=typeof fetch<"u"?fetch.bind(void 0):void 0;class mt{wait(t){this.waits.push(t)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;const t=this.waits.every(e=>e());return t&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=t,t}setDefaults(t){t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4}setViewBox(t){let{document:e,ctx:r,aspectRatio:i,width:o,desiredWidth:l,height:c,desiredHeight:m,minX:_=0,minY:d=0,refX:S,refY:k,clip:M=!1,clipX:E=0,clipY:I=0}=t;const x=Zt(i).replace(/^defer\s/,""),[R,Y]=x.split(" "),A=R||"xMidYMid",F=Y||"meet",te=o/l,W=c/m,B=Math.min(te,W),K=Math.max(te,W);let J=l,T=m;F==="meet"&&(J*=B,T*=B),F==="slice"&&(J*=K,T*=K);const O=new H(e,"refX",S),me=new H(e,"refY",k),re=O.hasValue()&&me.hasValue();if(re&&r.translate(-B*O.getPixels("x"),-B*me.getPixels("y")),M){const _e=B*E,ue=B*I;r.beginPath(),r.moveTo(_e,ue),r.lineTo(o,ue),r.lineTo(o,c),r.lineTo(_e,c),r.closePath(),r.clip()}if(!re){const _e=F==="meet"&&B===W,ue=F==="slice"&&K===W,Q=F==="meet"&&B===te,Z=F==="slice"&&K===te;A.startsWith("xMid")&&(_e||ue)&&r.translate(o/2-J/2,0),A.endsWith("YMid")&&(Q||Z)&&r.translate(0,c/2-T/2),A.startsWith("xMax")&&(_e||ue)&&r.translate(o-J,0),A.endsWith("YMax")&&(Q||Z)&&r.translate(0,c-T)}switch(!0){case A==="none":r.scale(te,W);break;case F==="meet":r.scale(B,B);break;case F==="slice":r.scale(K,K);break}r.translate(-_,-d)}start(t){let{enableRedraw:e=!1,ignoreMouse:r=!1,ignoreAnimation:i=!1,ignoreDimensions:o=!1,ignoreClear:l=!1,forceRedraw:c,scaleWidth:m,scaleHeight:_,offsetX:d,offsetY:S}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{mouse:k}=this,M=1e3/mt.FRAMERATE;if(this.isReadyLock=!1,this.frameDuration=M,this.readyPromise=new Promise(Y=>{this.resolveReady=Y}),this.isReady()&&this.render(t,o,l,m,_,d,S),!e)return;let E=Date.now(),I=E,x=0;const R=()=>{E=Date.now(),x=E-I,x>=M&&(I=E-x%M,this.shouldUpdate(i,c)&&(this.render(t,o,l,m,_,d,S),k.runEvents())),this.intervalId=Ar(R)};r||k.start(),this.intervalId=Ar(R)}stop(){this.intervalId&&(Ar.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(t,e){if(!t){const{frameDuration:r}=this;if(this.animations.reduce((o,l)=>l.update(r)||o,!1))return!0}return!!(typeof e=="function"&&e()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(t,e,r,i,o,l,c){const{viewPort:m,ctx:_,isFirstRender:d}=this,S=_.canvas;m.clear(),S.width&&S.height&&m.setCurrent(S.width,S.height);const k=t.getStyle("width"),M=t.getStyle("height");!e&&(d||typeof i!="number"&&typeof o!="number")&&(k.hasValue()&&(S.width=k.getPixels("x"),S.style&&(S.style.width="".concat(S.width,"px"))),M.hasValue()&&(S.height=M.getPixels("y"),S.style&&(S.style.height="".concat(S.height,"px"))));let E=S.clientWidth||S.width,I=S.clientHeight||S.height;if(e&&k.hasValue()&&M.hasValue()&&(E=k.getPixels("x"),I=M.getPixels("y")),m.setCurrent(E,I),typeof l=="number"&&t.getAttribute("x",!0).setValue(l),typeof c=="number"&&t.getAttribute("y",!0).setValue(c),typeof i=="number"||typeof o=="number"){const x=Ue(t.getAttribute("viewBox").getString());let R=0,Y=0;if(typeof i=="number"){const F=t.getStyle("width");F.hasValue()?R=F.getPixels("x")/i:x[2]&&!isNaN(x[2])&&(R=x[2]/i)}if(typeof o=="number"){const F=t.getStyle("height");F.hasValue()?Y=F.getPixels("y")/o:x[3]&&!isNaN(x[3])&&(Y=x[3]/o)}R||(R=Y),Y||(Y=R),t.getAttribute("width",!0).setValue(i),t.getAttribute("height",!0).setValue(o);const A=t.getStyle("transform",!0,!0);A.setValue("".concat(A.getString()," scale(").concat(1/R,", ").concat(1/Y,")"))}r||_.clearRect(0,0,E,I),t.render(_),d&&(this.isFirstRender=!1)}constructor(t,{fetch:e=zi,window:r=Vi}={}){if(this.ctx=t,this.viewPort=new wn,this.mouse=new oo(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=r,!e)throw new Error("Can't find 'fetch' in 'globalThis', please provide it via options");this.fetch=e}}mt.defaultWindow=Vi,mt.defaultFetch=zi,mt.FRAMERATE=30,mt.MAX_VIRTUAL_PIXELS=3e4;const{defaultFetch:lo}=mt,uo=typeof DOMParser<"u"?DOMParser:void 0;class Or{async parse(t){return t.startsWith("<")?this.parseFromString(t):this.load(t)}parseFromString(t){const e=new this.DOMParser;try{return this.checkDocument(e.parseFromString(t,"image/svg+xml"))}catch{return this.checkDocument(e.parseFromString(t,"text/xml"))}}checkDocument(t){const e=t.getElementsByTagName("parsererror")[0];if(e)throw new Error(e.textContent||"Unknown parse error");return t}async load(t){const r=await(await this.fetch(t)).text();return this.parseFromString(r)}constructor({fetch:t=lo,DOMParser:e=uo}={}){if(!t)throw new Error("Can't find 'fetch' in 'globalThis', please provide it via options");if(!e)throw new Error("Can't find 'DOMParser' in 'globalThis', please provide it via options");this.fetch=t,this.DOMParser=e}}class co{apply(t){const{x:e,y:r}=this.point;t.translate(e||0,r||0)}unapply(t){const{x:e,y:r}=this.point;t.translate(-1*e||0,-1*r||0)}applyToPoint(t){const{x:e,y:r}=this.point;t.applyTransform([1,0,0,1,e||0,r||0])}constructor(t,e){this.type="translate",this.point=fe.parse(e)}}class go{apply(t){const{cx:e,cy:r,originX:i,originY:o,angle:l}=this,c=e+i.getPixels("x"),m=r+o.getPixels("y");t.translate(c,m),t.rotate(l.getRadians()),t.translate(-c,-m)}unapply(t){const{cx:e,cy:r,originX:i,originY:o,angle:l}=this,c=e+i.getPixels("x"),m=r+o.getPixels("y");t.translate(c,m),t.rotate(-1*l.getRadians()),t.translate(-c,-m)}applyToPoint(t){const{cx:e,cy:r,angle:i}=this,o=i.getRadians();t.applyTransform([1,0,0,1,e||0,r||0]),t.applyTransform([Math.cos(o),Math.sin(o),-Math.sin(o),Math.cos(o),0,0]),t.applyTransform([1,0,0,1,-e||0,-r||0])}constructor(t,e,r){this.type="rotate";const i=Ue(e);this.angle=new H(t,"angle",i[0]),this.originX=r[0],this.originY=r[1],this.cx=i[1]||0,this.cy=i[2]||0}}class mo{apply(t){const{scale:{x:e,y:r},originX:i,originY:o}=this,l=i.getPixels("x"),c=o.getPixels("y");t.translate(l,c),t.scale(e,r||e),t.translate(-l,-c)}unapply(t){const{scale:{x:e,y:r},originX:i,originY:o}=this,l=i.getPixels("x"),c=o.getPixels("y");t.translate(l,c),t.scale(1/e,1/r||e),t.translate(-l,-c)}applyToPoint(t){const{x:e,y:r}=this.scale;t.applyTransform([e||0,0,0,r||0,0,0])}constructor(t,e,r){this.type="scale";const i=fe.parseScale(e);(i.x===0||i.y===0)&&(i.x=en,i.y=en),this.scale=i,this.originX=r[0],this.originY=r[1]}}class Ui{apply(t){const{originX:e,originY:r,matrix:i}=this,o=e.getPixels("x"),l=r.getPixels("y");t.translate(o,l),t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),t.translate(-o,-l)}unapply(t){const{originX:e,originY:r,matrix:i}=this,o=i[0],l=i[2],c=i[4],m=i[1],_=i[3],d=i[5],S=0,k=0,M=1,E=1/(o*(_*M-d*k)-l*(m*M-d*S)+c*(m*k-_*S)),I=e.getPixels("x"),x=r.getPixels("y");t.translate(I,x),t.transform(E*(_*M-d*k),E*(d*S-m*M),E*(c*k-l*M),E*(o*M-c*S),E*(l*d-c*_),E*(c*m-o*d)),t.translate(-I,-x)}applyToPoint(t){t.applyTransform(this.matrix)}constructor(t,e,r){this.type="matrix",this.matrix=qs(e),this.originX=r[0],this.originY=r[1]}}class Hi extends Ui{constructor(t,e,r){super(t,e,r),this.type="skew",this.angle=new H(t,"angle",e)}}class _o extends Hi{constructor(t,e,r){super(t,e,r),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class ho extends Hi{constructor(t,e,r){super(t,e,r),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function po(n){return Zt(n).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function fo(n){const[t="",e=""]=n.split("(");return[t.trim(),e.trim().replace(")","")]}class Lt{static fromElement(t,e){const r=e.getStyle("transform",!1,!0);if(r.hasValue()){const[i,o=i]=e.getStyle("transform-origin",!1,!0).split();if(i&&o){const l=[i,o];return new Lt(t,r.getString(),l)}}return null}apply(t){this.transforms.forEach(e=>e.apply(t))}unapply(t){this.transforms.forEach(e=>e.unapply(t))}applyToPoint(t){this.transforms.forEach(e=>e.applyToPoint(t))}constructor(t,e,r){this.document=t,this.transforms=[],po(e).forEach(o=>{if(o==="none")return;const[l,c]=fo(o),m=Lt.transformTypes[l];m&&this.transforms.push(new m(this.document,c,r))})}}Lt.transformTypes={translate:co,rotate:go,scale:mo,matrix:Ui,skewX:_o,skewY:ho};let ye=class ri{getAttribute(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.attributes[t];if(!r&&e){const i=new H(this.document,t,"");return this.attributes[t]=i,i}return r||H.empty(this.document)}getHrefAttribute(){let t;for(const e in this.attributes)if(e==="href"||e.endsWith(":href")){t=this.attributes[e];break}return t||H.empty(this.document)}getStyle(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.styles[t];if(i)return i;const o=this.getAttribute(t);if(o.hasValue())return this.styles[t]=o,o;if(!r){const{parent:l}=this;if(l){const c=l.getStyle(t);if(c.hasValue())return c}}if(e){const l=new H(this.document,t,"");return this.styles[t]=l,l}return H.empty(this.document)}render(t){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(t.save(),this.getStyle("mask").hasValue()){const e=this.getStyle("mask").getDefinition();e&&(this.applyEffects(t),e.apply(t,this))}else if(this.getStyle("filter").getValue("none")!=="none"){const e=this.getStyle("filter").getDefinition();e&&(this.applyEffects(t),e.apply(t,this))}else this.setContext(t),this.renderChildren(t),this.clearContext(t);t.restore()}}setContext(t){}applyEffects(t){const e=Lt.fromElement(this.document,this);e&&e.apply(t);const r=this.getStyle("clip-path",!1,!0);if(r.hasValue()){const i=r.getDefinition();i&&i.apply(t)}}clearContext(t){}renderChildren(t){this.children.forEach(e=>{e.render(t)})}addChild(t){const e=t instanceof ri?t:this.document.createElement(t);e.parent=this,ri.ignoreChildTypes.includes(e.type)||this.children.push(e)}matchesSelector(t){var e;const{node:r}=this;if(typeof r.matches=="function")return r.matches(t);const i=(e=r.getAttribute)===null||e===void 0?void 0:e.call(r,"class");return!i||i===""?!1:i.split(" ").some(o=>".".concat(o)===t)}addStylesFromStyleDefinition(){const{styles:t,stylesSpecificity:e}=this.document;let r;for(const i in t)if(!i.startsWith("@")&&this.matchesSelector(i)){const o=t[i],l=e[i];if(o)for(const c in o){let m=this.stylesSpecificity[c];typeof m>"u"&&(m="000"),l&&l>=m&&(r=o[c],r&&(this.styles[c]=r),this.stylesSpecificity[c]=l)}}}removeStyles(t,e){return e.reduce((i,o)=>{const l=t.getStyle(o);if(!l.hasValue())return i;const c=l.getString();return l.setValue(""),[...i,[o,c]]},[])}restoreStyles(t,e){e.forEach(r=>{let[i,o]=r;t.getStyle(i,!0).setValue(o)})}isFirstChild(){var t;return((t=this.parent)===null||t===void 0?void 0:t.children.indexOf(this))===0}constructor(t,e,r=!1){if(this.document=t,this.node=e,this.captureTextNodes=r,this.type="",this.attributes={},this.styles={},this.stylesSpecificity={},this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!e||e.nodeType!==1)return;Array.from(e.attributes).forEach(l=>{const c=Ks(l.nodeName);this.attributes[c]=new H(t,c,l.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()&&this.getAttribute("style").getString().split(";").map(c=>c.trim()).forEach(c=>{if(!c)return;const[m,_]=c.split(":").map(d=>d.trim());m&&(this.styles[m]=new H(t,m,_))});const{definitions:i}=t,o=this.getAttribute("id");o.hasValue()&&(i[o.getString()]||(i[o.getString()]=this)),Array.from(e.childNodes).forEach(l=>{if(l.nodeType===1)this.addChild(l);else if(r&&(l.nodeType===3||l.nodeType===4)){const c=t.createTextNode(l);c.getText().length>0&&this.addChild(c)}})}};ye.ignoreChildTypes=["title"];class yo extends ye{constructor(t,e,r){super(t,e,r)}}function Mo(n){const t=n.trim();return/^('|")/.test(t)?t:'"'.concat(t,'"')}function vo(n){return typeof process>"u"?n:n.trim().split(",").map(Mo).join(",")}function So(n){if(!n)return"";const t=n.trim().toLowerCase();switch(t){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return t;default:return/^oblique\s+(-|)\d+deg$/.test(t)?t:""}}function ko(n){if(!n)return"";const t=n.trim().toLowerCase();switch(t){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return t;default:return/^[\d.]+$/.test(t)?t:""}}class Ne{static parse(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,r="",i="",o="",l="",c="";const m=Zt(t).trim().split(" "),_={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return m.forEach(d=>{switch(!0){case(!_.fontStyle&&Ne.styles.includes(d)):d!=="inherit"&&(r=d),_.fontStyle=!0;break;case(!_.fontVariant&&Ne.variants.includes(d)):d!=="inherit"&&(i=d),_.fontStyle=!0,_.fontVariant=!0;break;case(!_.fontWeight&&Ne.weights.includes(d)):d!=="inherit"&&(o=d),_.fontStyle=!0,_.fontVariant=!0,_.fontWeight=!0;break;case!_.fontSize:d!=="inherit"&&(l=d.split("/")[0]||""),_.fontStyle=!0,_.fontVariant=!0,_.fontWeight=!0,_.fontSize=!0;break;default:d!=="inherit"&&(c+=d)}}),new Ne(r,i,o,l,c,e)}toString(){return[So(this.fontStyle),this.fontVariant,ko(this.fontWeight),this.fontSize,vo(this.fontFamily)].join(" ").trim()}constructor(t,e,r,i,o,l){const c=l?typeof l=="string"?Ne.parse(l):l:{};this.fontFamily=o||c.fontFamily,this.fontSize=i||c.fontSize,this.fontStyle=t||c.fontStyle,this.fontWeight=r||c.fontWeight,this.fontVariant=e||c.fontVariant}}Ne.styles="normal|italic|oblique|inherit",Ne.variants="normal|small-caps|inherit",Ne.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class Ze{get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(t,e){typeof t<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),typeof e<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))}addX(t){this.addPoint(t,0)}addY(t){this.addPoint(0,t)}addBoundingBox(t){if(!t)return;const{x1:e,y1:r,x2:i,y2:o}=t;this.addPoint(e,r),this.addPoint(i,o)}sumCubic(t,e,r,i,o){return Math.pow(1-t,3)*e+3*Math.pow(1-t,2)*t*r+3*(1-t)*Math.pow(t,2)*i+Math.pow(t,3)*o}bezierCurveAdd(t,e,r,i,o){const l=6*e-12*r+6*i,c=-3*e+9*r-9*i+3*o,m=3*r-3*e;if(c===0){if(l===0)return;const k=-m/l;0<k&&k<1&&(t?this.addX(this.sumCubic(k,e,r,i,o)):this.addY(this.sumCubic(k,e,r,i,o)));return}const _=Math.pow(l,2)-4*m*c;if(_<0)return;const d=(-l+Math.sqrt(_))/(2*c);0<d&&d<1&&(t?this.addX(this.sumCubic(d,e,r,i,o)):this.addY(this.sumCubic(d,e,r,i,o)));const S=(-l-Math.sqrt(_))/(2*c);0<S&&S<1&&(t?this.addX(this.sumCubic(S,e,r,i,o)):this.addY(this.sumCubic(S,e,r,i,o)))}addBezierCurve(t,e,r,i,o,l,c,m){this.addPoint(t,e),this.addPoint(c,m),this.bezierCurveAdd(!0,t,r,o,c),this.bezierCurveAdd(!1,e,i,l,m)}addQuadraticCurve(t,e,r,i,o,l){const c=t+.6666666666666666*(r-t),m=e+2/3*(i-e),_=c+1/3*(o-t),d=m+1/3*(l-e);this.addBezierCurve(t,e,c,_,m,d,o,l)}isPointInBox(t,e){const{x1:r,y1:i,x2:o,y2:l}=this;return r<=t&&t<=o&&i<=e&&e<=l}constructor(t=Number.NaN,e=Number.NaN,r=Number.NaN,i=Number.NaN){this.x1=t,this.y1=e,this.x2=r,this.y2=i,this.addPoint(t,e),this.addPoint(r,i)}}class Wt extends ye{calculateOpacity(){let t=1,e=this;for(;e;){const r=e.getStyle("opacity",!1,!0);r.hasValue(!0)&&(t*=r.getNumber()),e=e.parent}return t}setContext(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!e){const r=this.getStyle("fill"),i=this.getStyle("fill-opacity"),o=this.getStyle("stroke"),l=this.getStyle("stroke-opacity");if(r.isUrlDefinition()){const M=r.getFillStyleDefinition(this,i);M&&(t.fillStyle=M)}else if(r.hasValue()){r.getString()==="currentColor"&&r.setValue(this.getStyle("color").getColor());const M=r.getColor();M!=="inherit"&&(t.fillStyle=M==="none"?"rgba(0,0,0,0)":M)}if(i.hasValue()){const M=new H(this.document,"fill",t.fillStyle).addOpacity(i).getColor();t.fillStyle=M}if(o.isUrlDefinition()){const M=o.getFillStyleDefinition(this,l);M&&(t.strokeStyle=M)}else if(o.hasValue()){o.getString()==="currentColor"&&o.setValue(this.getStyle("color").getColor());const M=o.getString();M!=="inherit"&&(t.strokeStyle=M==="none"?"rgba(0,0,0,0)":M)}if(l.hasValue()){const M=new H(this.document,"stroke",t.strokeStyle).addOpacity(l).getString();t.strokeStyle=M}const c=this.getStyle("stroke-width");if(c.hasValue()){const M=c.getPixels();t.lineWidth=M||en}const m=this.getStyle("stroke-linecap"),_=this.getStyle("stroke-linejoin"),d=this.getStyle("stroke-miterlimit"),S=this.getStyle("stroke-dasharray"),k=this.getStyle("stroke-dashoffset");if(m.hasValue()&&(t.lineCap=m.getString()),_.hasValue()&&(t.lineJoin=_.getString()),d.hasValue()&&(t.miterLimit=d.getNumber()),S.hasValue()&&S.getString()!=="none"){const M=Ue(S.getString());typeof t.setLineDash<"u"?t.setLineDash(M):typeof t.webkitLineDash<"u"?t.webkitLineDash=M:typeof t.mozDash<"u"&&!(M.length===1&&M[0]===0)&&(t.mozDash=M);const E=k.getPixels();typeof t.lineDashOffset<"u"?t.lineDashOffset=E:typeof t.webkitLineDashOffset<"u"?t.webkitLineDashOffset=E:typeof t.mozDashOffset<"u"&&(t.mozDashOffset=E)}}if(this.modifiedEmSizeStack=!1,typeof t.font<"u"){const r=this.getStyle("font"),i=this.getStyle("font-style"),o=this.getStyle("font-variant"),l=this.getStyle("font-weight"),c=this.getStyle("font-size"),m=this.getStyle("font-family"),_=new Ne(i.getString(),o.getString(),l.getString(),c.hasValue()?"".concat(c.getPixels(!0),"px"):"",m.getString(),Ne.parse(r.getString(),t.font));i.setValue(_.fontStyle),o.setValue(_.fontVariant),l.setValue(_.fontWeight),c.setValue(_.fontSize),m.setValue(_.fontFamily),t.font=_.toString(),c.isPixels()&&(this.document.emSize=c.getPixels(),this.modifiedEmSizeStack=!0)}e||(this.applyEffects(t),t.globalAlpha=this.calculateOpacity())}clearContext(t){super.clearContext(t),this.modifiedEmSizeStack&&this.document.popEmSize()}constructor(...t){super(...t),this.modifiedEmSizeStack=!1}}class xt extends Wt{setContext(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(t,e);const r=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();r&&(t.textBaseline=r)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(t){if(this.type!=="text")return this.getTElementBoundingBox(t);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(t);let e=null;return this.children.forEach((r,i)=>{const o=this.getChildBoundingBox(t,this,this,i);e?e.addBoundingBox(o):e=o}),e}getFontSize(){const{document:t,parent:e}=this,r=Ne.parse(t.ctx.font).fontSize;return e.getStyle("font-size").getNumber(r)}getTElementBoundingBox(t){const e=this.getFontSize();return new Ze(this.x,this.y-e,this.x+this.measureText(t),this.y)}getGlyph(t,e,r){const i=e[r];let o;if(t.isArabic){var l;const c=e.length,m=e[r-1],_=e[r+1];let d="isolated";(r===0||m===" ")&&r<c-1&&_!==" "&&(d="terminal"),r>0&&m!==" "&&r<c-1&&_!==" "&&(d="medial"),r>0&&m!==" "&&(r===c-1||_===" ")&&(d="initial"),o=((l=t.arabicGlyphs[i])===null||l===void 0?void 0:l[d])||t.glyphs[i]}else o=t.glyphs[i];return o||(o=t.missingGlyph),o}getText(){return""}getTextFromNode(t){const e=t||this.node,r=Array.from(e.parentNode.childNodes),i=r.indexOf(e),o=r.length-1;let l=Zt(e.textContent||"");return i===0&&(l=js(l)),i===o&&(l=$s(l)),l}renderChildren(t){if(this.type!=="text"){this.renderTElementChildren(t);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(t),this.children.forEach((r,i)=>{this.renderChild(t,this,this,i)});const{mouse:e}=this.document.screen;e.isWorking()&&e.checkBoundingBox(this,this.getBoundingBox(t))}renderTElementChildren(t){const{document:e,parent:r}=this,i=this.getText(),o=r.getStyle("font-family").getDefinition();if(o){const{unitsPerEm:m}=o.fontFace,_=Ne.parse(e.ctx.font),d=r.getStyle("font-size").getNumber(_.fontSize),S=r.getStyle("font-style").getString(_.fontStyle),k=d/m,M=o.isRTL?i.split("").reverse().join(""):i,E=Ue(r.getAttribute("dx").getString()),I=M.length;for(let x=0;x<I;x++){const R=this.getGlyph(o,M,x);t.translate(this.x,this.y),t.scale(k,-k);const Y=t.lineWidth;t.lineWidth=t.lineWidth*m/d,S==="italic"&&t.transform(1,0,.4,1,0,0),R.render(t),S==="italic"&&t.transform(1,0,-.4,1,0,0),t.lineWidth=Y,t.scale(1/k,-1/k),t.translate(-this.x,-this.y),this.x+=d*(R.horizAdvX||o.horizAdvX)/m,typeof E[x]<"u"&&!isNaN(E[x])&&(this.x+=E[x])}return}const{x:l,y:c}=this;t.fillStyle&&t.fillText(i,l,c),t.strokeStyle&&t.strokeText(i,l,c)}applyAnchoring(){if(this.textChunkStart>=this.leafTexts.length)return;const t=this.leafTexts[this.textChunkStart],e=t.getStyle("text-anchor").getString("start"),r=!1;let i=0;e==="start"&&!r||e==="end"&&r?i=t.x-this.minX:e==="end"&&!r||e==="start"&&r?i=t.x-this.maxX:i=t.x-(this.minX+this.maxX)/2;for(let o=this.textChunkStart;o<this.leafTexts.length;o++)this.leafTexts[o].x+=i;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}adjustChildCoordinatesRecursive(t){this.children.forEach((e,r)=>{this.adjustChildCoordinatesRecursiveCore(t,this,this,r)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(t,e,r,i){const o=r.children[i];o.children.length>0?o.children.forEach((l,c)=>{e.adjustChildCoordinatesRecursiveCore(t,e,o,c)}):this.adjustChildCoordinates(t,e,r,i)}adjustChildCoordinates(t,e,r,i){const o=r.children[i];if(typeof o.measureText!="function")return o;t.save(),o.setContext(t,!0);const l=o.getAttribute("x"),c=o.getAttribute("y"),m=o.getAttribute("dx"),_=o.getAttribute("dy"),d=o.getStyle("font-family").getDefinition(),S=!!d?.isRTL;i===0&&(l.hasValue()||l.setValue(o.getInheritedAttribute("x")),c.hasValue()||c.setValue(o.getInheritedAttribute("y")),m.hasValue()||m.setValue(o.getInheritedAttribute("dx")),_.hasValue()||_.setValue(o.getInheritedAttribute("dy")));const k=o.measureText(t);return S&&(e.x-=k),l.hasValue()?(e.applyAnchoring(),o.x=l.getPixels("x"),m.hasValue()&&(o.x+=m.getPixels("x"))):(m.hasValue()&&(e.x+=m.getPixels("x")),o.x=e.x),e.x=o.x,S||(e.x+=k),c.hasValue()?(o.y=c.getPixels("y"),_.hasValue()&&(o.y+=_.getPixels("y"))):(_.hasValue()&&(e.y+=_.getPixels("y")),o.y=e.y),e.y=o.y,e.leafTexts.push(o),e.minX=Math.min(e.minX,o.x,o.x+k),e.maxX=Math.max(e.maxX,o.x,o.x+k),o.clearContext(t),t.restore(),o}getChildBoundingBox(t,e,r,i){const o=r.children[i];if(typeof o.getBoundingBox!="function")return null;const l=o.getBoundingBox(t);return l&&o.children.forEach((c,m)=>{const _=e.getChildBoundingBox(t,e,o,m);l.addBoundingBox(_)}),l}renderChild(t,e,r,i){const o=r.children[i];o.render(t),o.children.forEach((l,c)=>{e.renderChild(t,e,o,c)})}measureText(t){const{measureCache:e}=this;if(~e)return e;const r=this.getText(),i=this.measureTargetText(t,r);return this.measureCache=i,i}measureTargetText(t,e){if(!e.length)return 0;const{parent:r}=this,i=r.getStyle("font-family").getDefinition();if(i){const l=this.getFontSize(),c=i.isRTL?e.split("").reverse().join(""):e,m=Ue(r.getAttribute("dx").getString()),_=c.length;let d=0;for(let S=0;S<_;S++){const k=this.getGlyph(i,c,S);d+=(k.horizAdvX||i.horizAdvX)*l/i.fontFace.unitsPerEm,typeof m[S]<"u"&&!isNaN(m[S])&&(d+=m[S])}return d}if(!t.measureText)return e.length*10;t.save(),this.setContext(t,!0);const{width:o}=t.measureText(e);return this.clearContext(t),t.restore(),o}getInheritedAttribute(t){let e=this;for(;e instanceof xt&&e.isFirstChild()&&e.parent;){const r=e.parent.getAttribute(t);if(r.hasValue(!0))return r.getString("0");e=e.parent}return null}constructor(t,e,r){super(t,e,new.target===xt?!0:r),this.type="text",this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.measureCache=-1}}class Jn extends xt{getText(){return this.text}constructor(t,e,r){super(t,e,new.target===Jn?!0:r),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}}class wo extends Jn{constructor(...t){super(...t),this.type="textNode"}}class $ extends b{reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new fe(0,0),this.control=new fe(0,0),this.current=new fe(0,0),this.points=[],this.angles=[]}isEnd(){const{i:t,commands:e}=this;return t>=e.length-1}next(){const t=this.commands[++this.i];return this.previousCommand=this.command,this.command=t,t}getPoint(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y";const r=new fe(this.command[t],this.command[e]);return this.makeAbsolute(r)}getAsControlPoint(t,e){const r=this.getPoint(t,e);return this.control=r,r}getAsCurrentPoint(t,e){const r=this.getPoint(t,e);return this.current=r,r}getReflectedControlPoint(){const t=this.previousCommand.type;if(t!==b.CURVE_TO&&t!==b.SMOOTH_CURVE_TO&&t!==b.QUAD_TO&&t!==b.SMOOTH_QUAD_TO)return this.current;const{current:{x:e,y:r},control:{x:i,y:o}}=this;return new fe(2*e-i,2*r-o)}makeAbsolute(t){if(this.command.relative){const{x:e,y:r}=this.current;t.x+=e,t.y+=r}return t}addMarker(t,e,r){const{points:i,angles:o}=this;r&&o.length>0&&!o[o.length-1]&&(o[o.length-1]=i[i.length-1].angleTo(r)),this.addMarkerAngle(t,e?e.angleTo(t):null)}addMarkerAngle(t,e){this.points.push(t),this.angles.push(e)}getMarkerPoints(){return this.points}getMarkerAngles(){const{angles:t}=this,e=t.length;for(let r=0;r<e;r++)if(!t[r]){for(let i=r+1;i<e;i++)if(t[i]){t[r]=t[i];break}}return t}constructor(t){super(t.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=new fe(0,0),this.start=new fe(0,0),this.current=new fe(0,0),this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}}class ce extends Wt{path(t){const{pathParser:e}=this,r=new Ze;for(e.reset(),t&&t.beginPath();!e.isEnd();)switch(e.next().type){case $.MOVE_TO:this.pathM(t,r);break;case $.LINE_TO:this.pathL(t,r);break;case $.HORIZ_LINE_TO:this.pathH(t,r);break;case $.VERT_LINE_TO:this.pathV(t,r);break;case $.CURVE_TO:this.pathC(t,r);break;case $.SMOOTH_CURVE_TO:this.pathS(t,r);break;case $.QUAD_TO:this.pathQ(t,r);break;case $.SMOOTH_QUAD_TO:this.pathT(t,r);break;case $.ARC:this.pathA(t,r);break;case $.CLOSE_PATH:this.pathZ(t,r);break}return r}getBoundingBox(t){return this.path()}getMarkers(){const{pathParser:t}=this,e=t.getMarkerPoints(),r=t.getMarkerAngles();return e.map((o,l)=>[o,r[l]])}renderChildren(t){this.path(t),this.document.screen.mouse.checkPath(this,t);const e=this.getStyle("fill-rule");t.fillStyle!==""&&(e.getString("inherit")!=="inherit"?t.fill(e.getString()):t.fill()),t.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(t.save(),t.setTransform(1,0,0,1,0,0),t.stroke(),t.restore()):t.stroke());const r=this.getMarkers();if(r){const i=r.length-1,o=this.getStyle("marker-start"),l=this.getStyle("marker-mid"),c=this.getStyle("marker-end");if(o.isUrlDefinition()){const m=o.getDefinition(),[_,d]=r[0];m.render(t,_,d)}if(l.isUrlDefinition()){const m=l.getDefinition();for(let _=1;_<i;_++){const[d,S]=r[_];m.render(t,d,S)}}if(c.isUrlDefinition()){const m=c.getDefinition(),[_,d]=r[i];m.render(t,_,d)}}}static pathM(t){const e=t.getAsCurrentPoint();return t.start=t.current,{point:e}}pathM(t,e){const{pathParser:r}=this,{point:i}=ce.pathM(r),{x:o,y:l}=i;r.addMarker(i),e.addPoint(o,l),t&&t.moveTo(o,l)}static pathL(t){const{current:e}=t,r=t.getAsCurrentPoint();return{current:e,point:r}}pathL(t,e){const{pathParser:r}=this,{current:i,point:o}=ce.pathL(r),{x:l,y:c}=o;r.addMarker(o,i),e.addPoint(l,c),t&&t.lineTo(l,c)}static pathH(t){const{current:e,command:r}=t,i=new fe((r.relative?e.x:0)+r.x,e.y);return t.current=i,{current:e,point:i}}pathH(t,e){const{pathParser:r}=this,{current:i,point:o}=ce.pathH(r),{x:l,y:c}=o;r.addMarker(o,i),e.addPoint(l,c),t&&t.lineTo(l,c)}static pathV(t){const{current:e,command:r}=t,i=new fe(e.x,(r.relative?e.y:0)+r.y);return t.current=i,{current:e,point:i}}pathV(t,e){const{pathParser:r}=this,{current:i,point:o}=ce.pathV(r),{x:l,y:c}=o;r.addMarker(o,i),e.addPoint(l,c),t&&t.lineTo(l,c)}static pathC(t){const{current:e}=t,r=t.getPoint("x1","y1"),i=t.getAsControlPoint("x2","y2"),o=t.getAsCurrentPoint();return{current:e,point:r,controlPoint:i,currentPoint:o}}pathC(t,e){const{pathParser:r}=this,{current:i,point:o,controlPoint:l,currentPoint:c}=ce.pathC(r);r.addMarker(c,l,o),e.addBezierCurve(i.x,i.y,o.x,o.y,l.x,l.y,c.x,c.y),t&&t.bezierCurveTo(o.x,o.y,l.x,l.y,c.x,c.y)}static pathS(t){const{current:e}=t,r=t.getReflectedControlPoint(),i=t.getAsControlPoint("x2","y2"),o=t.getAsCurrentPoint();return{current:e,point:r,controlPoint:i,currentPoint:o}}pathS(t,e){const{pathParser:r}=this,{current:i,point:o,controlPoint:l,currentPoint:c}=ce.pathS(r);r.addMarker(c,l,o),e.addBezierCurve(i.x,i.y,o.x,o.y,l.x,l.y,c.x,c.y),t&&t.bezierCurveTo(o.x,o.y,l.x,l.y,c.x,c.y)}static pathQ(t){const{current:e}=t,r=t.getAsControlPoint("x1","y1"),i=t.getAsCurrentPoint();return{current:e,controlPoint:r,currentPoint:i}}pathQ(t,e){const{pathParser:r}=this,{current:i,controlPoint:o,currentPoint:l}=ce.pathQ(r);r.addMarker(l,o,o),e.addQuadraticCurve(i.x,i.y,o.x,o.y,l.x,l.y),t&&t.quadraticCurveTo(o.x,o.y,l.x,l.y)}static pathT(t){const{current:e}=t,r=t.getReflectedControlPoint();t.control=r;const i=t.getAsCurrentPoint();return{current:e,controlPoint:r,currentPoint:i}}pathT(t,e){const{pathParser:r}=this,{current:i,controlPoint:o,currentPoint:l}=ce.pathT(r);r.addMarker(l,o,o),e.addQuadraticCurve(i.x,i.y,o.x,o.y,l.x,l.y),t&&t.quadraticCurveTo(o.x,o.y,l.x,l.y)}static pathA(t){const{current:e,command:r}=t;let{rX:i,rY:o,xRot:l,lArcFlag:c,sweepFlag:m}=r;const _=l*(Math.PI/180),d=t.getAsCurrentPoint(),S=new fe(Math.cos(_)*(e.x-d.x)/2+Math.sin(_)*(e.y-d.y)/2,-Math.sin(_)*(e.x-d.x)/2+Math.cos(_)*(e.y-d.y)/2),k=Math.pow(S.x,2)/Math.pow(i,2)+Math.pow(S.y,2)/Math.pow(o,2);k>1&&(i*=Math.sqrt(k),o*=Math.sqrt(k));let M=(c===m?-1:1)*Math.sqrt((Math.pow(i,2)*Math.pow(o,2)-Math.pow(i,2)*Math.pow(S.y,2)-Math.pow(o,2)*Math.pow(S.x,2))/(Math.pow(i,2)*Math.pow(S.y,2)+Math.pow(o,2)*Math.pow(S.x,2)));isNaN(M)&&(M=0);const E=new fe(M*i*S.y/o,M*-o*S.x/i),I=new fe((e.x+d.x)/2+Math.cos(_)*E.x-Math.sin(_)*E.y,(e.y+d.y)/2+Math.sin(_)*E.x+Math.cos(_)*E.y),x=Pi([1,0],[(S.x-E.x)/i,(S.y-E.y)/o]),R=[(S.x-E.x)/i,(S.y-E.y)/o],Y=[(-S.x-E.x)/i,(-S.y-E.y)/o];let A=Pi(R,Y);return Nr(R,Y)<=-1&&(A=Math.PI),Nr(R,Y)>=1&&(A=0),{currentPoint:d,rX:i,rY:o,sweepFlag:m,xAxisRotation:_,centp:I,a1:x,ad:A}}pathA(t,e){const{pathParser:r}=this,{currentPoint:i,rX:o,rY:l,sweepFlag:c,xAxisRotation:m,centp:_,a1:d,ad:S}=ce.pathA(r),k=1-c?1:-1,M=d+k*(S/2),E=new fe(_.x+o*Math.cos(M),_.y+l*Math.sin(M));if(r.addMarkerAngle(E,M-k*Math.PI/2),r.addMarkerAngle(i,M-k*Math.PI),e.addPoint(i.x,i.y),t&&!isNaN(d)&&!isNaN(S)){const I=o>l?o:l,x=o>l?1:o/l,R=o>l?l/o:1;t.translate(_.x,_.y),t.rotate(m),t.scale(x,R),t.arc(0,0,I,d,d+S,!!(1-c)),t.scale(1/x,1/R),t.rotate(-m),t.translate(-_.x,-_.y)}}static pathZ(t){t.current=t.start}pathZ(t,e){ce.pathZ(this.pathParser),t&&e.x1!==e.x2&&e.y1!==e.y2&&t.closePath()}constructor(t,e,r){super(t,e,r),this.type="path",this.pathParser=new $(this.getAttribute("d").getString())}}class Cn extends Wt{setContext(t){var e;const{document:r}=this,{screen:i,window:o}=r,l=t.canvas;if(i.setDefaults(t),"style"in l&&typeof t.font<"u"&&o&&typeof o.getComputedStyle<"u"){t.font=o.getComputedStyle(l).getPropertyValue("font");const Y=new H(r,"fontSize",Ne.parse(t.font).fontSize);Y.hasValue()&&(r.rootEmSize=Y.getPixels("y"),r.emSize=r.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);let{width:c,height:m}=i.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");const _=this.getAttribute("refX"),d=this.getAttribute("refY"),S=this.getAttribute("viewBox"),k=S.hasValue()?Ue(S.getString()):null,M=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible";let E=0,I=0,x=0,R=0;k&&(E=k[0],I=k[1]),this.root||(c=this.getStyle("width").getPixels("x"),m=this.getStyle("height").getPixels("y"),this.type==="marker"&&(x=E,R=I,E=0,I=0)),i.viewPort.setCurrent(c,m),this.node&&(!this.parent||((e=this.node.parentNode)===null||e===void 0?void 0:e.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(t),t.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),k&&(c=k[2],m=k[3]),r.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:i.viewPort.width,desiredWidth:c,height:i.viewPort.height,desiredHeight:m,minX:E,minY:I,refX:_.getValue(),refY:d.getValue(),clip:M,clipX:x,clipY:R}),k&&(i.viewPort.removeCurrent(),i.viewPort.setCurrent(c,m))}clearContext(t){super.clearContext(t),this.document.screen.viewPort.removeCurrent()}resize(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.getAttribute("width",!0),o=this.getAttribute("height",!0),l=this.getAttribute("viewBox"),c=this.getAttribute("style"),m=i.getNumber(0),_=o.getNumber(0);if(r)if(typeof r=="string")this.getAttribute("preserveAspectRatio",!0).setValue(r);else{const d=this.getAttribute("preserveAspectRatio");d.hasValue()&&d.setValue(d.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(i.setValue(t),o.setValue(e),l.hasValue()||l.setValue("0 0 ".concat(m||t," ").concat(_||e)),c.hasValue()){const d=this.getStyle("width"),S=this.getStyle("height");d.hasValue()&&d.setValue("".concat(t,"px")),S.hasValue()&&S.setValue("".concat(e,"px"))}}constructor(...t){super(...t),this.type="svg",this.root=!1}}class Yi extends ce{path(t){const e=this.getAttribute("x").getPixels("x"),r=this.getAttribute("y").getPixels("y"),i=this.getStyle("width",!1,!0).getPixels("x"),o=this.getStyle("height",!1,!0).getPixels("y"),l=this.getAttribute("rx"),c=this.getAttribute("ry");let m=l.getPixels("x"),_=c.getPixels("y");if(l.hasValue()&&!c.hasValue()&&(_=m),c.hasValue()&&!l.hasValue()&&(m=_),m=Math.min(m,i/2),_=Math.min(_,o/2),t){const d=4*((Math.sqrt(2)-1)/3);t.beginPath(),o>0&&i>0&&(t.moveTo(e+m,r),t.lineTo(e+i-m,r),t.bezierCurveTo(e+i-m+d*m,r,e+i,r+_-d*_,e+i,r+_),t.lineTo(e+i,r+o-_),t.bezierCurveTo(e+i,r+o-_+d*_,e+i-m+d*m,r+o,e+i-m,r+o),t.lineTo(e+m,r+o),t.bezierCurveTo(e+m-d*m,r+o,e,r+o-_+d*_,e,r+o-_),t.lineTo(e,r+_),t.bezierCurveTo(e,r+_-d*_,e+m-d*m,r,e+m,r),t.closePath())}return new Ze(e,r,e+i,r+o)}getMarkers(){return null}constructor(...t){super(...t),this.type="rect"}}class Co extends ce{path(t){const e=this.getAttribute("cx").getPixels("x"),r=this.getAttribute("cy").getPixels("y"),i=this.getAttribute("r").getPixels();return t&&i>0&&(t.beginPath(),t.arc(e,r,i,0,Math.PI*2,!1),t.closePath()),new Ze(e-i,r-i,e+i,r+i)}getMarkers(){return null}constructor(...t){super(...t),this.type="circle"}}class Io extends ce{path(t){const e=4*((Math.sqrt(2)-1)/3),r=this.getAttribute("rx").getPixels("x"),i=this.getAttribute("ry").getPixels("y"),o=this.getAttribute("cx").getPixels("x"),l=this.getAttribute("cy").getPixels("y");return t&&r>0&&i>0&&(t.beginPath(),t.moveTo(o+r,l),t.bezierCurveTo(o+r,l+e*i,o+e*r,l+i,o,l+i),t.bezierCurveTo(o-e*r,l+i,o-r,l+e*i,o-r,l),t.bezierCurveTo(o-r,l-e*i,o-e*r,l-i,o,l-i),t.bezierCurveTo(o+e*r,l-i,o+r,l-e*i,o+r,l),t.closePath()),new Ze(o-r,l-i,o+r,l+i)}getMarkers(){return null}constructor(...t){super(...t),this.type="ellipse"}}class Eo extends ce{getPoints(){return[new fe(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new fe(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(t){const[{x:e,y:r},{x:i,y:o}]=this.getPoints();return t&&(t.beginPath(),t.moveTo(e,r),t.lineTo(i,o)),new Ze(e,r,i,o)}getMarkers(){const[t,e]=this.getPoints(),r=t.angleTo(e);return[[t,r],[e,r]]}constructor(...t){super(...t),this.type="line"}}class Xi extends ce{path(t){const{points:e}=this,[{x:r,y:i}]=e,o=new Ze(r,i);return t&&(t.beginPath(),t.moveTo(r,i)),e.forEach(l=>{let{x:c,y:m}=l;o.addPoint(c,m),t&&t.lineTo(c,m)}),o}getMarkers(){const{points:t}=this,e=t.length-1,r=[];return t.forEach((i,o)=>{o!==e&&r.push([i,i.angleTo(t[o+1])])}),r.length>0&&r.push([t[t.length-1],r[r.length-1][1]]),r}constructor(t,e,r){super(t,e,r),this.type="polyline",this.points=[],this.points=fe.parsePath(this.getAttribute("points").getString())}}class xo extends Xi{path(t){const e=super.path(t),[{x:r,y:i}]=this.points;return t&&(t.lineTo(r,i),t.closePath()),e}constructor(...t){super(...t),this.type="polygon"}}class bo extends ye{createPattern(t,e,r){const i=this.getStyle("width").getPixels("x",!0),o=this.getStyle("height").getPixels("y",!0),l=new Cn(this.document,null);l.attributes.viewBox=new H(this.document,"viewBox",this.getAttribute("viewBox").getValue()),l.attributes.width=new H(this.document,"width","".concat(i,"px")),l.attributes.height=new H(this.document,"height","".concat(o,"px")),l.attributes.transform=new H(this.document,"transform",this.getAttribute("patternTransform").getValue()),l.children=this.children;const c=this.document.createCanvas(i,o),m=c.getContext("2d"),_=this.getAttribute("x"),d=this.getAttribute("y");_.hasValue()&&d.hasValue()&&m.translate(_.getPixels("x",!0),d.getPixels("y",!0)),r.hasValue()?this.styles["fill-opacity"]=r:Reflect.deleteProperty(this.styles,"fill-opacity");for(let k=-1;k<=1;k++)for(let M=-1;M<=1;M++)m.save(),l.attributes.x=new H(this.document,"x",k*c.width),l.attributes.y=new H(this.document,"y",M*c.height),l.render(m),m.restore();return t.createPattern(c,"repeat")}constructor(...t){super(...t),this.type="pattern"}}class Do extends ye{render(t,e,r){if(!e)return;const{x:i,y:o}=e,l=this.getAttribute("orient").getString("auto"),c=this.getAttribute("markerUnits").getString("strokeWidth");t.translate(i,o),l==="auto"&&t.rotate(r),c==="strokeWidth"&&t.scale(t.lineWidth,t.lineWidth),t.save();const m=new Cn(this.document);m.type=this.type,m.attributes.viewBox=new H(this.document,"viewBox",this.getAttribute("viewBox").getValue()),m.attributes.refX=new H(this.document,"refX",this.getAttribute("refX").getValue()),m.attributes.refY=new H(this.document,"refY",this.getAttribute("refY").getValue()),m.attributes.width=new H(this.document,"width",this.getAttribute("markerWidth").getValue()),m.attributes.height=new H(this.document,"height",this.getAttribute("markerHeight").getValue()),m.attributes.overflow=new H(this.document,"overflow",this.getAttribute("overflow").getValue()),m.attributes.fill=new H(this.document,"fill",this.getAttribute("fill").getColor("black")),m.attributes.stroke=new H(this.document,"stroke",this.getAttribute("stroke").getValue("none")),m.children=this.children,m.render(t),t.restore(),c==="strokeWidth"&&t.scale(1/t.lineWidth,1/t.lineWidth),l==="auto"&&t.rotate(-r),t.translate(-i,-o)}constructor(...t){super(...t),this.type="marker"}}class To extends ye{render(){}constructor(...t){super(...t),this.type="defs"}}class Fr extends Wt{getBoundingBox(t){const e=new Ze;return this.children.forEach(r=>{e.addBoundingBox(r.getBoundingBox(t))}),e}constructor(...t){super(...t),this.type="g"}}class ji extends ye{getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(t,e,r){let i=this;this.getHrefAttribute().hasValue()&&(i=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(i));const{stops:o}=i,l=this.getGradient(t,e);if(!l)return this.addParentOpacity(r,o[o.length-1].color);if(o.forEach(c=>{l.addColorStop(c.offset,this.addParentOpacity(r,c.color))}),this.getAttribute("gradientTransform").hasValue()){const{document:c}=this,{MAX_VIRTUAL_PIXELS:m}=mt,{viewPort:_}=c.screen,d=_.getRoot(),S=new Yi(c);S.attributes.x=new H(c,"x",-m/3),S.attributes.y=new H(c,"y",-m/3),S.attributes.width=new H(c,"width",m),S.attributes.height=new H(c,"height",m);const k=new Fr(c);k.attributes.transform=new H(c,"transform",this.getAttribute("gradientTransform").getValue()),k.children=[S];const M=new Cn(c);M.attributes.x=new H(c,"x",0),M.attributes.y=new H(c,"y",0),M.attributes.width=new H(c,"width",d.width),M.attributes.height=new H(c,"height",d.height),M.children=[k];const E=c.createCanvas(d.width,d.height),I=E.getContext("2d");return I.fillStyle=l,M.render(I),I.createPattern(E,"no-repeat")}return l}inheritStopContainer(t){this.attributesToInherit.forEach(e=>{!this.getAttribute(e).hasValue()&&t.getAttribute(e).hasValue()&&this.getAttribute(e,!0).setValue(t.getAttribute(e).getValue())})}addParentOpacity(t,e){return t.hasValue()?new H(this.document,"color",e).addOpacity(t).getColor():e}constructor(t,e,r){super(t,e,r),this.attributesToInherit=["gradientUnits"],this.stops=[];const{stops:i,children:o}=this;o.forEach(l=>{l.type==="stop"&&i.push(l)})}}class Ao extends ji{getGradient(t,e){const r=this.getGradientUnits()==="objectBoundingBox",i=r?e.getBoundingBox(t):null;if(r&&!i)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));const o=r?i.x+i.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),l=r?i.y+i.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),c=r?i.x+i.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),m=r?i.y+i.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return o===c&&l===m?null:t.createLinearGradient(o,l,c,m)}constructor(t,e,r){super(t,e,r),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}}class Po extends ji{getGradient(t,e){const r=this.getGradientUnits()==="objectBoundingBox",i=e.getBoundingBox(t);if(r&&!i)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");const o=r?i.x+i.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),l=r?i.y+i.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y");let c=o,m=l;this.getAttribute("fx").hasValue()&&(c=r?i.x+i.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(m=r?i.y+i.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));const _=r?(i.width+i.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),d=this.getAttribute("fr").getPixels();return t.createRadialGradient(c,m,d,o,l,_)}constructor(t,e,r){super(t,e,r),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}}class Ro extends ye{constructor(t,e,r){super(t,e,r),this.type="stop";const i=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),o=this.getStyle("stop-opacity");let l=this.getStyle("stop-color",!0);l.getString()===""&&l.setValue("#000"),o.hasValue()&&(l=l.addOpacity(o)),this.offset=i,this.color=l.getColor()}}class Lr extends ye{getProperty(){const t=this.getAttribute("attributeType").getString(),e=this.getAttribute("attributeName").getString();return t==="CSS"?this.parent.getStyle(e,!0):this.parent.getAttribute(e,!0)}calcValue(){const{initialUnits:t}=this,{progress:e,from:r,to:i}=this.getProgress();let o=r.getNumber()+(i.getNumber()-r.getNumber())*e;return t==="%"&&(o*=100),"".concat(o).concat(t)}update(t){const{parent:e}=this,r=this.getProperty();if(this.initialValue||(this.initialValue=r.getString(),this.initialUnits=r.getUnits()),this.duration>this.maxDuration){const o=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(o==="freeze"&&!this.frozen)this.frozen=!0,e&&r&&(e.animationFrozen=!0,e.animationFrozenValue=r.getString());else if(o==="remove"&&!this.removed)return this.removed=!0,e&&r&&r.setValue(e.animationFrozen?e.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=t;let i=!1;if(this.begin<this.duration){let o=this.calcValue();const l=this.getAttribute("type");if(l.hasValue()){const c=l.getString();o="".concat(c,"(").concat(o,")")}r.setValue(o),i=!0}return i}getProgress(){const{document:t,values:e}=this;let r=(this.duration-this.begin)/(this.maxDuration-this.begin),i,o;if(e.hasValue()){const l=r*(e.getValue().length-1),c=Math.floor(l),m=Math.ceil(l);let _;_=e.getValue()[c],i=new H(t,"from",_?parseFloat(_):0),_=e.getValue()[m],o=new H(t,"to",_?parseFloat(_):0),r=(l-c)/(m-c)}else i=this.from,o=this.to;return{progress:r,from:i,to:o}}constructor(t,e,r){super(t,e,r),this.type="animate",this.duration=0,this.initialUnits="",this.removed=!1,this.frozen=!1,t.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new H(t,"values",null);const i=this.getAttribute("values");i.hasValue()&&this.values.setValue(i.getString().split(";"))}}class Go extends Lr{calcValue(){const{progress:t,from:e,to:r}=this.getProgress(),i=new Pr(e.getColor()),o=new Pr(r.getColor());if(i.ok&&o.ok){const l=i.r+(o.r-i.r)*t,c=i.g+(o.g-i.g)*t,m=i.b+(o.b-i.b)*t;return"rgb(".concat(Math.floor(l),", ").concat(Math.floor(c),", ").concat(Math.floor(m),")")}return this.getAttribute("from").getColor()}constructor(...t){super(...t),this.type="animateColor"}}class No extends Lr{calcValue(){const{progress:t,from:e,to:r}=this.getProgress(),i=Ue(e.getString()),o=Ue(r.getString());return i.map((c,m)=>{const _=o[m];return c+(_-c)*t}).join(" ")}constructor(...t){super(...t),this.type="animateTransform"}}class $i extends ye{constructor(t,e,r){super(t,e,r),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class Wr extends ce{constructor(t,e,r){super(t,e,r),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class qi extends Wr{constructor(...t){super(...t),this.type="missing-glyph",this.horizAdvX=0}}class Oo extends ye{render(){}constructor(t,e,r){super(t,e,r),this.type="font",this.isArabic=!1,this.glyphs={},this.arabicGlyphs={},this.isRTL=!1,this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();const{definitions:i}=t,{children:o}=this;for(const l of o)if(l instanceof $i){this.fontFace=l;const c=l.getStyle("font-family");c.hasValue()&&(i[c.getString()]=this)}else if(l instanceof qi)this.missingGlyph=l;else if(l instanceof Wr)if(l.arabicForm){this.isRTL=!0,this.isArabic=!0;const c=this.arabicGlyphs[l.unicode];typeof c>"u"?this.arabicGlyphs[l.unicode]={[l.arabicForm]:l}:c[l.arabicForm]=l}else this.glyphs[l.unicode]=l}}class Fo extends xt{getText(){const t=this.getHrefAttribute().getDefinition();if(t){const e=t.children[0];if(e)return e.getText()}return""}constructor(...t){super(...t),this.type="tref"}}class Lo extends xt{getText(){return this.text}renderChildren(t){if(this.hasText){super.renderChildren(t);const{document:e,x:r,y:i}=this,{mouse:o}=e.screen,l=new H(e,"fontSize",Ne.parse(e.ctx.font).fontSize);o.isWorking()&&o.checkBoundingBox(this,new Ze(r,i-l.getPixels("y"),r+this.measureText(t),i))}else if(this.children.length>0){const e=new Fr(this.document);e.children=this.children,e.parent=this,e.render(t)}}onClick(){const{window:t}=this.document;t&&t.open(this.getHrefAttribute().getString())}onMouseMove(){const t=this.document.ctx;t.canvas.style.cursor="pointer"}constructor(t,e,r){super(t,e,r),this.type="a";const{childNodes:i}=e,o=i[0],l=i.length>0&&Array.from(i).every(c=>c.nodeType===3);this.hasText=l,this.text=l?this.getTextFromNode(o):""}}class Wo extends xt{getText(){return this.text}path(t){const{dataArray:e}=this;t&&t.beginPath(),e.forEach(r=>{let{type:i,points:o}=r;switch(i){case $.LINE_TO:t&&t.lineTo(o[0],o[1]);break;case $.MOVE_TO:t&&t.moveTo(o[0],o[1]);break;case $.CURVE_TO:t&&t.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case $.QUAD_TO:t&&t.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case $.ARC:{const[l,c,m,_,d,S,k,M]=o,E=m>_?m:_,I=m>_?1:m/_,x=m>_?_/m:1;t&&(t.translate(l,c),t.rotate(k),t.scale(I,x),t.arc(0,0,E,d,d+S,!!(1-M)),t.scale(1/I,1/x),t.rotate(-k),t.translate(-l,-c));break}case $.CLOSE_PATH:t&&t.closePath();break}})}renderChildren(t){this.setTextData(t),t.save();const e=this.parent.getStyle("text-decoration").getString(),r=this.getFontSize(),{glyphInfo:i}=this,o=t.fillStyle;e==="underline"&&t.beginPath(),i.forEach((l,c)=>{const{p0:m,p1:_,rotation:d,text:S}=l;t.save(),t.translate(m.x,m.y),t.rotate(d),t.fillStyle&&t.fillText(S,0,0),t.strokeStyle&&t.strokeText(S,0,0),t.restore(),e==="underline"&&(c===0&&t.moveTo(m.x,m.y+r/8),t.lineTo(_.x,_.y+r/5))}),e==="underline"&&(t.lineWidth=r/20,t.strokeStyle=o,t.stroke(),t.closePath()),t.restore()}getLetterSpacingAt(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[t]||0}findSegmentToFitChar(t,e,r,i,o,l,c,m,_){let d=l,S=this.measureText(t,m);m===" "&&e==="justify"&&r<i&&(S+=(i-r)/o),_>-1&&(d+=this.getLetterSpacingAt(_));const k=this.textHeight/20,M=this.getEquidistantPointOnPath(d,k,0),E=this.getEquidistantPointOnPath(d+S,k,0),I={p0:M,p1:E},x=M&&E?Math.atan2(E.y-M.y,E.x-M.x):0;if(c){const R=Math.cos(Math.PI/2+x)*c,Y=Math.cos(-x)*c;I.p0={...M,x:M.x+R,y:M.y+Y},I.p1={...E,x:E.x+R,y:E.y+Y}}return d+=S,{offset:d,segment:I,rotation:x}}measureText(t,e){const{measuresCache:r}=this,i=e||this.getText();if(r.has(i))return r.get(i);const o=this.measureTargetText(t,i);return r.set(i,o),o}setTextData(t){if(this.glyphInfo)return;const e=this.getText(),r=e.split(""),i=e.split(" ").length-1,o=this.parent.getAttribute("dx").split().map(A=>A.getPixels("x")),l=this.parent.getAttribute("dy").getPixels("y"),c=this.parent.getStyle("text-anchor").getString("start"),m=this.getStyle("letter-spacing"),_=this.parent.getStyle("letter-spacing");let d=0;!m.hasValue()||m.getValue()==="inherit"?d=_.getPixels():m.hasValue()&&m.getValue()!=="initial"&&m.getValue()!=="unset"&&(d=m.getPixels());const S=[],k=e.length;this.letterSpacingCache=S;for(let A=0;A<k;A++)S.push(typeof o[A]<"u"?o[A]:d);const M=S.reduce((A,F,te)=>te===0?0:A+F||0,0),E=this.measureText(t),I=Math.max(E+M,0);this.textWidth=E,this.textHeight=this.getFontSize(),this.glyphInfo=[];const x=this.getPathLength(),R=this.getStyle("startOffset").getNumber(0)*x;let Y=0;(c==="middle"||c==="center")&&(Y=-I/2),(c==="end"||c==="right")&&(Y=-I),Y+=R,r.forEach((A,F)=>{const{offset:te,segment:W,rotation:B}=this.findSegmentToFitChar(t,c,I,x,i,Y,l,A,F);Y=te,!(!W.p0||!W.p1)&&this.glyphInfo.push({text:r[F],p0:W.p0,p1:W.p1,rotation:B})})}parsePathData(t){if(this.pathLength=-1,!t)return[];const e=[],{pathParser:r}=t;for(r.reset();!r.isEnd();){const{current:i}=r,o=i?i.x:0,l=i?i.y:0,c=r.next();let m=c.type,_=[];switch(c.type){case $.MOVE_TO:this.pathM(r,_);break;case $.LINE_TO:m=this.pathL(r,_);break;case $.HORIZ_LINE_TO:m=this.pathH(r,_);break;case $.VERT_LINE_TO:m=this.pathV(r,_);break;case $.CURVE_TO:this.pathC(r,_);break;case $.SMOOTH_CURVE_TO:m=this.pathS(r,_);break;case $.QUAD_TO:this.pathQ(r,_);break;case $.SMOOTH_QUAD_TO:m=this.pathT(r,_);break;case $.ARC:_=this.pathA(r);break;case $.CLOSE_PATH:ce.pathZ(r);break}c.type!==$.CLOSE_PATH?e.push({type:m,points:_,start:{x:o,y:l},pathLength:this.calcLength(o,l,m,_)}):e.push({type:$.CLOSE_PATH,points:[],pathLength:0})}return e}pathM(t,e){const{x:r,y:i}=ce.pathM(t).point;e.push(r,i)}pathL(t,e){const{x:r,y:i}=ce.pathL(t).point;return e.push(r,i),$.LINE_TO}pathH(t,e){const{x:r,y:i}=ce.pathH(t).point;return e.push(r,i),$.LINE_TO}pathV(t,e){const{x:r,y:i}=ce.pathV(t).point;return e.push(r,i),$.LINE_TO}pathC(t,e){const{point:r,controlPoint:i,currentPoint:o}=ce.pathC(t);e.push(r.x,r.y,i.x,i.y,o.x,o.y)}pathS(t,e){const{point:r,controlPoint:i,currentPoint:o}=ce.pathS(t);return e.push(r.x,r.y,i.x,i.y,o.x,o.y),$.CURVE_TO}pathQ(t,e){const{controlPoint:r,currentPoint:i}=ce.pathQ(t);e.push(r.x,r.y,i.x,i.y)}pathT(t,e){const{controlPoint:r,currentPoint:i}=ce.pathT(t);return e.push(r.x,r.y,i.x,i.y),$.QUAD_TO}pathA(t){let{rX:e,rY:r,sweepFlag:i,xAxisRotation:o,centp:l,a1:c,ad:m}=ce.pathA(t);return i===0&&m>0&&(m-=2*Math.PI),i===1&&m<0&&(m+=2*Math.PI),[l.x,l.y,e,r,c,m,o,i]}calcLength(t,e,r,i){let o=0,l=null,c=null,m=0;switch(r){case $.LINE_TO:return this.getLineLength(t,e,i[0],i[1]);case $.CURVE_TO:for(o=0,l=this.getPointOnCubicBezier(0,t,e,i[0],i[1],i[2],i[3],i[4],i[5]),m=.01;m<=1;m+=.01)c=this.getPointOnCubicBezier(m,t,e,i[0],i[1],i[2],i[3],i[4],i[5]),o+=this.getLineLength(l.x,l.y,c.x,c.y),l=c;return o;case $.QUAD_TO:for(o=0,l=this.getPointOnQuadraticBezier(0,t,e,i[0],i[1],i[2],i[3]),m=.01;m<=1;m+=.01)c=this.getPointOnQuadraticBezier(m,t,e,i[0],i[1],i[2],i[3]),o+=this.getLineLength(l.x,l.y,c.x,c.y),l=c;return o;case $.ARC:{o=0;const _=i[4],d=i[5],S=i[4]+d;let k=Math.PI/180;if(Math.abs(_-S)<k&&(k=Math.abs(_-S)),l=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],_,0),d<0)for(m=_-k;m>S;m-=k)c=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],m,0),o+=this.getLineLength(l.x,l.y,c.x,c.y),l=c;else for(m=_+k;m<S;m+=k)c=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],m,0),o+=this.getLineLength(l.x,l.y,c.x,c.y),l=c;return c=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],S,0),o+=this.getLineLength(l.x,l.y,c.x,c.y),o}}return 0}getPointOnLine(t,e,r,i,o){let l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:e,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:r;const m=(o-r)/(i-e+en);let _=Math.sqrt(t*t/(1+m*m));i<e&&(_*=-1);let d=m*_,S=null;if(i===e)S={x:l,y:c+d};else if((c-r)/(l-e+en)===m)S={x:l+_,y:c+d};else{let k=0,M=0;const E=this.getLineLength(e,r,i,o);if(E<en)return null;let I=(l-e)*(i-e)+(c-r)*(o-r);I/=E*E,k=e+I*(i-e),M=r+I*(o-r);const x=this.getLineLength(l,c,k,M),R=Math.sqrt(t*t-x*x);_=Math.sqrt(R*R/(1+m*m)),i<e&&(_*=-1),d=m*_,S={x:k+_,y:M+d}}return S}getPointOnPath(t){const e=this.getPathLength();let r=0,i=null;if(t<-5e-5||t-5e-5>e)return null;const{dataArray:o}=this;for(const l of o){if(l&&(l.pathLength<5e-5||r+l.pathLength+5e-5<t)){r+=l.pathLength;continue}const c=t-r;let m=0;switch(l.type){case $.LINE_TO:i=this.getPointOnLine(c,l.start.x,l.start.y,l.points[0],l.points[1],l.start.x,l.start.y);break;case $.ARC:{const _=l.points[4],d=l.points[5],S=l.points[4]+d;if(m=_+c/l.pathLength*d,d<0&&m<S||d>=0&&m>S)break;i=this.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],m,l.points[6]);break}case $.CURVE_TO:m=c/l.pathLength,m>1&&(m=1),i=this.getPointOnCubicBezier(m,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3],l.points[4],l.points[5]);break;case $.QUAD_TO:m=c/l.pathLength,m>1&&(m=1),i=this.getPointOnQuadraticBezier(m,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3]);break}if(i)return i;break}return null}getLineLength(t,e,r,i){return Math.sqrt((r-t)*(r-t)+(i-e)*(i-e))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((t,e)=>e.pathLength>0?t+e.pathLength:t,0)),this.pathLength}getPointOnCubicBezier(t,e,r,i,o,l,c,m,_){const d=m*Ri(t)+l*Gi(t)+i*Ni(t)+e*Oi(t),S=_*Ri(t)+c*Gi(t)+o*Ni(t)+r*Oi(t);return{x:d,y:S}}getPointOnQuadraticBezier(t,e,r,i,o,l,c){const m=l*Fi(t)+i*Li(t)+e*Wi(t),_=c*Fi(t)+o*Li(t)+r*Wi(t);return{x:m,y:_}}getPointOnEllipticalArc(t,e,r,i,o,l){const c=Math.cos(l),m=Math.sin(l),_={x:r*Math.cos(o),y:i*Math.sin(o)};return{x:t+(_.x*c-_.y*m),y:e+(_.x*m+_.y*c)}}buildEquidistantCache(t,e){const r=this.getPathLength(),i=e||.25,o=t||r/100;if(!this.equidistantCache||this.equidistantCache.step!==o||this.equidistantCache.precision!==i){this.equidistantCache={step:o,precision:i,points:[]};let l=0;for(let c=0;c<=r;c+=i){const m=this.getPointOnPath(c),_=this.getPointOnPath(c+i);!m||!_||(l+=this.getLineLength(m.x,m.y,_.x,_.y),l>=o&&(this.equidistantCache.points.push({x:m.x,y:m.y,distance:c}),l-=o))}}}getEquidistantPointOnPath(t,e,r){if(this.buildEquidistantCache(e,r),t<0||t-this.getPathLength()>5e-5)return null;const i=Math.round(t/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[i]||null}constructor(t,e,r){super(t,e,r),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);const i=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(i)}}const Bo=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class Vo extends Wt{async loadImage(t){try{const e=await this.document.createImage(t);this.image=e}catch(e){console.error('Error while loading image "'.concat(t,'":'),e)}this.loaded=!0}async loadSvg(t){const e=Bo.exec(t);if(e){const r=e[5];r&&(e[4]==="base64"?this.image=atob(r):this.image=decodeURIComponent(r))}else try{const i=await(await this.document.fetch(t)).text();this.image=i}catch(r){console.error('Error while loading image "'.concat(t,'":'),r)}this.loaded=!0}renderChildren(t){const{document:e,image:r,loaded:i}=this,o=this.getAttribute("x").getPixels("x"),l=this.getAttribute("y").getPixels("y"),c=this.getStyle("width").getPixels("x"),m=this.getStyle("height").getPixels("y");if(!(!i||!r||!c||!m)){if(t.save(),t.translate(o,l),typeof r=="string"){const _=e.canvg.forkString(t,r,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:c,scaleHeight:m}),{documentElement:d}=_.document;d&&(d.parent=this),_.render()}else e.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:c,desiredWidth:r.width,height:m,desiredHeight:r.height}),this.loaded&&(!("complete"in r)||r.complete)&&t.drawImage(r,0,0);t.restore()}}getBoundingBox(){const t=this.getAttribute("x").getPixels("x"),e=this.getAttribute("y").getPixels("y"),r=this.getStyle("width").getPixels("x"),i=this.getStyle("height").getPixels("y");return new Ze(t,e,t+r,e+i)}constructor(t,e,r){super(t,e,r),this.type="image",this.loaded=!1;const i=this.getHrefAttribute().getString();if(!i)return;const o=i.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(i);t.images.push(this),o?this.loadSvg(i):this.loadImage(i)}}class zo extends Wt{render(t){}constructor(...t){super(...t),this.type="symbol"}}class Uo{async load(t,e){try{const{document:r}=this,o=(await r.canvg.parser.load(e)).getElementsByTagName("font");Array.from(o).forEach(l=>{const c=r.createElement(l);r.definitions[t]=c})}catch(r){console.error('Error while loading font "'.concat(e,'":'),r)}this.loaded=!0}constructor(t){this.document=t,this.loaded=!1,t.fonts.push(this)}}class Qi extends ye{constructor(t,e,r){super(t,e,r),this.type="style",Zt(Array.from(e.childNodes).map(l=>l.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")).split("}").forEach(l=>{const c=l.trim();if(!c)return;const m=c.split("{"),_=m[0].split(","),d=m[1].split(";");_.forEach(S=>{const k=S.trim();if(!k)return;const M=t.styles[k]||{};if(d.forEach(E=>{const I=E.indexOf(":"),x=E.substr(0,I).trim(),R=E.substr(I+1,E.length-I).trim();x&&R&&(M[x]=new H(t,x,R))}),t.styles[k]=M,t.stylesSpecificity[k]=so(k),k==="@font-face"){const E=M["font-family"].getString().replace(/"|'/g,"");M.src.getString().split(",").forEach(x=>{if(x.indexOf('format("svg")')>0){const R=Ti(x);R&&new Uo(t).load(E,R)}})}})})}}Qi.parseExternalUrl=Ti;class Ho extends Wt{setContext(t){super.setContext(t);const e=this.getAttribute("x"),r=this.getAttribute("y");e.hasValue()&&t.translate(e.getPixels("x"),0),r.hasValue()&&t.translate(0,r.getPixels("y"))}path(t){const{element:e}=this;e&&e.path(t)}renderChildren(t){const{document:e,element:r}=this;if(r){let i=r;if(r.type==="symbol"&&(i=new Cn(e),i.attributes.viewBox=new H(e,"viewBox",r.getAttribute("viewBox").getString()),i.attributes.preserveAspectRatio=new H(e,"preserveAspectRatio",r.getAttribute("preserveAspectRatio").getString()),i.attributes.overflow=new H(e,"overflow",r.getAttribute("overflow").getString()),i.children=r.children,r.styles.opacity=new H(e,"opacity",this.calculateOpacity())),i.type==="svg"){const l=this.getStyle("width",!1,!0),c=this.getStyle("height",!1,!0);l.hasValue()&&(i.attributes.width=new H(e,"width",l.getString())),c.hasValue()&&(i.attributes.height=new H(e,"height",c.getString()))}const o=i.parent;i.parent=this,i.render(t),i.parent=o}}getBoundingBox(t){const{element:e}=this;return e?e.getBoundingBox(t):null}elementTransform(){const{document:t,element:e}=this;return e?Lt.fromElement(t,e):null}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}constructor(...t){super(...t),this.type="use"}}function Zn(n,t,e,r,i,o){return n[e*r*4+t*4+o]}function er(n,t,e,r,i,o,l){n[e*r*4+t*4+o]=l}function Ce(n,t,e){return n[t]*e}function _t(n,t,e,r){return t+Math.cos(n)*e+Math.sin(n)*r}class Ki extends ye{apply(t,e,r,i,o){const{includeOpacity:l,matrix:c}=this,m=t.getImageData(0,0,i,o);for(let _=0;_<o;_++)for(let d=0;d<i;d++){const S=Zn(m.data,d,_,i,o,0),k=Zn(m.data,d,_,i,o,1),M=Zn(m.data,d,_,i,o,2),E=Zn(m.data,d,_,i,o,3);let I=Ce(c,0,S)+Ce(c,1,k)+Ce(c,2,M)+Ce(c,3,E)+Ce(c,4,1),x=Ce(c,5,S)+Ce(c,6,k)+Ce(c,7,M)+Ce(c,8,E)+Ce(c,9,1),R=Ce(c,10,S)+Ce(c,11,k)+Ce(c,12,M)+Ce(c,13,E)+Ce(c,14,1),Y=Ce(c,15,S)+Ce(c,16,k)+Ce(c,17,M)+Ce(c,18,E)+Ce(c,19,1);l&&(I=0,x=0,R=0,Y*=E/255),er(m.data,d,_,i,o,0,I),er(m.data,d,_,i,o,1,x),er(m.data,d,_,i,o,2,R),er(m.data,d,_,i,o,3,Y)}t.clearRect(0,0,i,o),t.putImageData(m,0,0)}constructor(t,e,r){super(t,e,r),this.type="feColorMatrix";let i=Ue(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{const o=i[0];i=[.213+.787*o,.715-.715*o,.072-.072*o,0,0,.213-.213*o,.715+.285*o,.072-.072*o,0,0,.213-.213*o,.715-.715*o,.072+.928*o,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{const o=i[0]*Math.PI/180;i=[_t(o,.213,.787,-.213),_t(o,.715,-.715,-.715),_t(o,.072,-.072,.928),0,0,_t(o,.213,-.213,.143),_t(o,.715,.285,.14),_t(o,.072,-.072,-.283),0,0,_t(o,.213,-.213,-.787),_t(o,.715,-.715,.715),_t(o,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=i,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}}class tr extends ye{apply(t,e){const{document:r}=this;let i=this.getAttribute("x").getPixels("x"),o=this.getAttribute("y").getPixels("y"),l=this.getStyle("width").getPixels("x"),c=this.getStyle("height").getPixels("y");if(!l&&!c){const M=new Ze;this.children.forEach(E=>{M.addBoundingBox(E.getBoundingBox(t))}),i=Math.floor(M.x1),o=Math.floor(M.y1),l=Math.floor(M.width),c=Math.floor(M.height)}const m=this.removeStyles(e,tr.ignoreStyles),_=r.createCanvas(i+l,o+c),d=_.getContext("2d");r.screen.setDefaults(d),this.renderChildren(d),new Ki(r,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(d,0,0,i+l,o+c);const S=r.createCanvas(i+l,o+c),k=S.getContext("2d");r.screen.setDefaults(k),e.render(k),k.globalCompositeOperation="destination-in",k.fillStyle=d.createPattern(_,"no-repeat"),k.fillRect(0,0,i+l,o+c),t.fillStyle=k.createPattern(S,"no-repeat"),t.fillRect(0,0,i+l,o+c),this.restoreStyles(e,m)}render(t){}constructor(...t){super(...t),this.type="mask"}}tr.ignoreStyles=["mask","transform","clip-path"];const Ji=()=>{};class Yo extends ye{apply(t){const{document:e}=this,r=Reflect.getPrototypeOf(t),{beginPath:i,closePath:o}=t;r&&(r.beginPath=Ji,r.closePath=Ji),Reflect.apply(i,t,[]),this.children.forEach(l=>{if(!("path"in l))return;let c="elementTransform"in l?l.elementTransform():null;c||(c=Lt.fromElement(e,l)),c&&c.apply(t),l.path(t),r&&(r.closePath=o),c&&c.unapply(t)}),Reflect.apply(o,t,[]),t.clip(),r&&(r.beginPath=i,r.closePath=o)}render(t){}constructor(...t){super(...t),this.type="clipPath"}}class nr extends ye{apply(t,e){const{document:r,children:i}=this,o="getBoundingBox"in e?e.getBoundingBox(t):null;if(!o)return;let l=0,c=0;i.forEach(R=>{const Y=R.extraFilterDistance||0;l=Math.max(l,Y),c=Math.max(c,Y)});const m=Math.floor(o.width),_=Math.floor(o.height),d=m+2*l,S=_+2*c;if(d<1||S<1)return;const k=Math.floor(o.x),M=Math.floor(o.y),E=this.removeStyles(e,nr.ignoreStyles),I=r.createCanvas(d,S),x=I.getContext("2d");r.screen.setDefaults(x),x.translate(-k+l,-M+c),e.render(x),i.forEach(R=>{typeof R.apply=="function"&&R.apply(x,0,0,d,S)}),t.drawImage(I,0,0,d,S,k-l,M-c,d,S),this.restoreStyles(e,E)}render(t){}constructor(...t){super(...t),this.type="filter"}}nr.ignoreStyles=["filter","transform","clip-path"];class Xo extends ye{apply(t,e,r,i,o){}constructor(t,e,r){super(t,e,r),this.type="feDropShadow",this.addStylesFromStyleDefinition()}}class jo extends ye{apply(t,e,r,i,o){}constructor(...t){super(...t),this.type="feMorphology"}}class $o extends ye{apply(t,e,r,i,o){}constructor(...t){super(...t),this.type="feComposite"}}class qo extends ye{apply(t,e,r,i,o){const{document:l,blurRadius:c}=this,m=l.window?l.window.document.body:null,_=t.canvas;_.id=l.getUniqueId(),m&&(_.style.display="none",m.appendChild(_)),zs(_,e,r,i,o,c),m&&m.removeChild(_)}constructor(t,e,r){super(t,e,r),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}}class Qo extends ye{constructor(...t){super(...t),this.type="title"}}class Ko extends ye{constructor(...t){super(...t),this.type="desc"}}const Jo={svg:Cn,rect:Yi,circle:Co,ellipse:Io,line:Eo,polyline:Xi,polygon:xo,path:ce,pattern:bo,marker:Do,defs:To,linearGradient:Ao,radialGradient:Po,stop:Ro,animate:Lr,animateColor:Go,animateTransform:No,font:Oo,"font-face":$i,"missing-glyph":qi,glyph:Wr,text:xt,tspan:Jn,tref:Fo,a:Lo,textPath:Wo,image:Vo,g:Fr,symbol:zo,style:Qi,use:Ho,mask:tr,clipPath:Yo,filter:nr,feDropShadow:Xo,feMorphology:jo,feComposite:$o,feColorMatrix:Ki,feGaussianBlur:qo,title:Qo,desc:Ko};function Zo(n,t){const e=document.createElement("canvas");return e.width=n,e.height=t,e}async function el(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const e=document.createElement("img");return t&&(e.crossOrigin="Anonymous"),new Promise((r,i)=>{e.onload=()=>{r(e)},e.onerror=(o,l,c,m,_)=>{i(_)},e.src=n})}const Br=12;let rr=class Sr{bindCreateImage(t,e){return typeof e=="boolean"?(r,i)=>t(r,typeof i=="boolean"?i:e):t}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){const{emSizeStack:t}=this;return t[t.length-1]||Br}set emSize(t){const{emSizeStack:e}=this;e.push(t)}popEmSize(){const{emSizeStack:t}=this;t.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(t=>t.loaded)}isFontsLoaded(){return this.fonts.every(t=>t.loaded)}createDocumentElement(t){const e=this.createElement(t.documentElement);return e.root=!0,e.addStylesFromStyleDefinition(),this.documentElement=e,e}createElement(t){const e=t.nodeName.replace(/^[^:]+:/,""),r=Sr.elementTypes[e];return r?new r(this,t):new yo(this,t)}createTextNode(t){return new wo(this,t)}setViewBox(t){this.screen.setViewBox({document:this,...t})}constructor(t,{rootEmSize:e=Br,emSize:r=Br,createCanvas:i=Sr.createCanvas,createImage:o=Sr.createImage,anonymousCrossOrigin:l}={}){this.canvg=t,this.definitions={},this.styles={},this.stylesSpecificity={},this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=t.screen,this.rootEmSize=e,this.emSize=r,this.createCanvas=i,this.createImage=this.bindCreateImage(o,l),this.screen.wait(()=>this.isImagesLoaded()),this.screen.wait(()=>this.isFontsLoaded())}};rr.createCanvas=Zo,rr.createImage=el,rr.elementTypes=Jo;class tn{static async from(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=await new Or(r).parse(e);return new tn(t,o,r)}static fromString(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=new Or(r).parseFromString(e);return new tn(t,o,r)}fork(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return tn.from(t,e,{...this.options,...r})}forkString(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return tn.fromString(t,e,{...this.options,...r})}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}async render(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.start({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0,...t}),await this.ready(),this.stop()}start(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{documentElement:e,screen:r,options:i}=this;r.start(e,{enableRedraw:!0,...i,...t})}stop(){this.screen.stop()}resize(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(t,e,r)}constructor(t,e,r={}){this.parser=new Or(r),this.screen=new mt(t,r),this.options=r;const i=new rr(this,r),o=i.createDocumentElement(e);this.document=i,this.documentElement=o}}var Zi={};Zi.entityMap={lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",times:"",divide:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",euro:"",trade:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lceil:"",rceil:"",lfloor:"",rfloor:"",loz:"",spades:"",clubs:"",hearts:"",diams:""};var Vr={},zr=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,ea=new RegExp("[\\-\\.0-9"+zr.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),ta=new RegExp("^"+zr.source+ea.source+"*(?::"+zr.source+ea.source+"*)?$"),In=0,bt=1,nn=2,En=3,rn=4,an=5,xn=6,ir=7;function sn(n,t){this.message=n,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,sn)}sn.prototype=new Error,sn.prototype.name=sn.name;function na(){}na.prototype={parse:function(n,t,e){var r=this.domBuilder;r.startDocument(),aa(t,t={}),tl(n,t,e,r,this.errorHandler),r.endDocument()}};function tl(n,t,e,r,i){function o(Q){if(Q>65535){Q-=65536;var Z=55296+(Q>>10),be=56320+(Q&1023);return String.fromCharCode(Z,be)}else return String.fromCharCode(Q)}function l(Q){var Z=Q.slice(1,-1);return Z in e?e[Z]:Z.charAt(0)==="#"?o(parseInt(Z.substr(1).replace("x","0x"))):(i.error("entity not found:"+Q),Q)}function c(Q){if(Q>I){var Z=n.substring(I,Q).replace(/&#?\w+;/g,l);k&&m(I),r.characters(Z,0,Q-I),I=Q}}function m(Q,Z){for(;Q>=d&&(Z=S.exec(n));)_=Z.index,d=_+Z[0].length,k.lineNumber++;k.columnNumber=Q-_+1}for(var _=0,d=0,S=/.*(?:\r\n?|\n)|.*$/g,k=r.locator,M=[{currentNSMap:t}],E={},I=0;;){try{var x=n.indexOf("<",I);if(x<0){if(!n.substr(I).match(/^\s*$/)){var R=r.doc,Y=R.createTextNode(n.substr(I));R.appendChild(Y),r.currentElement=Y}return}switch(x>I&&c(x),n.charAt(x+1)){case"/":var O=n.indexOf(">",x+3),A=n.substring(x+2,O),F=M.pop();O<0?(A=n.substring(x+2).replace(/[\s<].*/,""),i.error("end tag name: "+A+" is not complete:"+F.tagName),O=x+1+A.length):A.match(/\s</)&&(A=A.replace(/[\s<].*/,""),i.error("end tag name: "+A+" maybe not complete"),O=x+1+A.length);var te=F.localNSMap,W=F.tagName==A,B=W||F.tagName&&F.tagName.toLowerCase()==A.toLowerCase();if(B){if(r.endElement(F.uri,F.localName,A),te)for(var K in te)r.endPrefixMapping(K);W||i.fatalError("end tag name: "+A+" is not match the current start tagName:"+F.tagName)}else M.push(F);O++;break;case"?":k&&m(x),O=sl(n,x,r);break;case"!":k&&m(x),O=al(n,x,r,i);break;default:k&&m(x);var J=new sa,T=M[M.length-1].currentNSMap,O=nl(n,x,J,T,l,i),me=J.length;if(!J.closed&&il(n,O,J.tagName,E)&&(J.closed=!0,e.nbsp||i.warning("unclosed xml attribute")),k&&me){for(var re=ra(k,{}),_e=0;_e<me;_e++){var ue=J[_e];m(ue.offset),ue.locator=ra(k,{})}r.locator=re,ia(J,r,T)&&M.push(J),r.locator=k}else ia(J,r,T)&&M.push(J);J.uri==="http://www.w3.org/1999/xhtml"&&!J.closed?O=rl(n,O,J.tagName,l,r):O++}}catch(Q){if(Q instanceof sn)throw Q;i.error("element parse error: "+Q),O=-1}O>I?I=O:c(Math.max(x,I)+1)}}function ra(n,t){return t.lineNumber=n.lineNumber,t.columnNumber=n.columnNumber,t}function nl(n,t,e,r,i,o){function l(k,M,E){k in e.attributeNames&&o.fatalError("Attribute "+k+" redefined"),e.addValue(k,M,E)}for(var c,m,_=++t,d=In;;){var S=n.charAt(_);switch(S){case"=":if(d===bt)c=n.slice(t,_),d=En;else if(d===nn)d=En;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(d===En||d===bt)if(d===bt&&(o.warning('attribute value must after "="'),c=n.slice(t,_)),t=_+1,_=n.indexOf(S,t),_>0)m=n.slice(t,_).replace(/&#?\w+;/g,i),l(c,m,t-1),d=an;else throw new Error("attribute value no end '"+S+"' match");else if(d==rn)m=n.slice(t,_).replace(/&#?\w+;/g,i),l(c,m,t),o.warning('attribute "'+c+'" missed start quot('+S+")!!"),t=_+1,d=an;else throw new Error('attribute value must after "="');break;case"/":switch(d){case In:e.setTagName(n.slice(t,_));case an:case xn:case ir:d=ir,e.closed=!0;case rn:case bt:case nn:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),d==In&&e.setTagName(n.slice(t,_)),_;case">":switch(d){case In:e.setTagName(n.slice(t,_));case an:case xn:case ir:break;case rn:case bt:m=n.slice(t,_),m.slice(-1)==="/"&&(e.closed=!0,m=m.slice(0,-1));case nn:d===nn&&(m=c),d==rn?(o.warning('attribute "'+m+'" missed quot(")!'),l(c,m.replace(/&#?\w+;/g,i),t)):((r[""]!=="http://www.w3.org/1999/xhtml"||!m.match(/^(?:disabled|checked|selected)$/i))&&o.warning('attribute "'+m+'" missed value!! "'+m+'" instead!!'),l(m,m,t));break;case En:throw new Error("attribute value missed!!")}return _;case"":S=" ";default:if(S<=" ")switch(d){case In:e.setTagName(n.slice(t,_)),d=xn;break;case bt:c=n.slice(t,_),d=nn;break;case rn:var m=n.slice(t,_).replace(/&#?\w+;/g,i);o.warning('attribute "'+m+'" missed quot(")!!'),l(c,m,t);case an:d=xn;break}else switch(d){case nn:e.tagName,(r[""]!=="http://www.w3.org/1999/xhtml"||!c.match(/^(?:disabled|checked|selected)$/i))&&o.warning('attribute "'+c+'" missed value!! "'+c+'" instead2!!'),l(c,c,t),t=_,d=bt;break;case an:o.warning('attribute space is required"'+c+'"!!');case xn:d=bt,t=_;break;case En:d=rn,t=_;break;case ir:throw new Error("elements closed character '/' and '>' must be connected to")}}_++}}function ia(n,t,e){for(var r=n.tagName,i=null,S=n.length;S--;){var o=n[S],l=o.qName,c=o.value,k=l.indexOf(":");if(k>0)var m=o.prefix=l.slice(0,k),_=l.slice(k+1),d=m==="xmlns"&&_;else _=l,m=null,d=l==="xmlns"&&"";o.localName=_,d!==!1&&(i==null&&(i={},aa(e,e={})),e[d]=i[d]=c,o.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(d,c))}for(var S=n.length;S--;){o=n[S];var m=o.prefix;m&&(m==="xml"&&(o.uri="http://www.w3.org/XML/1998/namespace"),m!=="xmlns"&&(o.uri=e[m||""]))}var k=r.indexOf(":");k>0?(m=n.prefix=r.slice(0,k),_=n.localName=r.slice(k+1)):(m=null,_=n.localName=r);var M=n.uri=e[m||""];if(t.startElement(M,_,r,n),n.closed){if(t.endElement(M,_,r),i)for(m in i)t.endPrefixMapping(m)}else return n.currentNSMap=e,n.localNSMap=i,!0}function rl(n,t,e,r,i){if(/^(?:script|textarea)$/i.test(e)){var o=n.indexOf("</"+e+">",t),l=n.substring(t+1,o);if(/[&<]/.test(l))return/^script$/i.test(e)?(i.characters(l,0,l.length),o):(l=l.replace(/&#?\w+;/g,r),i.characters(l,0,l.length),o)}return t+1}function il(n,t,e,r){var i=r[e];return i==null&&(i=n.lastIndexOf("</"+e+">"),i<t&&(i=n.lastIndexOf("</"+e)),r[e]=i),i<t}function aa(n,t){for(var e in n)t[e]=n[e]}function al(n,t,e,r){var i=n.charAt(t+2);switch(i){case"-":if(n.charAt(t+3)==="-"){var o=n.indexOf("-->",t+4);return o>t?(e.comment(n,t+4,o-t-4),o+3):(r.error("Unclosed comment"),-1)}else return-1;default:if(n.substr(t+3,6)=="CDATA["){var o=n.indexOf("]]>",t+9);return e.startCDATA(),e.characters(n,t+9,o-t-9),e.endCDATA(),o+3}var l=ol(n,t),c=l.length;if(c>1&&/!doctype/i.test(l[0][0])){var m=l[1][0],_=!1,d=!1;c>3&&(/^public$/i.test(l[2][0])?(_=l[3][0],d=c>4&&l[4][0]):/^system$/i.test(l[2][0])&&(d=l[3][0]));var S=l[c-1];return e.startDTD(m,_,d),e.endDTD(),S.index+S[0].length}}return-1}function sl(n,t,e){var r=n.indexOf("?>",t);if(r){var i=n.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,e.processingInstruction(i[1],i[2]),r+2):-1}return-1}function sa(){this.attributeNames={}}sa.prototype={setTagName:function(n){if(!ta.test(n))throw new Error("invalid tagName:"+n);this.tagName=n},addValue:function(n,t,e){if(!ta.test(n))throw new Error("invalid attribute:"+n);this.attributeNames[n]=this.length,this[this.length++]={qName:n,value:t,offset:e}},length:0,getLocalName:function(n){return this[n].localName},getLocator:function(n){return this[n].locator},getQName:function(n){return this[n].qName},getURI:function(n){return this[n].uri},getValue:function(n){return this[n].value}};function ol(n,t){var e,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=t,i.exec(n);e=i.exec(n);)if(r.push(e),e[1])return r}Vr.XMLReader=na,Vr.ParseError=sn;var bn={};function Dn(n,t){for(var e in n)t[e]=n[e]}function We(n,t){var e=n.prototype;if(!(e instanceof t)){let r=function(){};r.prototype=t.prototype,r=new r,Dn(e,r),n.prototype=e=r}e.constructor!=n&&(typeof n!="function"&&console.error("unknow Class:"+n),e.constructor=n)}var ll="http://www.w3.org/1999/xhtml",Be={},et=Be.ELEMENT_NODE=1,on=Be.ATTRIBUTE_NODE=2,ar=Be.TEXT_NODE=3,oa=Be.CDATA_SECTION_NODE=4,la=Be.ENTITY_REFERENCE_NODE=5,ul=Be.ENTITY_NODE=6,ua=Be.PROCESSING_INSTRUCTION_NODE=7,ca=Be.COMMENT_NODE=8,ga=Be.DOCUMENT_NODE=9,ma=Be.DOCUMENT_TYPE_NODE=10,ht=Be.DOCUMENT_FRAGMENT_NODE=11,cl=Be.NOTATION_NODE=12,Re={},xe={};Re.INDEX_SIZE_ERR=(xe[1]="Index size error",1),Re.DOMSTRING_SIZE_ERR=(xe[2]="DOMString size error",2);var gl=Re.HIERARCHY_REQUEST_ERR=(xe[3]="Hierarchy request error",3);Re.WRONG_DOCUMENT_ERR=(xe[4]="Wrong document",4),Re.INVALID_CHARACTER_ERR=(xe[5]="Invalid character",5),Re.NO_DATA_ALLOWED_ERR=(xe[6]="No data allowed",6),Re.NO_MODIFICATION_ALLOWED_ERR=(xe[7]="No modification allowed",7);var ml=Re.NOT_FOUND_ERR=(xe[8]="Not found",8);Re.NOT_SUPPORTED_ERR=(xe[9]="Not supported",9);var _a=Re.INUSE_ATTRIBUTE_ERR=(xe[10]="Attribute in use",10);Re.INVALID_STATE_ERR=(xe[11]="Invalid state",11),Re.SYNTAX_ERR=(xe[12]="Syntax error",12),Re.INVALID_MODIFICATION_ERR=(xe[13]="Invalid modification",13),Re.NAMESPACE_ERR=(xe[14]="Invalid namespace",14),Re.INVALID_ACCESS_ERR=(xe[15]="Invalid access",15);function Bt(n,t){if(t instanceof Error)var e=t;else e=this,Error.call(this,xe[n]),this.message=xe[n],Error.captureStackTrace&&Error.captureStackTrace(this,Bt);return e.code=n,t&&(this.message=this.message+": "+t),e}Bt.prototype=Error.prototype,Dn(Re,Bt);function Dt(){}Dt.prototype={length:0,item:function(n){return this[n]||null},toString:function(n,t){for(var e=[],r=0;r<this.length;r++)cn(this[r],e,n,t);return e.join("")}};function ln(n,t){this._node=n,this._refresh=t,Ur(this)}function Ur(n){var t=n._node._inc||n._node.ownerDocument._inc;if(n._inc!=t){var e=n._refresh(n._node);ba(n,"length",e.length),Dn(e,n),n._inc=t}}ln.prototype.item=function(n){return Ur(this),this[n]},We(ln,Dt);function sr(){}function ha(n,t){for(var e=n.length;e--;)if(n[e]===t)return e}function pa(n,t,e,r){if(r?t[ha(t,r)]=e:t[t.length++]=e,n){e.ownerElement=n;var i=n.ownerDocument;i&&(r&&Ma(i,n,r),_l(i,n,e))}}function fa(n,t,e){var r=ha(t,e);if(r>=0){for(var i=t.length-1;r<i;)t[r]=t[++r];if(t.length=i,n){var o=n.ownerDocument;o&&(Ma(o,n,e),e.ownerElement=null)}}else throw Bt(ml,new Error(n.tagName+"@"+e))}sr.prototype={length:0,item:Dt.prototype.item,getNamedItem:function(n){for(var t=this.length;t--;){var e=this[t];if(e.nodeName==n)return e}},setNamedItem:function(n){var t=n.ownerElement;if(t&&t!=this._ownerElement)throw new Bt(_a);var e=this.getNamedItem(n.nodeName);return pa(this._ownerElement,this,n,e),e},setNamedItemNS:function(n){var t=n.ownerElement,e;if(t&&t!=this._ownerElement)throw new Bt(_a);return e=this.getNamedItemNS(n.namespaceURI,n.localName),pa(this._ownerElement,this,n,e),e},removeNamedItem:function(n){var t=this.getNamedItem(n);return fa(this._ownerElement,this,t),t},removeNamedItemNS:function(n,t){var e=this.getNamedItemNS(n,t);return fa(this._ownerElement,this,e),e},getNamedItemNS:function(n,t){for(var e=this.length;e--;){var r=this[e];if(r.localName==t&&r.namespaceURI==n)return r}return null}};function da(n){if(this._features={},n)for(var t in n)this._features=n[t]}da.prototype={hasFeature:function(n,t){var e=this._features[n.toLowerCase()];return!!(e&&(!t||t in e))},createDocument:function(n,t,e){var r=new An;if(r.implementation=this,r.childNodes=new Dt,r.doctype=e,e&&r.appendChild(e),t){var i=r.createElementNS(n,t);r.appendChild(i)}return r},createDocumentType:function(n,t,e){var r=new $r;return r.name=n,r.nodeName=n,r.publicId=t,r.systemId=e,r}};function Ge(){}Ge.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(n,t){return Sa(this,n,t)},replaceChild:function(n,t){this.insertBefore(n,t),t&&this.removeChild(t)},removeChild:function(n){return va(this,n)},appendChild:function(n){return this.insertBefore(n,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(n){return Kr(this.ownerDocument||this,this,n)},normalize:function(){for(var n=this.firstChild;n;){var t=n.nextSibling;t&&t.nodeType==ar&&n.nodeType==ar?(this.removeChild(t),n.appendData(t.data)):(n.normalize(),n=t)}},isSupported:function(n,t){return this.ownerDocument.implementation.hasFeature(n,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(n){for(var t=this;t;){var e=t._nsMap;if(e){for(var r in e)if(e[r]==n)return r}t=t.nodeType==on?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(n){for(var t=this;t;){var e=t._nsMap;if(e&&n in e)return e[n];t=t.nodeType==on?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(n){var t=this.lookupPrefix(n);return t==null}};function ya(n){return n=="<"&&"&lt;"||n==">"&&"&gt;"||n=="&"&&"&amp;"||n=='"'&&"&quot;"||"&#"+n.charCodeAt()+";"}Dn(Be,Ge),Dn(Be,Ge.prototype);function Tn(n,t){if(t(n))return!0;if(n=n.firstChild)do if(Tn(n,t))return!0;while(n=n.nextSibling)}function An(){}function _l(n,t,e){n&&n._inc++;var r=e.namespaceURI;r=="http://www.w3.org/2000/xmlns/"&&(t._nsMap[e.prefix?e.localName:""]=e.value)}function Ma(n,t,e,r){n&&n._inc++;var i=e.namespaceURI;i=="http://www.w3.org/2000/xmlns/"&&delete t._nsMap[e.prefix?e.localName:""]}function Hr(n,t,e){if(n&&n._inc){n._inc++;var r=t.childNodes;if(e)r[r.length++]=e;else{for(var i=t.firstChild,o=0;i;)r[o++]=i,i=i.nextSibling;r.length=o}}}function va(n,t){var e=t.previousSibling,r=t.nextSibling;return e?e.nextSibling=r:n.firstChild=r,r?r.previousSibling=e:n.lastChild=e,Hr(n.ownerDocument,n),t}function Sa(n,t,e){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===ht){var i=t.firstChild;if(i==null)return t;var o=t.lastChild}else i=o=t;var l=e?e.previousSibling:n.lastChild;i.previousSibling=l,o.nextSibling=e,l?l.nextSibling=i:n.firstChild=i,e==null?n.lastChild=o:e.previousSibling=o;do i.parentNode=n;while(i!==o&&(i=i.nextSibling));return Hr(n.ownerDocument||n,n),t.nodeType==ht&&(t.firstChild=t.lastChild=null),t}function hl(n,t){var e=t.parentNode;if(e){var r=n.lastChild;e.removeChild(t);var r=n.lastChild}var r=n.lastChild;return t.parentNode=n,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:n.firstChild=t,n.lastChild=t,Hr(n.ownerDocument,n,t),t}An.prototype={nodeName:"#document",nodeType:ga,doctype:null,documentElement:null,_inc:1,insertBefore:function(n,t){if(n.nodeType==ht){for(var e=n.firstChild;e;){var r=e.nextSibling;this.insertBefore(e,t),e=r}return n}return this.documentElement==null&&n.nodeType==et&&(this.documentElement=n),Sa(this,n,t),n.ownerDocument=this,n},removeChild:function(n){return this.documentElement==n&&(this.documentElement=null),va(this,n)},importNode:function(n,t){return xa(this,n,t)},getElementById:function(n){var t=null;return Tn(this.documentElement,function(e){if(e.nodeType==et&&e.getAttribute("id")==n)return t=e,!0}),t},getElementsByClassName:function(n){var t=new RegExp("(^|\\s)"+n+"(\\s|$)");return new ln(this,function(e){var r=[];return Tn(e.documentElement,function(i){i!==e&&i.nodeType==et&&t.test(i.getAttribute("class"))&&r.push(i)}),r})},createElement:function(n){var t=new un;t.ownerDocument=this,t.nodeName=n,t.tagName=n,t.childNodes=new Dt;var e=t.attributes=new sr;return e._ownerElement=t,t},createDocumentFragment:function(){var n=new lr;return n.ownerDocument=this,n.childNodes=new Dt,n},createTextNode:function(n){var t=new Yr;return t.ownerDocument=this,t.appendData(n),t},createComment:function(n){var t=new Xr;return t.ownerDocument=this,t.appendData(n),t},createCDATASection:function(n){var t=new jr;return t.ownerDocument=this,t.appendData(n),t},createProcessingInstruction:function(n,t){var e=new Qr;return e.ownerDocument=this,e.tagName=e.target=n,e.nodeValue=e.data=t,e},createAttribute:function(n){var t=new or;return t.ownerDocument=this,t.name=n,t.nodeName=n,t.localName=n,t.specified=!0,t},createEntityReference:function(n){var t=new qr;return t.ownerDocument=this,t.nodeName=n,t},createElementNS:function(n,t){var e=new un,r=t.split(":"),i=e.attributes=new sr;return e.childNodes=new Dt,e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.namespaceURI=n,r.length==2?(e.prefix=r[0],e.localName=r[1]):e.localName=t,i._ownerElement=e,e},createAttributeNS:function(n,t){var e=new or,r=t.split(":");return e.ownerDocument=this,e.nodeName=t,e.name=t,e.namespaceURI=n,e.specified=!0,r.length==2?(e.prefix=r[0],e.localName=r[1]):e.localName=t,e}},We(An,Ge);function un(){this._nsMap={}}un.prototype={nodeType:et,hasAttribute:function(n){return this.getAttributeNode(n)!=null},getAttribute:function(n){var t=this.getAttributeNode(n);return t&&t.value||""},getAttributeNode:function(n){return this.attributes.getNamedItem(n)},setAttribute:function(n,t){var e=this.ownerDocument.createAttribute(n);e.value=e.nodeValue=""+t,this.setAttributeNode(e)},removeAttribute:function(n){var t=this.getAttributeNode(n);t&&this.removeAttributeNode(t)},appendChild:function(n){return n.nodeType===ht?this.insertBefore(n,null):hl(this,n)},setAttributeNode:function(n){return this.attributes.setNamedItem(n)},setAttributeNodeNS:function(n){return this.attributes.setNamedItemNS(n)},removeAttributeNode:function(n){return this.attributes.removeNamedItem(n.nodeName)},removeAttributeNS:function(n,t){var e=this.getAttributeNodeNS(n,t);e&&this.removeAttributeNode(e)},hasAttributeNS:function(n,t){return this.getAttributeNodeNS(n,t)!=null},getAttributeNS:function(n,t){var e=this.getAttributeNodeNS(n,t);return e&&e.value||""},setAttributeNS:function(n,t,e){var r=this.ownerDocument.createAttributeNS(n,t);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},getAttributeNodeNS:function(n,t){return this.attributes.getNamedItemNS(n,t)},getElementsByTagName:function(n){return new ln(this,function(t){var e=[];return Tn(t,function(r){r!==t&&r.nodeType==et&&(n==="*"||r.tagName==n)&&e.push(r)}),e})},getElementsByTagNameNS:function(n,t){return new ln(this,function(e){var r=[];return Tn(e,function(i){i!==e&&i.nodeType===et&&(n==="*"||i.namespaceURI===n)&&(t==="*"||i.localName==t)&&r.push(i)}),r})}},An.prototype.getElementsByTagName=un.prototype.getElementsByTagName,An.prototype.getElementsByTagNameNS=un.prototype.getElementsByTagNameNS,We(un,Ge);function or(){}or.prototype.nodeType=on,We(or,Ge);function Pn(){}Pn.prototype={data:"",substringData:function(n,t){return this.data.substring(n,n+t)},appendData:function(n){n=this.data+n,this.nodeValue=this.data=n,this.length=n.length},insertData:function(n,t){this.replaceData(n,0,t)},appendChild:function(n){throw new Error(xe[gl])},deleteData:function(n,t){this.replaceData(n,t,"")},replaceData:function(n,t,e){var r=this.data.substring(0,n),i=this.data.substring(n+t);e=r+e+i,this.nodeValue=this.data=e,this.length=e.length}},We(Pn,Ge);function Yr(){}Yr.prototype={nodeName:"#text",nodeType:ar,splitText:function(n){var t=this.data,e=t.substring(n);t=t.substring(0,n),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(e);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},We(Yr,Pn);function Xr(){}Xr.prototype={nodeName:"#comment",nodeType:ca},We(Xr,Pn);function jr(){}jr.prototype={nodeName:"#cdata-section",nodeType:oa},We(jr,Pn);function $r(){}$r.prototype.nodeType=ma,We($r,Ge);function ka(){}ka.prototype.nodeType=cl,We(ka,Ge);function wa(){}wa.prototype.nodeType=ul,We(wa,Ge);function qr(){}qr.prototype.nodeType=la,We(qr,Ge);function lr(){}lr.prototype.nodeName="#document-fragment",lr.prototype.nodeType=ht,We(lr,Ge);function Qr(){}Qr.prototype.nodeType=ua,We(Qr,Ge);function Ca(){}Ca.prototype.serializeToString=function(n,t,e){return Ia.call(n,t,e)},Ge.prototype.toString=Ia;function Ia(n,t){var e=[],r=this.nodeType==9&&this.documentElement||this,i=r.prefix,o=r.namespaceURI;if(o&&i==null){var i=r.lookupPrefix(o);if(i==null)var l=[{namespace:o,prefix:null}]}return cn(this,e,n,t,l),e.join("")}function Ea(n,t,e){var r=n.prefix||"",i=n.namespaceURI;if(!r&&!i||r==="xml"&&i==="http://www.w3.org/XML/1998/namespace"||i=="http://www.w3.org/2000/xmlns/")return!1;for(var o=e.length;o--;){var l=e[o];if(l.prefix==r)return l.namespace!=i}return!0}function cn(n,t,e,r,i){if(r)if(n=r(n),n){if(typeof n=="string"){t.push(n);return}}else return;switch(n.nodeType){case et:i||(i=[]),i.length;var o=n.attributes,l=o.length,M=n.firstChild,c=n.tagName;e=ll===n.namespaceURI||e,t.push("<",c);for(var m=0;m<l;m++){var _=o.item(m);_.prefix=="xmlns"?i.push({prefix:_.localName,namespace:_.value}):_.nodeName=="xmlns"&&i.push({prefix:"",namespace:_.value})}for(var m=0;m<l;m++){var _=o.item(m);if(Ea(_,e,i)){var d=_.prefix||"",S=_.namespaceURI,k=d?" xmlns:"+d:" xmlns";t.push(k,'="',S,'"'),i.push({prefix:d,namespace:S})}cn(_,t,e,r,i)}if(Ea(n,e,i)){var d=n.prefix||"",S=n.namespaceURI;if(S){var k=d?" xmlns:"+d:" xmlns";t.push(k,'="',S,'"'),i.push({prefix:d,namespace:S})}}if(M||e&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(t.push(">"),e&&/^script$/i.test(c))for(;M;)M.data?t.push(M.data):cn(M,t,e,r,i),M=M.nextSibling;else for(;M;)cn(M,t,e,r,i),M=M.nextSibling;t.push("</",c,">")}else t.push("/>");return;case ga:case ht:for(var M=n.firstChild;M;)cn(M,t,e,r,i),M=M.nextSibling;return;case on:return t.push(" ",n.name,'="',n.value.replace(/[<&"]/g,ya),'"');case ar:return t.push(n.data.replace(/[<&]/g,ya).replace(/]]>/g,"]]&gt;"));case oa:return t.push("<![CDATA[",n.data,"]]>");case ca:return t.push("<!--",n.data,"-->");case ma:var E=n.publicId,I=n.systemId;if(t.push("<!DOCTYPE ",n.name),E)t.push(" PUBLIC ",E),I&&I!="."&&t.push(" ",I),t.push(">");else if(I&&I!=".")t.push(" SYSTEM ",I,">");else{var x=n.internalSubset;x&&t.push(" [",x,"]"),t.push(">")}return;case ua:return t.push("<?",n.target," ",n.data,"?>");case la:return t.push("&",n.nodeName,";");default:t.push("??",n.nodeName)}}function xa(n,t,e){var r;switch(t.nodeType){case et:r=t.cloneNode(!1),r.ownerDocument=n;case ht:break;case on:e=!0;break}if(r||(r=t.cloneNode(!1)),r.ownerDocument=n,r.parentNode=null,e)for(var i=t.firstChild;i;)r.appendChild(xa(n,i,e)),i=i.nextSibling;return r}function Kr(n,t,e){var r=new t.constructor;for(var i in t){var o=t[i];typeof o!="object"&&o!=r[i]&&(r[i]=o)}switch(t.childNodes&&(r.childNodes=new Dt),r.ownerDocument=n,r.nodeType){case et:var l=t.attributes,c=r.attributes=new sr,m=l.length;c._ownerElement=r;for(var _=0;_<m;_++)r.setAttributeNode(Kr(n,l.item(_),!0));break;case on:e=!0}if(e)for(var d=t.firstChild;d;)r.appendChild(Kr(n,d,e)),d=d.nextSibling;return r}function ba(n,t,e){n[t]=e}try{if(Object.defineProperty){let n=function(t){switch(t.nodeType){case et:case ht:var e=[];for(t=t.firstChild;t;)t.nodeType!==7&&t.nodeType!==8&&e.push(n(t)),t=t.nextSibling;return e.join("");default:return t.nodeValue}};Object.defineProperty(ln.prototype,"length",{get:function(){return Ur(this),this.$$length}}),Object.defineProperty(Ge.prototype,"textContent",{get:function(){return n(this)},set:function(t){switch(this.nodeType){case et:case ht:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),ba=function(t,e,r){t["$$"+e]=r}}}catch{}bn.Node=Ge,bn.DOMException=Bt,bn.DOMImplementation=da,bn.XMLSerializer=Ca;function Da(n){this.options=n||{locator:{}}}Da.prototype.parseFromString=function(n,t){var e=this.options,r=new dl,i=e.domBuilder||new ur,o=e.errorHandler,l=e.locator,c=e.xmlns||{},m=/\/x?html?$/.test(t),_=m?fl.entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return l&&i.setDocumentLocator(l),r.errorHandler=pl(o,i,l),r.domBuilder=e.domBuilder||i,m&&(c[""]="http://www.w3.org/1999/xhtml"),c.xml=c.xml||"http://www.w3.org/XML/1998/namespace",n&&typeof n=="string"?r.parse(n,c,_):r.errorHandler.error("invalid doc source"),i.doc};function pl(n,t,e){if(!n){if(t instanceof ur)return t;n=t}var r={},i=n instanceof Function;e=e||{};function o(l){var c=n[l];!c&&i&&(c=n.length==2?function(m){n(l,m)}:n),r[l]=c&&function(m){c("[xmldom "+l+"]	"+m+Jr(e))}||function(){}}return o("warning"),o("error"),o("fatalError"),r}function ur(){this.cdata=!1}function gn(n,t){t.lineNumber=n.lineNumber,t.columnNumber=n.columnNumber}ur.prototype={startDocument:function(){this.doc=new Ml().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(n,t,e,r){var i=this.doc,o=i.createElementNS(n,e||t),l=r.length;cr(this,o),this.currentElement=o,this.locator&&gn(this.locator,o);for(var c=0;c<l;c++){var n=r.getURI(c),m=r.getValue(c),e=r.getQName(c),_=i.createAttributeNS(n,e);this.locator&&gn(r.getLocator(c),_),_.value=_.nodeValue=m,o.setAttributeNode(_)}},endElement:function(n,t,e){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(n,t){},endPrefixMapping:function(n){},processingInstruction:function(n,t){var e=this.doc.createProcessingInstruction(n,t);this.locator&&gn(this.locator,e),cr(this,e)},ignorableWhitespace:function(n,t,e){},characters:function(n,t,e){if(n=Ta.apply(this,arguments),n){if(this.cdata)var r=this.doc.createCDATASection(n);else var r=this.doc.createTextNode(n);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(n)&&this.doc.appendChild(r),this.locator&&gn(this.locator,r)}},skippedEntity:function(n){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(n){(this.locator=n)&&(n.lineNumber=0)},comment:function(n,t,e){n=Ta.apply(this,arguments);var r=this.doc.createComment(n);this.locator&&gn(this.locator,r),cr(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(n,t,e){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(n,t,e);this.locator&&gn(this.locator,i),cr(this,i)}},warning:function(n){console.warn("[xmldom warning]	"+n,Jr(this.locator))},error:function(n){console.error("[xmldom error]	"+n,Jr(this.locator))},fatalError:function(n){throw new yl(n,this.locator)}};function Jr(n){if(n)return`
@`+(n.systemId||"")+"#[line:"+n.lineNumber+",col:"+n.columnNumber+"]"}function Ta(n,t,e){return typeof n=="string"?n.substr(t,e):n.length>=t+e||t?new java.lang.String(n,t,e)+"":n}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(n){ur.prototype[n]=function(){return null}});function cr(n,t){n.currentElement?n.currentElement.appendChild(t):n.doc.appendChild(t)}var fl=Zi,Aa=Vr,dl=Aa.XMLReader,yl=Aa.ParseError,Ml=bn.DOMImplementation,vl=Da;const Sl=async n=>{const t=Xs.offscreen({DOMParser:vl}),e=new OffscreenCanvas(1e3,1e3),r=e.getContext("2d");let i;try{i=tn.fromString(r,n,t),await i.render()}catch(o){console.log(o)}return e.convertToBlob()},kl=(n="image.",t)=>{const e=n.lastIndexOf(".");return`${e!==-1?n.slice(0,e):n}.${t}`};var wl="/assets/magick-B_KU7dU3.wasm";async function Cl(){return new Promise((n,t)=>{(async()=>{const r=await(await fetch(wl)).arrayBuffer();Is(r).then(()=>{n("ok")}).catch(()=>{t()})})()})}async function Pa(n,{convertTo:t,quality:e}){return new Promise(r=>{(async()=>(t==="ico"&&(n.settings.compression=fi.NoCompression,n.resize(256,256)),(t==="jpg"||t==="jpeg")&&(n.quality=e,n.colorAlpha(new $t("white"))),await n.write(Dr[t].format,async i=>{const o=new Blob([i],{type:`image/${Dr[t].mime}`});r(o)})))()})}async function Il(n,{convertTo:t,quality:e}){return new Promise((r,i)=>{(async()=>{let o;if(n.type==="image/svg+xml"){const _=await n.text();o=await(await Sl(_)).arrayBuffer()}else o=await n.arrayBuffer();const l=new Uint8Array(o),c=kl(n.name,Dr[t].ext);let m;try{n.type==="image/vnd.microsoft.icon"||n.type==="image/x-icon"||n.type==="image/ico"?m=await f.read(l,Ae.Ico,_=>Pa(_,{convertTo:t,quality:e})):m=await f.read(l,_=>Pa(_,{convertTo:t,quality:e})),r({blob:m,filename:c})}catch(_){console.log(_),i(new Error(`Error convert with file: ${c}`))}})()})}self.addEventListener("message",async n=>{const{file:t,convertTo:e,quality:r,mapIndex:i}=n.data;await Cl();try{const o=await Il(t,{convertTo:e,quality:r});self.postMessage({...o,mapIndex:i})}catch(o){self.postMessage({blob:null,error:o}),console.error(o)}finally{self.close()}})})();
