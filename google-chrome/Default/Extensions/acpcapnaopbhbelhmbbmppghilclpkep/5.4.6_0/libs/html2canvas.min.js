!function(e,t,a){function n(t){l.logging&&e.console&&e.console.log&&e.console.log(t)}function i(e,t){var a=[];return{storage:a,width:e,height:t,fillRect:function(){a.push({type:"function",name:"fillRect",arguments})},drawImage:function(){a.push({type:"function",name:"drawImage",arguments})},fillText:function(){a.push({type:"function",name:"fillText",arguments})},setVariable:function(e,t){a.push({type:"variable",name:e,arguments:t})}}}var r,o,l={};l.Util={},l.Util.backgroundImage=function(e){return/data:image\/.*;base64,/i.test(e)||/^(-webkit|-moz|linear-gradient|-o-)/.test(e)||('url("'===e.toLowerCase().substr(0,5)?e=(e=e.substr(5)).substr(0,e.length-2):e=(e=e.substr(4)).substr(0,e.length-1)),e},l.Util.Bounds=function(e){var t={};if(e.getBoundingClientRect)return e=e.getBoundingClientRect(),t.top=e.top,t.bottom=e.bottom||e.top+e.height,t.left=e.left,t.width=e.width||e.right-e.left,t.height=e.height||e.bottom-e.top,t},l.Util.getCSS=function(n,i){function o(e,t){var a,i=n.runtimeStyle&&n.runtimeStyle[e],r=n.style;return!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(t)&&/^-?\d/.test(t)&&(a=r.left,i&&(n.runtimeStyle.left=n.currentStyle.left),r.left="fontSize"===e?"1em":t||0,t=r.pixelLeft+"px",r.left=a,i&&(n.runtimeStyle.left=i)),/^(thin|medium|thick)$/i.test(t)?t:Math.round(parseFloat(t))+"px"}var l;if(e.getComputedStyle)void 0!==n&&(r=t.defaultView.getComputedStyle(n,null)),l=r[i],"backgroundPosition"===i&&((l=(l.split(",")[0]||"0 0").split(" "))[0]=-1===l[0].indexOf("%")?o(i+"X",l[0]):l[0],l[1]=l[1]===a?l[0]:l[1],l[1]=-1===l[1].indexOf("%")?o(i+"Y",l[1]):l[1]);else if(n.currentStyle)if("backgroundPosition"===i)l=[o(i+"X",n.currentStyle[i+"X"]),o(i+"Y",n.currentStyle[i+"Y"])];else if(l=o(i,n.currentStyle[i]),/^(border)/i.test(i)&&/^(medium|thin|thick)$/i.test(l))switch(l){case"thin":l="1px";break;case"medium":l="0px";break;case"thick":l="5px"}return l},l.Util.BackgroundPosition=function(e,t,a){var n,i;return 1===(e=l.Util.getCSS(e,"backgroundPosition")).length&&(n=e,(e=[])[0]=n,e[1]=n),-1!==e[0].toString().indexOf("%")?(i=parseFloat(e[0])/100,n=t.width*i-a.width*i):n=parseInt(e[0],10),-1!==e[1].toString().indexOf("%")?(i=parseFloat(e[1])/100,t=t.height*i-a.height*i):t=parseInt(e[1],10),{top:t,left:n}},l.Util.Extend=function(e,t){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t},l.Util.Children=function(e){var t,i,r;try{t=e.nodeName&&"IFRAME"===e.nodeName.toUpperCase()?e.contentDocument||e.contentWindow.document:(i=e.childNodes,r=[],null!==i&&function(e,t){var n=e.length,i=0;if("number"==typeof t.length)for(var r=t.length;i<r;i++)e[n++]=t[i];else for(;t[i]!==a;)e[n++]=t[i++];e.length=n}(r,i),r)}catch(e){n("html2canvas.Util.Children failed with exception: "+e.message),t=[]}return t},function(){l.Generate={};var e=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)-]+)\)$/,/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z-]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z-]*)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z-]+)([\w\d\.\s,%\(\)]+)\)$/];l.Generate.parseGradient=function(t,a){var n,i,r,o,l,d,s=e.length;for(i=0;i<s&&!(r=t.match(e[i]));i+=1);if(r)switch(r[1]){case"-webkit-linear-gradient":case"-o-linear-gradient":if(n={type:"linear",x0:null,y0:null,x1:null,y1:null,colorStops:[]},s=r[2].match(/\w+/g))for(o=s.length,i=0;i<o;i+=1)switch(s[i]){case"top":n.y0=0,n.y1=a.height;break;case"right":n.x0=a.width,n.x1=0;break;case"bottom":n.y0=a.height,n.y1=0;break;case"left":n.x0=0,n.x1=a.width}if(null===n.x0&&null===n.x1&&(n.x0=n.x1=a.width/2),null===n.y0&&null===n.y1&&(n.y0=n.y1=a.height/2),s=r[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(o=s.length,l=1/Math.max(o-1,1),i=0;i<o;i+=1)(d=s[i].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/))[2]?(r=parseFloat(d[2]),r/="%"===d[3]?100:a.width):r=i*l,n.colorStops.push({color:d[1],stop:r});break;case"-webkit-gradient":if(n={type:"radial"===r[2]?"circle":r[2],x0:0,y0:0,x1:0,y1:0,colorStops:[]},(s=r[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/))&&(n.x0=s[1]*a.width/100,n.y0=s[2]*a.height/100,n.x1=s[3]*a.width/100,n.y1=s[4]*a.height/100),s=r[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g))for(o=s.length,i=0;i<o;i+=1)d=s[i].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/),r=parseFloat(d[2]),"from"===d[1]&&(r=0),"to"===d[1]&&(r=1),n.colorStops.push({color:d[3],stop:r});break;case"-moz-linear-gradient":if(n={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]},(s=r[2].match(/(\d{1,3})%?\s(\d{1,3})%?/))&&(n.x0=s[1]*a.width/100,n.y0=s[2]*a.height/100,n.x1=a.width-n.x0,n.y1=a.height-n.y0),s=r[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g))for(o=s.length,l=1/Math.max(o-1,1),i=0;i<o;i+=1)(d=s[i].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/))[2]?(r=parseFloat(d[2]),d[3]&&(r/=100)):r=i*l,n.colorStops.push({color:d[1],stop:r});break;case"-webkit-radial-gradient":case"-moz-radial-gradient":case"-o-radial-gradient":if(n={type:"circle",x0:0,y0:0,x1:a.width,y1:a.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]},(s=r[2].match(/(\d{1,3})%?\s(\d{1,3})%?/))&&(n.cx=s[1]*a.width/100,n.cy=s[2]*a.height/100),s=r[3].match(/\w+/),d=r[4].match(/[a-z-]*/),s&&d)switch(d[0]){case"farthest-corner":case"cover":case"":i=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.cy,2)),s=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.y1-n.cy,2)),o=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.y1-n.cy,2)),d=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.cy,2)),n.rx=n.ry=Math.max(i,s,o,d);break;case"closest-corner":i=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.cy,2)),s=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.y1-n.cy,2)),o=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.y1-n.cy,2)),d=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.cy,2)),n.rx=n.ry=Math.min(i,s,o,d);break;case"farthest-side":"circle"===s[0]?n.rx=n.ry=Math.max(n.cx,n.cy,n.x1-n.cx,n.y1-n.cy):(n.type=s[0],n.rx=Math.max(n.cx,n.x1-n.cx),n.ry=Math.max(n.cy,n.y1-n.cy));break;case"closest-side":case"contain":"circle"===s[0]?n.rx=n.ry=Math.min(n.cx,n.cy,n.x1-n.cx,n.y1-n.cy):(n.type=s[0],n.rx=Math.min(n.cx,n.x1-n.cx),n.ry=Math.min(n.cy,n.y1-n.cy))}if(s=r[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(o=s.length,l=1/Math.max(o-1,1),i=0;i<o;i+=1)(d=s[i].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/))[2]?(r=parseFloat(d[2]),r/="%"===d[3]?100:a.width):r=i*l,n.colorStops.push({color:d[1],stop:r})}return n},l.Generate.Gradient=function(e,a){var i,r,o,d,s,c=t.createElement("canvas"),h=c.getContext("2d");if(c.width=a.width,c.height=a.height,i=l.Generate.parseGradient(e,a),s=new Image,i)if("linear"===i.type){for(r=h.createLinearGradient(i.x0,i.y0,i.x1,i.y1),o=0,d=i.colorStops.length;o<d;o+=1)try{r.addColorStop(i.colorStops[o].stop,i.colorStops[o].color)}catch(t){n(["failed to add color stop: ",t,"; tried to add: ",i.colorStops[o],"; stop: ",o,"; in: ",e])}h.fillStyle=r,h.fillRect(0,0,a.width,a.height),s.src=c.toDataURL()}else if("circle"===i.type){for(r=h.createRadialGradient(i.cx,i.cy,0,i.cx,i.cy,i.rx),o=0,d=i.colorStops.length;o<d;o+=1)try{r.addColorStop(i.colorStops[o].stop,i.colorStops[o].color)}catch(t){n(["failed to add color stop: ",t,"; tried to add: ",i.colorStops[o],"; stop: ",o,"; in: ",e])}h.fillStyle=r,h.fillRect(0,0,a.width,a.height),s.src=c.toDataURL()}else if("ellipse"===i.type){var g,p=t.createElement("canvas"),m=p.getContext("2d"),u=2*(r=Math.max(i.rx,i.ry));for(p.width=p.height=u,r=m.createRadialGradient(i.rx,i.ry,0,i.rx,i.ry,r),o=0,d=i.colorStops.length;o<d;o+=1)try{r.addColorStop(i.colorStops[o].stop,i.colorStops[o].color)}catch(t){n(["failed to add color stop: ",t,"; tried to add: ",i.colorStops[o],"; stop: ",o,"; in: ",e])}m.fillStyle=r,m.fillRect(0,0,u,u),h.fillStyle=i.colorStops[o-1].color,h.fillRect(0,0,c.width,c.height),(g=new Image).onload=function(){h.drawImage(g,i.cx-i.rx,i.cy-i.ry,2*i.rx,2*i.ry),s.src=c.toDataURL()},g.src=p.toDataURL()}return s},l.Generate.ListAlpha=function(e){var t,a="";do{t=e%26,a=String.fromCharCode(t+64)+a,e/=26}while(26*e>26);return a},l.Generate.ListRoman=function(e){var t,a=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],n=[1e3,900,500,400,100,90,50,40,10,9,5,4,1],i="",r=a.length;if(e<=0||e>=4e3)return e;for(t=0;t<r;t+=1)for(;e>=n[t];)e-=n[t],i+=a[t];return i}}(),l.Parse=function(r,o){function d(){return{width:Math.max(Math.max(E.body.scrollWidth,E.documentElement.scrollWidth),Math.max(E.body.offsetWidth,E.documentElement.offsetWidth),Math.max(E.body.clientWidth,E.documentElement.clientWidth)),height:Math.max(Math.max(E.body.scrollHeight,E.documentElement.scrollHeight),Math.max(E.body.offsetHeight,E.documentElement.offsetHeight),Math.max(E.body.clientHeight,E.documentElement.clientHeight))}}function s(e,t){var a=parseInt(L(e,t),10);return isNaN(a)?0:a}function c(e,t,a,n,i,r){"transparent"!==r&&(e.setVariable("fillStyle",r),e.fillRect(t,a,n,i),1)}function h(e){return e.replace(/^\s*/g,"").replace(/\s*$/g,"")}function g(e,t,n){n=n.ctx;var i,r,d,s=L(e,"fontFamily"),g=L(e,"fontSize"),p=L(e,"color"),m=L(e,"textDecoration"),u=L(e,"textAlign"),f=L(e,"letterSpacing"),w=L(e,"fontWeight"),y=L(e,"fontStyle"),x=L(e,"fontVariant"),b=0;if(t.nodeValue=function(e,t){switch(t){case"lowercase":return e.toLowerCase();case"capitalize":return e.replace(/(^|\s|:|-|\(|\))([a-z])/g,(function(e,t,a){if(e.length>0)return t+a.toUpperCase()}));case"uppercase":return e.toUpperCase();default:return e}}(t.nodeValue,L(e,"textTransform")),h(t.nodeValue).length>0){if("none"!==m)if(T[s+"-"+g]!==a)r=T[s+"-"+g];else{var v;r=E.createElement("div"),e=E.createElement("img"),d=E.createElement("span"),r.style.visibility="hidden",r.style.fontFamily=s,r.style.fontSize=g,r.style.margin=0,r.style.padding=0,A.appendChild(r),e.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=",e.width=1,e.height=1,e.style.margin=0,e.style.padding=0,e.style.verticalAlign="baseline",d.style.fontFamily=s,d.style.fontSize=g,d.style.margin=0,d.style.padding=0,d.appendChild(E.createTextNode("Hidden Text")),r.appendChild(d),r.appendChild(e),v=e.offsetTop-d.offsetTop+1,r.removeChild(d),r.appendChild(E.createTextNode("Hidden Text")),r.style.lineHeight="normal",e.style.verticalAlign="super",e={baseline:v,lineWidth:1,middle:e.offsetTop-r.offsetTop+1},T[s+"-"+g]=e,A.removeChild(r),r=e}switch(u=u.replace(["-webkit-auto"],["auto"]),u=!1===o.letterRendering&&/^(left|right|justify|auto)$/.test(u)&&/^(normal|none)$/.test(f)?t.nodeValue.split(/(\b| )/):t.nodeValue.split(""),parseInt(w,10)){case 401:w="bold";break;case 400:w="normal"}for(n.setVariable("fillStyle",p),n.setVariable("font",y+" "+x+" "+w+" "+g+" "+s),n.setVariable("textAlign","left"),g=t,w=0,s=u.length;w<s;w+=1){if(y=null,k.rangeBounds)"none"===m&&0===h(u[w]).length||(y=u[w],E.createRange?((i=E.createRange()).setStart(t,b),i.setEnd(t,b+y.length)):i=A.createTextRange(),i=i.getBoundingClientRect()?i.getBoundingClientRect():{});else{if("string"!=typeof g.nodeValue)continue;x=g.splitText(u[w].length),f=g.parentNode,e=E.createElement("wrapper"),d=g.cloneNode(!0),e.appendChild(g.cloneNode(!0)),f.replaceChild(e,g),i=l.Util.Bounds(e),y=g.nodeValue,g=x,f.replaceChild(d,e)}switch(null!==y&&(x=i.left,f=i.bottom,e=n,h(y).length>0&&(e.fillText(y,x,f),1)),m){case"underline":c(n,i.left,Math.round(i.top+r.baseline+r.lineWidth),i.width,1,p);break;case"overline":c(n,i.left,i.top,i.width,1,p);break;case"line-through":c(n,i.left,Math.ceil(i.top+r.middle+r.lineWidth),i.width,1,p)}b+=u[w].length}}}function p(e){return!(!(e=r[e])||!0!==e.succeeded)&&e.img}function m(e,t){var a=Math.max(e.left,t.left),n=Math.max(e.top,t.top);return{left:a,top:n,width:Math.min(e.left+e.width,t.left+t.width)-a,height:Math.min(e.top+e.height,t.top+t.height)-n}}function u(e,t,a){var i,r,o,l=E.createElement("valuewrap"),d=["lineHeight","textAlign","fontFamily","color","fontSize","paddingLeft","paddingTop","width","height","border","borderLeftWidth","borderTopWidth"];for(i=0,r=d.length;i<r;i+=1){o=d[i];try{l.style[o]=L(e,o)}catch(e){n("html2canvas: Parse: Exception caught in renderFormValue: "+e.message)}}l.style.borderColor="black",l.style.borderStyle="solid",l.style.display="block",l.style.position="absolute",(/^(submit|reset|button|text|password)$/.test(e.type)||"SELECT"===e.nodeName)&&(l.style.lineHeight=L(e,"height")),l.style.top=t.top+"px",l.style.left=t.left+"px",t=E.createTextNode("SELECT"===e.nodeName?e.options[e.selectedIndex].text:e.value),l.appendChild(t),A.appendChild(l),g(e,t,a),A.removeChild(l)}function f(e,t,a,n,i,r,o,l){var d=0,s=0;o-a>0&&(d=o-a),l-n>0&&(s=l-n),e.drawImage(t,d,s,i-d,r-s,a+d,n+s,i-d,r-s),1}function w(e,t,a,n,i,r,o){var l,d;o=Math.min(t.height,o);for(a.left-=Math.ceil(a.left/t.width)*t.width,d=n+a.left;d<r+n;)l=Math.floor(d+t.width)>r+n?r+n-d:t.width,f(e,t,d,i+a.top,l,o,n,i),d=Math.floor(d+t.width)}function y(e,t){var a,r,g,y,x=l.Util.Bounds(e),b=x.left,v=x.top,C=x.width,k=x.height,R=L(e,"backgroundColor"),T=L(e,"position"),A=L(e,"opacity");if(t?M={}:(M=d(),t={opacity:1}),y=L(e,"zIndex"),(r=t.zIndex)?"auto"!==y&&(y={zindex:y,children:[]},r.children.push(y),r=y):r=y={zindex:0,children:[]},g={ctx:i(M.width||C,M.height||k),zIndex:r,opacity:A*t.opacity,cssPosition:T},t.clip&&(g.clip=l.Util.Extend({},t.clip)),!0===o.useOverflow&&!0===/(hidden|scroll|auto)/.test(L(e,"overflow"))&&!1===/(BODY)/i.test(e.nodeName)&&(g.clip=g.clip?m(g.clip,x):x),T=r.children.push(g),(y=r.children[T-1].ctx).setVariable("globalAlpha",g.opacity),A=function(e,t,a,n){var i,r,o,l,d,h=a.left,g=a.top,p=a.width,u=(a=a.height,function(e){var t,a=[],n=["Top","Right","Bottom","Left"];for(t=0;t<4;t+=1)a.push({width:s(e,"border"+n[t]+"Width"),color:L(e,"border"+n[t]+"Color")});return a}(e));for(e=0;e<4;e+=1)if((i=u[e]).width>0){switch(r=h,o=g,l=p,d=a-u[2].width,e){case 0:d=u[0].width;break;case 1:r=h+p-u[1].width,l=u[1].width;break;case 2:o=o+a-u[2].width,d=u[2].width;break;case 3:l=u[3].width}l={left:r,top:o,width:l,height:d},n&&(l=m(l,n)),l.width>0&&l.height>0&&c(t,r,o,l.width,l.height,i.color)}return u}(e,y,x,!1),g.borders=A,I.test(e.nodeName)&&"transparent"!==o.iframeDefault&&(R="default"===o.iframeDefault?"#efefef":o.iframeDefault),C={left:b+A[3].width,top:v+A[0].width,width:C-(A[1].width+A[3].width),height:k-(A[0].width+A[2].width)},g.clip&&(C=m(C,g.clip)),C.height>0&&C.width>0){c(y,C.left,C.top,C.width,C.height,R);var U,z,N,B=C,D=L(e,"backgroundImage"),F=L(e,"backgroundRepeat").split(",")[0];if(!/data:image\/.*;base64,/i.test(D)&&!/^(-webkit|-moz|linear-gradient|-o-)/.test(D)&&(D=D.split(",")[0]),void 0!==D&&!1===/^(1|none)$/.test(D))if(R=p(D=l.Util.backgroundImage(D)),k=l.Util.BackgroundPosition(e,B,R),R)switch(F){case"repeat-x":w(y,R,k,B.left,B.top,B.width,B.height);break;case"repeat-y":for(D=B.left,F=B.top,U=B.height,z=Math.min(R.width,B.width),k.top-=Math.ceil(k.top/R.height)*R.height,N=F+k.top;N<U+F;)B=Math.floor(N+R.height)>U+F?U+F-N:R.height,f(y,R,D+k.left,N,z,B,D,F),N=Math.floor(N+R.height);break;case"no-repeat":D=B.width-k.left,N=B.height-k.top,F=k.left,U=k.top,z=k.left+B.left,k=k.top+B.top,F<0?(z+=F=Math.abs(F),D=Math.min(B.width,R.width-F)):(D=Math.min(D,R.width),F=0),U<0?(k+=U=Math.abs(U),N=Math.min(B.height,R.height-U)):(N=Math.min(N,R.height),U=0),N>0&&D>0&&(y.drawImage(R,F,U,D,N,z,k,D,N),1);break;default:for(k.top-=Math.ceil(k.top/R.height)*R.height,D=B.top+k.top;D<B.height+B.top;)F=Math.min(R.height,B.height+B.top-D),F=Math.floor(D+R.height)>F+D?F+D-D:R.height,D<B.top?(U=B.top-D,D=B.top):U=0,w(y,R,k,B.left,D,B.width,F),U>0&&(k.top+=U),D=Math.floor(D+R.height)-U}else n("html2canvas: Error loading background:"+D)}switch(e.nodeName){case"IMG":(a=p(g=e.getAttribute("src")))?(g=s(e,"paddingLeft"),C=s(e,"paddingTop"),R=s(e,"paddingRight"),k=s(e,"paddingBottom"),y.drawImage(a,0,0,a.width,a.height,b+g+A[3].width,v+C+A[0].width,x.width-(A[1].width+A[3].width+g+R),x.height-(A[0].width+A[2].width+C+k)),1):n("html2canvas: Error loading <img>:"+g);break;case"INPUT":/^(text|url|email|submit|button|reset)$/.test(e.type)&&e.value.length>0&&u(e,x,g);break;case"TEXTAREA":e.value.length>0&&u(e,x,g);break;case"SELECT":e.options.length>0&&u(e,x,g);break;case"LI":if(x=C,b=L(e,"listStylePosition"),A=L(e,"listStyleType"),v=L(e,"fontWeight"),/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(A)){if(y=-1,g=1,C=e.parentNode.childNodes,e.parentNode){for(;C[++y]!==e;)1===C[y].nodeType&&g++;y=g}else y=-1;switch(A){case"decimal":a=y;break;case"decimal-leading-zero":a=1===y.toString().length?"0"+y.toString():y.toString();break;case"upper-roman":a=l.Generate.ListRoman(y);break;case"lower-roman":a=l.Generate.ListRoman(y).toLowerCase();break;case"lower-alpha":a=l.Generate.ListAlpha(y).toLowerCase();break;case"upper-alpha":a=l.Generate.ListAlpha(y)}switch(g=a+=". ",(A=E.createElement("boundelement")).style.display="inline",y=e.style.listStyleType,e.style.listStyleType="none",A.appendChild(E.createTextNode(g)),e.insertBefore(A,e.firstChild),g=l.Util.Bounds(A),e.removeChild(A),e.style.listStyleType=y,v){case 401:v="bold";break;case 400:v="normal"}S.setVariable("fillStyle",L(e,"color")),S.setVariable("font",L(e,"fontVariant")+" "+v+" "+L(e,"fontStyle")+" "+L(e,"fontSize")+" "+L(e,"fontFamily")),"inside"===b&&(S.setVariable("textAlign","left"),x=x.left,b=g.bottom,v=S,h(a).length>0&&(v.fillText(a,x,b),1))}break;case"CANVAS":g=s(e,"paddingLeft"),C=s(e,"paddingTop"),R=s(e,"paddingRight"),k=s(e,"paddingBottom"),y.drawImage(e,0,0,e.width,e.height,b+g+A[3].width,v+C+A[0].width,x.width-(A[1].width+A[3].width+g+R),x.height-(A[0].width+A[2].width+C+k)),1}return r.children[T-1]}function x(e,t){if("none"!==L(e,"display")&&"hidden"!==L(e,"visibility")&&(t=y(e,t)||t,S=t.ctx,!I.test(e.nodeName))){var a,n,i,r=l.Util.Children(e);for(a=0,i=r.length;a<i;a+=1)1===(n=r[a]).nodeType?x(n,t):3===n.nodeType&&g(e,n,t)}}e.scroll(0,0);var b,v,C,S,M,k={rangeBounds:!1,svgRendering:o.svgRendering&&function(){var e=new Image,i=t.createElement("canvas"),r=i.getContext!==a&&i.getContext("2d");if(!1===r)return!1;i.width=i.height=10,e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'><foreignObject width='10' height='10'><div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>sup</div></foreignObject></svg>";try{r.drawImage(e,0,0),i.toDataURL()}catch(e){return!1}return n("html2canvas: Parse: SVG powered rendering available"),!0}()},R=o.elements===a?t.body:o.elements[0],T={},E=R.ownerDocument,I=RegExp("("+o.ignoreElements+")"),A=E.body;r=r||{};E.createRange&&(b=E.createRange()).getBoundingClientRect&&((v=E.createElement("boundtest")).style.height="123px",v.style.display="block",A.appendChild(v),b.selectNode(v),123===(b=(b=b.getBoundingClientRect()).height)&&(k.rangeBounds=!0),A.removeChild(v));var L=l.Util.getCSS;for(C=y(R,null),k.svgRendering&&function(e){var t=new Image,a=d(),n="";!function e(t){var a,i,r,o,d,s=(t=l.Util.Children(t)).length;for(d=0;d<s;d+=1)if(3===(o=t[d]).nodeType)n+=o.nodeValue.replace(/\</g,"&lt;").replace(/\>/g,"&gt;");else if(1===o.nodeType&&!/^(script|meta|title)$/.test(o.nodeName.toLowerCase())){if(n+="<"+o.nodeName.toLowerCase(),o.hasAttributes())for(r=(a=o.attributes).length,i=0;i<r;i+=1)n+=" "+a[i].name+'="'+a[i].value+'"';n+=">",e(o),n+="</"+o.nodeName.toLowerCase()+">"}}(e),t.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='"+a.width+"' height='"+a.height+"'>","<foreignObject width='"+a.width+"' height='"+a.height+"'>","<html xmlns='http://www.w3.org/1999/xhtml' style='margin:0;'>",n.replace(/\#/g,"%23"),"</html></foreignObject></svg>"].join(""),t.onload=function(){C.svgRender=t}}(t.documentElement),v=0,b=(R=R.children).length;v<b;v+=1)x(R[v],C);return C.backgroundColor=L(t.documentElement,"backgroundColor"),C},l.Preload=function(i){function r(){n("html2canvas: start: images: "+p.numLoaded+" / "+p.numTotal+" (failed: "+p.numFailed+")"),!p.firstRun&&p.numLoaded>=p.numTotal&&(n("Finished loading images: # "+p.numTotal+" (failed: "+p.numFailed+")"),"function"==typeof i.complete&&i.complete(p))}function o(t,n,o){var l,s,c=i.proxy;y.href=t,t=y.href,l="html2canvas_"+m++,o.callbackname=l,c+=c.indexOf("?")>-1?"&":"?",c+="url="+encodeURIComponent(t)+"&callback="+l,s=u.createElement("script"),e[l]=function(t){"error:"===t.substring(0,6)?(o.succeeded=!1,p.numLoaded++,p.numFailed++,r()):(d(n,o),n.src=t),e[l]=a;try{delete e[l]}catch(e){}s.parentNode.removeChild(s),s=null,delete o.script,delete o.callbackname},s.setAttribute("type","text/javascript"),s.setAttribute("src",c),o.script=s,e.document.body.appendChild(s)}function d(t,n){t.onload=function(){n.timer!==a&&e.clearTimeout(n.timer),p.numLoaded++,n.succeeded=!0,t.onerror=t.onload=null,r()},t.onerror=function(){if("anonymous"===t.crossOrigin&&(e.clearTimeout(n.timer),i.proxy)){var a=t.src;return t=new Image,n.img=t,t.src=a,void o(t.src,t,n)}p.numLoaded++,p.numFailed++,n.succeeded=!1,t.onerror=t.onload=null,r()}}var s,c,h,g,p={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},m=0,u=(h=i.elements[0]||t.body).ownerDocument,f=u.images,w=f.length,y=u.createElement("a"),x=(new Image).crossOrigin!==a;for(y.href=e.location.href,s=y.protocol+y.host,c={loadImage:function(t){var n,r;t&&p[t]===a&&(n=new Image,t.match(/data:image\/.*;base64,/i)?(n.src=t.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),r=p[t]={img:n},p.numTotal++,d(n,r)):(y.href=t,y.href=y.href,y.protocol+y.host===s||!0===i.allowTaint?(r=p[t]={img:n},p.numTotal++,d(n,r),n.src=t):x&&!i.allowTaint&&i.useCORS?(n.crossOrigin="anonymous",r=p[t]={img:n},p.numTotal++,d(n,r),n.src=t,n.customComplete=function(){this.img.complete?this.img.onerror():this.timer=e.setTimeout(this.img.customComplete,100)}.bind(r),n.customComplete()):i.proxy&&(r=p[t]={img:n},p.numTotal++,o(t,n,r))))},cleanupDOM:function(o){var l,d;if(!p.cleanupDone){for(d in n(o&&"string"==typeof o?"html2canvas: Cleanup because: "+o:"html2canvas: Cleanup after timeout: "+i.timeout+" ms."),p)if(p.hasOwnProperty(d)&&("object"==typeof(l=p[d])&&l.callbackname&&l.succeeded===a)){e[l.callbackname]=a;try{delete e[l.callbackname]}catch(e){}l.script&&l.script.parentNode&&(l.script.setAttribute("src","about:blank"),l.script.parentNode.removeChild(l.script)),p.numLoaded++,p.numFailed++,n("html2canvas: Cleaned up failed img: '"+d+"' Steps: "+p.numLoaded+" / "+p.numTotal)}e.stop!==a?e.stop():t.execCommand!==a&&t.execCommand("Stop",!1),t.close!==a&&t.close(),p.cleanupDone=!0,o&&"string"==typeof o||r()}},renderingDone:function(){g&&e.clearTimeout(g)}},i.timeout>0&&(g=e.setTimeout(c.cleanupDOM,i.timeout)),n("html2canvas: Preload starts: finding background-images"),p.firstRun=!0,function e(t){var i,o,d=l.Util.Children(t),s=!1;try{var h=d.length;for(i=0;i<h;i+=1)e(d[i])}catch(e){}try{s=t.nodeType}catch(e){s=!1,n("html2canvas: failed to access some element's nodeType - Exception: "+e.message)}if(1===s||s===a){try{o=l.Util.getCSS(t,"backgroundImage")}catch(e){n("html2canvas: failed to get background-image - Exception: "+e.message)}o&&"1"!==o&&"none"!==o&&(/^(-webkit|-o|-moz|-ms|linear)-/.test(o)?(t=l.Generate.Gradient(o,l.Util.Bounds(t)))!==a&&(p[o]={img:t,succeeded:!0},p.numTotal++,p.numLoaded++,r()):(o=l.Util.backgroundImage(o.match(/data:image\/.*;base64,/i)?o:o.split(",")[0]),c.loadImage(o)))}}(h),n("html2canvas: Preload: Finding images"),h=0;h<w;h+=1)c.loadImage(f[h].getAttribute("src"));return p.firstRun=!1,n("html2canvas: Preload: Done."),p.numTotal===p.numLoaded&&r(),c},l.Renderer=function(e,a){var n=[];if(function e(t){var a,i,r,o,l=[],d=[];for(a=0,r=(t=t.children).length;a<r;a+=1)(i=t[a]).children&&i.children.length>0?(l.push(i),d.push(i.zindex)):n.push(i);for(d.sort((function(e,t){return e-t})),t=0,a=d.length;t<a;t+=1)for(i=d[t],r=0,o=l.length;r<=o;r+=1)if(l[r].zindex===i){e((i=l.splice(r,1))[0]);break}}(e.zIndex),"function"!=typeof a._renderer._create)throw Error("Invalid renderer defined");return a._renderer._create(e,a,t,n,l)},(o=function(t,i){var r,o,d={logging:!1,elements:t,proxy:"http://html2canvas.appspot.com/",timeout:0,useCORS:!1,allowTaint:!1,svgRendering:!1,iframeDefault:"default",ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1,flashcanvas:a,width:null,height:null,taintTest:!0,renderer:"Canvas"};if("string"==typeof(d=l.Util.Extend(i,d)).renderer&&l.Renderer[d.renderer]!==a)d._renderer=l.Renderer[d.renderer](d);else{if("function"!=typeof d.renderer)throw"Unknown renderer";d._renderer=d.renderer(d)}return l.logging=d.logging,d.complete=function(e){"function"==typeof d.onpreloaded&&!1===d.onpreloaded(e)||(r=l.Parse(e,d),"function"==typeof d.onparsed&&!1===d.onparsed(r)||(o=l.Renderer(r,d),"function"!=typeof d.onrendered))||d.onrendered(o)},e.setTimeout((function(){l.Preload(d)}),0),{render:function(e,t){return l.Renderer(e,l.Util.Extend(t,d))},parse:function(e,t){return l.Parse(e,l.Util.Extend(t,d))},preload:function(e){return l.Preload(l.Util.Extend(e,d))},log:n}}).log=n,o.Renderer={Canvas:a},l.Renderer.Canvas=function(i){var r,o=(i=i||{}).canvas||t.createElement("canvas"),l=!1,d=!1,s=!1;if(o.getContext)n("html2canvas: Renderer: using canvas renderer"),s=!0;else if(i.flashcanvas!==a){l=!0,n("html2canvas: Renderer: canvas not available, using flashcanvas");var c=t.createElement("script");c.src=i.flashcanvas,c.onload=function(t,i){var r;if(t.onload!==a)return i;t.onreadystatechange!==a?(r=function(){"loaded"!==t.readyState&&"complete"!==t.readyState?e.setTimeout(r,250):i()},e.setTimeout(r,250)):n("html2canvas: Renderer: Can't track when flashcanvas is loaded")}(c,(function(){void 0!==e.FlashCanvas&&(n("html2canvas: Renderer: Flashcanvas initialized"),e.FlashCanvas.initElement(o),s=!0,!1!==d&&r._create.apply(null,d))})),t.body.appendChild(c)}return r={_create:function(e,i,r,c,h){if(!s)return d=arguments,o;var g,p,m,u,f,w,y,x,b=o.getContext("2d"),v=(f=(v=t.createElement("canvas")).getContext!==a)?v.getContext("2d"):{};if(w=[],o.width=o.style.width=l?Math.min(2880,i.width||e.ctx.width):i.width||e.ctx.width,o.height=o.style.height=l?Math.min(2880,i.height||e.ctx.height):i.height||e.ctx.height,g=b.fillStyle,b.fillStyle=e.backgroundColor,b.fillRect(0,0,o.width,o.height),b.fillStyle=g,i.svgRendering&&e.svgRender!==a)b.drawImage(e.svgRender,0,0);else for(p=0,m=c.length;p<m;p+=1){if((g=c.splice(0,1)[0]).canvasPosition=g.canvasPosition||{},b.textBaseline="bottom",g.clip&&(b.save(),b.beginPath(),b.rect(g.clip.left,g.clip.top,g.clip.width,g.clip.height),b.clip()),g.ctx.storage)for(u=0,y=g.ctx.storage.length;u<y;u+=1)switch(x=g.ctx.storage[u],x.type){case"variable":b[x.name]=x.arguments;break;case"function":if("fillRect"===x.name)(!l||x.arguments[0]+x.arguments[2]<2880&&x.arguments[1]+x.arguments[3]<2880)&&b.fillRect.apply(b,x.arguments);else if("fillText"===x.name)(!l||x.arguments[1]<2880&&x.arguments[2]<2880)&&b.fillText.apply(b,x.arguments);else if("drawImage"===x.name&&x.arguments[8]>0&&x.arguments[7]){if(f&&i.taintTest&&-1===w.indexOf(x.arguments[0].src)){v.drawImage(x.arguments[0],0,0);try{v.getImageData(0,0,1,1)}catch(e){v=(v=r.createElement("canvas")).getContext("2d");continue}w.push(x.arguments[0].src)}b.drawImage.apply(b,x.arguments)}}g.clip&&b.restore()}return n("html2canvas: Renderer: Canvas renderer done - returning canvas obj"),1===(m=i.elements.length)&&"object"==typeof i.elements[0]&&"BODY"!==i.elements[0].nodeName&&!1===l?(w=h.Util.Bounds(i.elements[0]),(f=r.createElement("canvas")).width=w.width,f.height=w.height,(b=f.getContext("2d")).drawImage(o,w.left,w.top,w.width,w.height,0,0,w.width,w.height),o=null,f):o}}},e.html2canvas=o}(window,document);