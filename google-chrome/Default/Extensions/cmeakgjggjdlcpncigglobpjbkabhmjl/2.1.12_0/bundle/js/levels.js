(()=>{"use strict";var t,e={2955:(t,e,n)=>{var r=n(1498),o=n.n(r),a=n(8795),i=n(4200),c=n(3716),s=n(8100),u=n(6516);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function f(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:e+""}var d=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return e=t,r=[{key:"parse",value:function(){var e=t.getSteamCurrency();e&&5===e&&o()("tbody tr").each((function(e,n){var r=o()(n),a=r.find(".market_listing_item_name_link")[0].href.replace(/https:\/\/steamcommunity.com\/market\/listings\//,"").split("/")[1],i=r.find(".market_dialog_input.market_multi_price")[0].defaultValue.match(/([\d+?., ]*[+\d])/g)[0].replace(",",".")||0;t.setCardPrice(a,+i)}))}},{key:"getSteamCurrency",value:function(){var t=document.cookie.match("(^|; )steamCurrencyId=([^;]*)");return t&&t[2]?+t[2]:null}},{key:"setCardPrice",value:function(t,e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_MY_STEAM_ID"},(function(n){n.success&&chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_USER_STEAM_PRICE",data:{app_id:753,steamid:n.steamId,hash_name:t,prices:[{price:e,count:1}]}})}))}}],(n=null)&&p(e.prototype,n),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}(),h=n(9392);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function _(t){return function(t){if(Array.isArray(t))return y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return y(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function g(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */g=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var a=e&&e.prototype instanceof m?e:m,i=Object.create(a.prototype),c=new A(r||[]);return o(i,"_invoke",{value:j(t,n,c)}),i}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",h="executing",_="completed",y={};function m(){}function b(){}function x(){}var w={};u(w,i,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(I([])));S&&S!==n&&r.call(S,i)&&(w=S);var E=x.prototype=m.prototype=Object.create(w);function O(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function n(o,a,i,c){var s=p(t[o],t,a);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==v(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(l).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function j(e,n,r){var o=f;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===_){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=L(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=_,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?_:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=_,r.method="throw",r.arg=u.arg)}}}function L(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=p(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(v(e)+" is not iterable")}return b.prototype=x,o(E,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=u(x,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,u(t,s,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},O(P.prototype),u(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new P(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},O(E),u(E,s,"Generator"),u(E,i,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function m(t,e,n,r,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function b(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){m(a,r,o,i,c,"next",t)}function c(t){m(a,r,o,i,c,"throw",t)}i(void 0)}))}}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w(r.key),r)}}function w(t){var e=function(t,e){if("object"!=v(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==v(e)?e:e+""}var k=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=null,n=[{key:"getAvailableCards",value:(a=b(g().mark((function t(e){var n,r;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.collectSteamUserCards(e);case 3:return n=t.sent,r=null!=n?this.buildAvailableCards(n):[],t.abrupt("return",r.length?r:null);case 8:return t.prev=8,t.t0=t.catch(0),t.t0,t.abrupt("return",null);case 12:case"end":return t.stop()}}),t,this,[[0,8]])}))),function(t){return a.apply(this,arguments)})},{key:"collectSteamUserCards",value:(o=b(g().mark((function t(e){var n,r,o,a,i,c,s,u,l,p,f=arguments;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=f.length>1&&void 0!==f[1]?f[1]:null,a={assets:[],descriptions:[]},t.next=4,this.getSteamPlayerCards(e,o);case 4:if(i=t.sent,c=null!=i.assets?i.assets:[],s=null!=i.descriptions?i.descriptions:[],(n=a.assets).push.apply(n,_(c)),(r=a.descriptions).push.apply(r,_(s)),!i.last_assetid){t.next=14;break}return t.next=12,this.collectSteamUserCards(e,i.last_assetid);case 12:(u=t.sent)&&((l=a.assets).push.apply(l,_(u.assets)),(p=a.descriptions).push.apply(p,_(u.descriptions)));case 14:return t.abrupt("return",0===a.assets.length||0===a.descriptions.length?null:a);case 15:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"buildAvailableCards",value:function(t){var e=[];return t.descriptions.forEach((function(n){var r=t.assets.filter((function(t){return t.classid===n.classid}));if(n.tags.filter((function(t){return"item_class_2"===t.internal_name})).length>0){var o={hash_name:n.market_hash_name,count:r.length};e.push(o)}})),e}},{key:"getSteamPlayerCards",value:(r=b(g().mark((function t(e){var n,r,o=arguments;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(n=o.length>1&&void 0!==o[1]?o[1]:null)?3e3:0,t.next=4,new Promise((function(t){setTimeout((function(){chrome.runtime.sendMessage({type:"getSteamPlayerAvailableCards",data:{appId:h.A.games.STEAM_COMMUNITY,steamUserId:e,startAssetId:n,count:2e3}},t)}),r)}));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)}))),function(t){return r.apply(this,arguments)})}],e&&x(t.prototype,e),n&&x(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r,o,a}();function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function E(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */E=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),c=new A(r||[]);return o(i,"_invoke",{value:j(t,n,c)}),i}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",h="executing",v="completed",_={};function y(){}function g(){}function m(){}var b={};u(b,i,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(I([])));w&&w!==n&&r.call(w,i)&&(b=w);var k=m.prototype=y.prototype=Object.create(b);function O(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function n(o,a,i,c){var s=p(t[o],t,a);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==S(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(l).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function j(e,n,r){var o=f;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=L(c,r);if(s){if(s===_)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?v:d,u.arg===_)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function L(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),_;var a=p(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,_;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,_):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,_)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(S(e)+" is not iterable")}return g.prototype=m,o(k,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:g,configurable:!0}),g.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},O(P.prototype),u(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new P(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},O(k),u(k,s,"Generator"),u(k,i,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,_):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),_}},e}function O(t,e,n,r,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function P(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){O(a,r,o,i,c,"next",t)}function c(t){O(a,r,o,i,c,"throw",t)}i(void 0)}))}}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F(r.key),r)}}function L(t,e,n){return e=T(e),function(t,e){if(e&&("object"==S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,C()?Reflect.construct(e,n||[],T(t).constructor):e.apply(t,n))}function C(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(C=function(){return!!t})()}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}function A(t,e){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},A(t,e)}function I(t,e,n){return(e=F(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F(t){var e=function(t,e){if("object"!=S(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==S(e)?e:e+""}var N,G=0,R=0,M=[],U=void 0,B=s.Ay.getActiveUserSteamID(),D={register:function(){}},H=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),L(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A(t,e)}(e,t),n=e,r=[{key:"onLoad",value:(h=P(E().mark((function t(){var n;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.G4.onLoad();case 2:if(window.location.pathname.match(/market\/multibuy/)&&d.parse(),!o()(".badge_details_set_favorite").length){t.next=10;break}return t.next=6,c.w.get({show_levelup:i.Ay.show_levelup,levelup_use_available_cards:i.Ay.levelup_use_available_cards});case 6:if(!(n=t.sent).show_levelup){t.next=10;break}return t.next=10,e.addPanel(n);case 10:case"end":return t.stop()}}),t)}))),function(){return h.apply(this,arguments)})}],a=[{key:"addPanel",value:(f=P(E().mark((function t(n){var r,a,i,c;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=parseInt(o()(".profile_xp_block .friendPlayerLevel").text(),10),a=parseInt(o()(".profile_xp_block .profile_xp_block_xp").text().replace(",","").match(/(\d+)/i)[1],10),(i=o()('\n      <div class="level_up_block">\n        <div class="level_up_levels">\n          <label for="next_level">\n            '.concat(i18next.t("controls:badges.your_level"),':\n            <input type="number" id="next_level" min="').concat(r+1,'">\n          </label>\n        </div>\n        <div class="level_up_results">\n          <div class="count">').concat(i18next.t("controls:badges.need_cardsets"),': <span class="value"></span></div>\n          <div class="error"></div>\n          <div class="level_up_settings">\n            <label for="levelup_use_available_cards">').concat(i18next.t("controls:badges.take_into_account_cards"),'</label>\n            <input type="checkbox" id="levelup_use_available_cards" ').concat(n.levelup_use_available_cards?"checked":"",'>\n            <label class="fake-checkbox" for="levelup_use_available_cards"></label>\n        </div>\n        </div>\n        <div class="level_up_controls">\n          <a class="btn btn_primary update" href="javascript:void(0)">').concat(i18next.t("controls:badges.buy_cards"),'</a>\n        </div>\n        <div class="beta"></div>\n      </div>\n    '))).insertAfter(".maincontent .profile_xp_block"),i.find("#next_level").change((function(t){var n=t.currentTarget.value,r=e.getXP(n),o=Math.ceil((r-a)/100);i.find(".level_up_results .count .value").text(o)})),setTimeout(P(E().mark((function t(){return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.mainFunctional(i,n,!1);case 2:case"end":return t.stop()}}),t)}))),500),i.find("#next_level").val(r+1).trigger("change"),i.find("#next_level").keypress((function(t){return t.preventDefault()})),c=null,i.find("#next_level").change((function(){clearTimeout(c),c=setTimeout(P(E().mark((function t(){return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.mainFunctional(i,n);case 2:case"end":return t.stop()}}),t)}))),700)})),e.changeGlobalSettings(i,n);case 12:case"end":return t.stop()}}),t)}))),function(t){return f.apply(this,arguments)})},{key:"changeGlobalSettings",value:function(t,e){t.find(".level_up_settings").children("label").click(P(E().mark((function t(){return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.levelup_use_available_cards=!e.levelup_use_available_cards,t.next=3,c.w.set({levelup_use_available_cards:e.levelup_use_available_cards});case 3:window.location.reload();case 4:case"end":return t.stop()}}),t)}))))}},{key:"mainFunctional",value:(p=P(E().mark((function t(n,r){var a,i,c,u,l,p,f,d,h,v,_,y=arguments;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=!(y.length>2&&void 0!==y[2])||y[2],i=o()(".level_up_controls .update"),t.prev=2,n.find(".level_up_results .error").text(""),o()(i).addClass("animated-background"),o()("#next_level").prop("disabled",!0),r.levelup_use_available_cards&&(o()(i).hasClass("btn_green")&&o()(i).removeClass("btn_green"),o()(i).text("".concat(i18next.t("controls:badges.scanning"),"..."))),c=s.Ay.getActiveUserSteamID(),c+="?".concat((new Date).getTime()),t.next=12,new Promise((function(t){return chrome.runtime.sendMessage({type:"GetSteamPlayerBadges",data:{steamid:c}},t)}));case 12:if(u=t.sent,a||(o()(i).append('<span class="text"></span>'),o()(document).ajaxSend((function(t,e,n){var r=n.url.split("/");o()(i).children(".text").text(r[6])}))),!u.success){t.next=50;break}if(l=u.data.badges,p=(void 0===l?[]:l).filter((function(t){return t.appid&&t.level})).map((function(t){return{id:t.appid,level:t.level,foil:0===t.border_color?0:1}})),f=n.find(".level_up_results .count .value").text(),U||a){t.next=24;break}if(!r.show_levelup||!r.levelup_use_available_cards){t.next=24;break}return t.next=22,k.getAvailableCards(B);case 22:d=t.sent,U=d||[];case 24:return t.next=26,new Promise((function(t){return chrome.runtime.sendMessage({type:"GetSteamBadges",data:{count:f,excludeCards:U,excludeApps:p}},t)}));case 26:if(h=t.sent,a||!r.levelup_use_available_cards){t.next=31;break}return t.next=30,e.getAllSteamBadges(p);case 30:N=t.sent;case 31:if(!h.success){t.next=47;break}if(v=h.data,_=v.reduce((function(t,e){return t.concat(e.items.map((function(t){return"".concat(encodeURIComponent(t.hash_name),"&qty[]=").concat(t.count)})))}),[]),_&&(o()(i).removeClass("animated-background"),o()("#next_level").prop("disabled",!1)),!r.levelup_use_available_cards){t.next=43;break}if(0!==_.length){t.next=43;break}return o()(i).attr("href","javascript:void(0)"),o()(i).removeAttr("target"),o()(i).text("".concat(i18next.t("controls:badges.craft_menu"))),o()(i).addClass("btn_green"),o()(i).off("click").click((function(){D.register(),o()(this).hasClass("btn_green")&&e.renderPopup(N)})),t.abrupt("return");case 43:o()(i).text("".concat(i18next.t("controls:badges.buy_cards"))),e.buildLinksForBuyCards(_),t.next=48;break;case 47:throw Error("NO DATA");case 48:t.next=51;break;case 50:throw Error("Error");case 51:t.next=59;break;case 53:t.prev=53,t.t0=t.catch(2),n.find(".level_up_results .error").text("Sorry! Something went wrong :-("),o()("#next_level").prop("disabled",!1),o()(i).removeClass("animated-background"),o()(i).text("".concat(i18next.t("controls:badges.buy_cards")));case 59:case"end":return t.stop()}}),t,null,[[2,53]])}))),function(t,e){return p.apply(this,arguments)})},{key:"getAllSteamBadges",value:(l=P(E().mark((function t(e){var n,r,a,i;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0==(n=o()(".badge_row_inner").find(".badge_craft_button").length.toString())){t.next=9;break}return t.next=4,new Promise((function(t){return chrome.runtime.sendMessage({type:"GetSteamBadges",data:{count:n,excludeCards:U,excludeApps:e}},t)}));case 4:if(!(r=t.sent).success){t.next=9;break}return a=r.data,i=a.filter((function(t){return 0===t.items.length})),t.abrupt("return",i);case 9:case"end":return t.stop()}}),t)}))),function(t){return l.apply(this,arguments)})},{key:"craftCards",value:function(t,n){if(o()(".badge_craft_button").length){o()(t).find("a.badge_row_overlay").each((function(t,e){var n=o()(e).attr("href");o()(e).replaceWith('<iframe scrolling="no" class="badge_row_overlay" style="width:100%;height:100%;overflow:hidden;z-index:5;"src="'.concat(n,'"></iframe>'))}));var r=null;r=setInterval((function(){e.findButtons(t,(function(t){clearInterval(r);var a=Number(e.getLocalStorage("SIH_CRAFT_REFRESH_TIMEOUTS"));o()(t).each((function(t,r){o()(r).each((function(i,c){setTimeout((function(){2===r.length?1===i&&(o()(c).click(),e.addPreloadForCheckbox(c,n)):(o()(c).click(),e.addPreloadForCheckbox(c,n))}),a*t)}))}))}))}),500);var a=null;a=setInterval((function(){e.checkCompleteCraft(t,n,(function(t){clearInterval(a),o()(t).each((function(t,r){setTimeout((function(){e.removePreloader(r,n)}),1e3*(t+1))}))}))}),500)}}},{key:"getSelectedApps",value:function(){var t=o()(".popup__apps").find("input"),e=[];return o()(t).each((function(t,n){if(o()(n).is(":checked")){var r=o()(n).attr("id");e.push(r)}})),e}},{key:"setSelectedBlocksForCraft",value:function(){var t=e.getSelectedApps(),n=[],r=o()(".badge_craft_button").parents(".badge_row.is_link");o()(r).each((function(e,r){var a=o()(r).find(".badge_row_overlay").attr("href");o()(t).each((function(t,e){a.includes(e)&&n.push(r)}))})),n.length>0&&(o()(".refresh__buttons").addClass("disabled"),o()(".popup__checkbox").parent().addClass("disabled")),e.craftCards(n,t)}},{key:"findButtons",value:function(t,e){var n=o()(t).find("iframe.badge_row_overlay"),r=[];o()(n).each((function(t,a){var i=a.contentWindow.document;o()(i).find("body").each((function(t,a){var i=o()(a).find(".badge_craft_button");i.length>0&&(r.push(i),r.length===n.length&&e(r))}))}))}},{key:"checkCompleteCraft",value:function(t,e,n){var r=o()(t).find("iframe.badge_row_overlay"),a=[];o()(r).each((function(t,r){var i=r.contentWindow.document;o()(i).find("body").each((function(t,i){o()(i).find(".completed_badge_animation_ctn.show").length>0&&(a.push(r),a.length===e.length&&n(a))}))}))}},{key:"renderPopup",value:function(t){var n=o()(".pagecontent");if(0===o()(n).find(".popup__fade").length){var r='\n      <div class="popup__fade">\n        <div class="popup">\n          <a class="popup__close" href="javascript:void(0)"></a>\n          <div class="popup__content">\n              <h2 class="popup__title">'.concat(i18next.t("controls:badges.popup_title1"),'</h2>\n              <div class="popup__row popup__subtitle">\n                  <span class="text">').concat(i18next.t("controls:badges.popup_subtitle"),'</span>\n                  <div class="popup__info tooltip">\n                    <span class="tooltip__text">').concat(i18next.t("controls:badges.craft_notification"),'</span>\n                  </div>\n             </div>\n\n              <div class="popup__row refresh__buttons">\n                  <div class="popup__button">\n                      <span class="text value">\n                          3000\n                      </span>\n                        <span class="text text_grey">\n                          ').concat(i18next.t("controls:badges.popup_milliseconds"),'\n                      </span>\n                  </div>\n                  <div class="popup__button">\n                      <span class="text value">\n                          5000\n                      </span>\n                        <span class="text text_grey">\n                            ').concat(i18next.t("controls:badges.popup_milliseconds"),'\n                      </span>\n                  </div>\n                   <div class="popup__button">\n                      <span class="text value">\n                          10000\n                      </span>\n                        <span class="text text_grey">\n                          ').concat(i18next.t("controls:badges.popup_milliseconds"),'\n                      </span>\n                  </div>\n                  <div class="popup__button">\n                      <span class="text value">\n                          15000\n                      </span>\n                        <span class="text text_grey">\n                          ').concat(i18next.t("controls:badges.popup_milliseconds"),'\n                      </span>\n                  </div>\n                   <div class="popup__button">\n                      <span class="text value">\n                          20000\n                      </span>\n                        <span class="text text_grey">\n                          ').concat(i18next.t("controls:badges.popup_milliseconds"),'\n                      </span>\n                  </div>\n              </div>\n              <div class="popup__row popup__row_games">\n                 <label for="games" class="popup__row">\n                    <input type="checkbox" class="popup__checkbox" id="games" checked>\n                    <label class="fake-checkbox" for="games"></label>\n                      <div class="popup__row">\n                        <span class="text"> ').concat(i18next.t("controls:badges.games"),'</span>\n                        <span class="text text_grey">(').concat(t.length,')</span>\n                      </div>\n                  </label>\n              </div>\n              <div class="popup__apps"></div>\n              <div class="popup__buttons">\n                  <a href="javascript:void(0)" class="popup__craft popup__craft-start"> ').concat(i18next.t("controls:badges.levelup"),"</a>\n              </div>\n          </div>\n        </div>\n      </div>\n    ");o()(n).append(r),o()(t).each((function(t,e){var r='\n          <div class="popup__row">\n             <label for="'.concat(e.appid,'" class="popup__row">\n                <input type="checkbox" class="popup__checkbox" id="').concat(e.appid,'" checked>\n                <label class="fake-checkbox" for="').concat(e.appid,'"></label>\n                <div class="popup__row">\n                    <span class="text game__name">').concat(e.group_type,'</span>\n                    <span class="text text_grey">(').concat(e.appid,")</span>\n                </div>\n\n              </label>\n          </div>");o()(n).find(".popup__apps").append(r)}))}e.listenersPopup()}},{key:"listenersPopup",value:function(){o()(".popup__fade").fadeIn(),o()(".popup__close").click((function(){return o()(this).parents(".popup__fade").fadeOut(),!1})),o()(".popup__craft-start").click((function(){e.setSelectedBlocksForCraft(),o()(".popup__close").click((function(){return o()(this).parents(".popup__fade").fadeOut(),window.location.reload(),!1}))}));var t=e.getLocalStorage("SIH_CRAFT_REFRESH_TIMEOUTS");o()(".popup").find(".popup__input").val(t),e.setActiveTimeRefresh(),e.changeTimeRefresh(),e.checkboxWatcher()}},{key:"completePopup",value:function(t){o()(".refresh__buttons").addClass("disabled"),o()(".popup__checkbox").parent().addClass("disabled"),o()(".popup__fade").addClass("complete"),o()(".popup").addClass("complete"),o()(".popup").find(".popup__title").text("Craft completed"),o()(".popup").find("#games").parent().find(".fake-checkbox").remove(),o()(".popup").find("#games").parent().find(".text_grey").text("(".concat(t.length,")")),o()(".popup").find(".popup__subtitle").remove(),o()(".popup").find(".refresh__buttons").remove(),o()(".popup").find(".popup__apps").remove(),o()(".popup__buttons").find(".popup__craft_progress").replaceWith('<a href="javascript:void(0)" class="popup__craft popup__craft_done">        '.concat(i18next.t("controls:badges.popup_done"),"</a>"));var e=o()(".popup__buttons").find(".popup__craft_done");o()(e).click((function(){window.location.reload()})),o()(".popup__fade.complete").click((function(t){0==o()(t.target).closest(".popup.complete").length&&(o()(this).fadeOut(),window.location.reload())})),o()(document).keydown((function(t){27===t.keyCode&&(t.stopPropagation(),o()(".popup__fade.complete").fadeOut(),window.location.reload())}))}},{key:"setActiveTimeRefresh",value:function(){var t=e.getLocalStorage("SIH_CRAFT_REFRESH_TIMEOUTS").toString(),n=o()(".popup").find(".popup__button");o()(n).each((function(e,n){o()(n).find(".value").text().trim()===t&&o()(n).addClass("active")}))}},{key:"changeTimeRefresh",value:function(){var t=o()(".popup").find(".refresh__buttons"),n=o()(t).find(".popup__button");o()(n).each((function(n,r){o()(r).click((function(){o()(t).find(".active").removeClass("active"),o()(this).addClass("active");var n=o()(this).find(".value").text().trim();e.setToLocalStorage("SIH_CRAFT_REFRESH_TIMEOUTS",n)}))}))}},{key:"checkboxWatcher",value:function(){var t=o()(".popup__apps").find(".popup__checkbox"),e=t.length;o()("#games").click((function(){var n=this;o()(t).each((function(r,a){o()(n).is(":checked")?(o()(a).prop("checked",!0),e=t.length,o()("#games").parent().find(".text_grey").text("(".concat(t.length,")"))):(o()(a).prop("checked",!1),e=0,o()("#games").parent().find(".text_grey").text("(".concat(e,")")))}))})),o()(t).each((function(n,r){o()(r).click((function(){o()(r).is(":checked")?(e<t.length&&(e++,o()("#games").parent().find(".text_grey").text("(".concat(e,"/").concat(t.length,")"))),e===t.length&&(o()("#games").prop("checked",!0),o()("#games").parent().find(".text_grey").text("(".concat(t.length,")")))):(e>0&&(e--,o()("#games").parent().find(".text_grey").text("(".concat(e,"/").concat(t.length,")"))),e!==t.length&&o()("#games").prop("checked",!1))}))}))}},{key:"addPreloadForCheckbox",value:function(t,e){var n=o()(t).attr("onclick");o()(e).each((function(e,r){if(n.includes(r)){var a=o()(".popup").find(".popup__checkbox");o()(a).each((function(e,n){if(o()(n).attr("id")===r){var a=o()(t).text();o()(n).parent().append('<span class="text text_green">'.concat(a,"</span>")),o()(n).parent().parent().find(".fake-checkbox").replaceWith('<div class="loader"></div>'),1==++G&&(o()(".popup__buttons").find(".popup__craft-start").replaceWith('<a href="javascript:void(0)" class="popup__craft popup__craft_progress"> '.concat(i18next.t("controls:badges.crafting_process"),"</a>")),o()(".popup__buttons").find(".popup__craft_progress").append('<a href="javascript:void(0)" class="popup__craft_progress-after"></a>'))}}))}}))}},{key:"removePreloader",value:function(t,n){var r=o()(t).attr("src");o()(n).each((function(t,a){if(r.includes(a)){var i=o()(".popup").find(".popup__checkbox");o()(i).each((function(t,r){if(o()(r).attr("id")===a){o()(r).parent().parent().find(".loader").replaceWith('<div class="popup__success"></div>');var i=o()(r).parent().parent().find(".game__name").text();M.push(i),R++,e.addProgress(n),R===n.length&&e.completePopup(M)}}))}}))}},{key:"addProgress",value:function(t){var e=(Number(o()(".popup__craft_progress").css("padding-left").replace(/px/g,"").trim())+Number(o()(".popup__craft_progress").css("padding-right").replace(/px/g,"").trim())+Number(o()(".popup__craft_progress").css("width").replace(/px/g,"").trim()))/t.length,n=o()(".popup__buttons").find(".popup__craft_progress-after").width();n+=e,o()(".popup__buttons").find(".popup__craft_progress-after").width(n)}},{key:"getLocalStorage",value:function(t){var e=localStorage.getItem(t)||3e3;return JSON.parse(e)}},{key:"setToLocalStorage",value:function(t,e){var n=JSON.stringify(e);localStorage.setItem(t,n)}}],r&&j(n.prototype,r),a&&j(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a,l,p,f,h}(a.A);I(H,"getXP",(function(t){for(var e=Math.ceil(parseInt(t,10)/10),n=100*e*(t-10*(e-1)),r=1;r<e;r+=1)n+=1e3*r;return n})),I(H,"buildLinksForBuyCards",(function(t){try{var e=o()(".level_up_controls .update");o()(e).off("click").click((function(){D.register();for(var e=function(){var e=t.slice(100*n,100*(n+1));setTimeout((function(){window.open("https://steamcommunity.com/market/multibuy?appid=753&contextid=6&items[]=".concat(e.join("&items[]=")),"_blank")}),3e3*n)},n=0;n<Math.ceil(t.length/100);n++)e()}))}catch(t){}}));new H}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var a=n[t]={id:t,loaded:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.m=e,t=[],r.O=(e,n,o,a)=>{if(!n){var i=1/0;for(l=0;l<t.length;l++){for(var[n,o,a]=t[l],c=!0,s=0;s<n.length;s++)(!1&a||i>=a)&&Object.keys(r.O).every((t=>r.O[t](n[s])))?n.splice(s--,1):(c=!1,a<i&&(i=a));if(c){t.splice(l--,1);var u=o();void 0!==u&&(e=u)}}return e}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[n,o,a]},r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),r.j=982,(()=>{var t={982:0};r.O.j=e=>0===t[e];var e=(e,n)=>{var o,a,[i,c,s]=n,u=0;if(i.some((e=>0!==t[e]))){for(o in c)r.o(c,o)&&(r.m[o]=c[o]);if(s)var l=s(r)}for(e&&e(n);u<i.length;u++)a=i[u],r.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return r.O(l)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var o=r.O(void 0,[76],(()=>r(2955)));o=r.O(o)})();