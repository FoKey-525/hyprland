var SIH;(()=>{"use strict";var r={d:(t,e)=>{for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},o:(r,t)=>Object.prototype.hasOwnProperty.call(r,t),r:r=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})}},t={};r.r(t),r.d(t,{gamePage:()=>e});var e={};function o(r){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},o(r)}function n(r,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,i(o.key),o)}}function a(r,t,e){return(t=i(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function i(r){var t=function(r,t){if("object"!=o(r)||!r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var n=e.call(r,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(r)}(r,"string");return"symbol"==o(t)?t:t+""}r.r(e),r.d(e,{load:()=>P});const s=new(function(){return r=function r(){var t=this;!function(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),a(this,"getPriceFromCurrency",(function(r,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,i=t.getCurrency(+e),s=t.getCurrency(+o),l=n?ExchangeSteamRates[i.strCode]:ExchangeRates._rates[i.strCode],c=n?ExchangeSteamRates[s.strCode]:ExchangeRates._rates[s.strCode];return"USD"===s.strCode&&r?"USD"!=i.strCode&&(r*=l)<.03&&2===a&&(r=.03):s.strCode!=i.strCode&&r&&(r=r/c*l)<.03&&2===a&&(r=.03),2!==a&&r>.03&&(a=2),{price:r||0,code:i.strCode,symbol:i.strSymbol,text:"".concat(i.bSymbolIsPrefix?"".concat(i.strSymbol).concat(i.strSymbolAndNumberSeparator):"").concat(r?r.toFixed(a):0).concat(i.bSymbolIsPrefix?"":"".concat(i.strSymbolAndNumberSeparator).concat(i.strSymbol)),template:"".concat(i.bSymbolIsPrefix?"".concat(i.strSymbol).concat(i.strSymbolAndNumberSeparator):"","$price").concat(i.bSymbolIsPrefix?"":"".concat(i.strSymbolAndNumberSeparator).concat(i.strSymbol)),symbolPosition:i.bSymbolIsPrefix?"before":"after"}})),a(this,"getCurrency",(function(r){var e=null;for(var o in r=r||"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1,t.g_rgCurrencyData)if(t.g_rgCurrencyData[o].eCurrencyCode===+r){e=t.g_rgCurrencyData[o];break}return e})),a(this,"getCurrencyCodeSteam",(function(){return"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1})),a(this,"g_rgCurrencyData",{USD:{strCode:"USD",eCurrencyCode:1,strSymbol:"$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},GBP:{strCode:"GBP",eCurrencyCode:2,strSymbol:"£",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},EUR:{strCode:"EUR",eCurrencyCode:3,strSymbol:"€",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},CHF:{strCode:"CHF",eCurrencyCode:4,strSymbol:"CHF",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},RUB:{strCode:"RUB",eCurrencyCode:5,strSymbol:"₽",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:"",strSymbolAndNumberSeparator:" "},BRL:{strCode:"BRL",eCurrencyCode:7,strSymbol:"R$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},JPY:{strCode:"JPY",eCurrencyCode:8,strSymbol:"¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},NOK:{strCode:"NOK",eCurrencyCode:9,strSymbol:"kr",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},IDR:{strCode:"IDR",eCurrencyCode:10,strSymbol:"Rp",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},MYR:{strCode:"MYR",eCurrencyCode:11,strSymbol:"RM",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},PHP:{strCode:"PHP",eCurrencyCode:12,strSymbol:"P",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},SGD:{strCode:"SGD",eCurrencyCode:13,strSymbol:"S$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},THB:{strCode:"THB",eCurrencyCode:14,strSymbol:"฿",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},VND:{strCode:"VND",eCurrencyCode:15,strSymbol:"₫",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""},KRW:{strCode:"KRW",eCurrencyCode:16,strSymbol:"₩",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},TRY:{strCode:"TRY",eCurrencyCode:17,strSymbol:"TL",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},UAH:{strCode:"UAH",eCurrencyCode:18,strSymbol:"₴",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},MXN:{strCode:"MXN",eCurrencyCode:19,strSymbol:"Mex$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CAD:{strCode:"CAD",eCurrencyCode:20,strSymbol:"CDN$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},AUD:{strCode:"AUD",eCurrencyCode:21,strSymbol:"A$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},NZD:{strCode:"NZD",eCurrencyCode:22,strSymbol:"NZ$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},PLN:{strCode:"PLN",eCurrencyCode:6,strSymbol:"zł",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},CNY:{strCode:"CNY",eCurrencyCode:23,strSymbol:"¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},INR:{strCode:"INR",eCurrencyCode:24,strSymbol:"₹",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CLP:{strCode:"CLP",eCurrencyCode:25,strSymbol:"CLP$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},PEN:{strCode:"PEN",eCurrencyCode:26,strSymbol:"S/.",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},COP:{strCode:"COP",eCurrencyCode:27,strSymbol:"COL$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},ZAR:{strCode:"ZAR",eCurrencyCode:28,strSymbol:"R",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},HKD:{strCode:"HKD",eCurrencyCode:29,strSymbol:"HK$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},TWD:{strCode:"TWD",eCurrencyCode:30,strSymbol:"NT$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},SAR:{strCode:"SAR",eCurrencyCode:31,strSymbol:"SR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},AED:{strCode:"AED",eCurrencyCode:32,strSymbol:"AED",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},ARS:{strCode:"ARS",eCurrencyCode:34,strSymbol:"ARS$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},ILS:{strCode:"ILS",eCurrencyCode:35,strSymbol:"₪",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},BYN:{strCode:"BYN",eCurrencyCode:36,strSymbol:"Br",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},KZT:{strCode:"KZT",eCurrencyCode:37,strSymbol:"₸",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},KWD:{strCode:"KWD",eCurrencyCode:38,strSymbol:"KD",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},QAR:{strCode:"QAR",eCurrencyCode:39,strSymbol:"QR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CRC:{strCode:"CRC",eCurrencyCode:40,strSymbol:"₡",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""},UYU:{strCode:"UYU",eCurrencyCode:41,strSymbol:"$U",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""},RMB:{strCode:"RMB",eCurrencyCode:9e3,strSymbol:"刀币",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:"",strSymbolAndNumberSeparator:" "},NXP:{strCode:"NXP",eCurrencyCode:9001,strSymbol:"원",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""}})},(t=[{key:"getCurrencyIdByCode",value:function(r){var t;return(null===(t=g_rgCurrencyData[r])||void 0===t?void 0:t.eCurrencyCode)||null}}])&&n(r.prototype,t),e&&n(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,t,e}());function l(r){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},l(r)}function c(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){var e=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var o,n,a,i,s=[],l=!0,c=!1;try{if(a=(e=e.call(r)).next,0===t){if(Object(e)!==e)return;l=!1}else for(;!(l=(o=a.call(e)).done)&&(s.push(o.value),s.length!==t);l=!0);}catch(r){c=!0,n=r}finally{try{if(!l&&null!=e.return&&(i=e.return(),Object(i)!==i))return}finally{if(c)throw n}}return s}}(r,t)||u(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(r,t){if(r){if("string"==typeof r)return y(r,t);var e={}.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?y(r,t):void 0}}function y(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,o=Array(t);e<t;e++)o[e]=r[e];return o}function f(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */f=function(){return t};var r,t={},e=Object.prototype,o=e.hasOwnProperty,n=Object.defineProperty||function(r,t,e){r[t]=e.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(r,t,e){return Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}),r[t]}try{u({},"")}catch(r){u=function(r,t,e){return r[t]=e}}function y(r,t,e,o){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),s=new D(o||[]);return n(i,"_invoke",{value:A(r,e,s)}),i}function m(r,t,e){try{return{type:"normal",arg:r.call(t,e)}}catch(r){return{type:"throw",arg:r}}}t.wrap=y;var b="suspendedStart",d="suspendedYield",h="executing",p="completed",S={};function v(){}function g(){}function C(){}var w={};u(w,i,(function(){return this}));var P=Object.getPrototypeOf,x=P&&P(P(L([])));x&&x!==e&&o.call(x,i)&&(w=x);var O=C.prototype=v.prototype=Object.create(w);function N(r){["next","throw","return"].forEach((function(t){u(r,t,(function(r){return this._invoke(t,r)}))}))}function T(r,t){function e(n,a,i,s){var c=m(r[n],r,a);if("throw"!==c.type){var u=c.arg,y=u.value;return y&&"object"==l(y)&&o.call(y,"__await")?t.resolve(y.__await).then((function(r){e("next",r,i,s)}),(function(r){e("throw",r,i,s)})):t.resolve(y).then((function(r){u.value=r,i(u)}),(function(r){return e("throw",r,i,s)}))}s(c.arg)}var a;n(this,"_invoke",{value:function(r,o){function n(){return new t((function(t,n){e(r,o,t,n)}))}return a=a?a.then(n,n):n()}})}function A(t,e,o){var n=b;return function(a,i){if(n===h)throw Error("Generator is already running");if(n===p){if("throw"===a)throw i;return{value:r,done:!0}}for(o.method=a,o.arg=i;;){var s=o.delegate;if(s){var l=E(s,o);if(l){if(l===S)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(n===b)throw n=p,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);n=h;var c=m(t,e,o);if("normal"===c.type){if(n=o.done?p:d,c.arg===S)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(n=p,o.method="throw",o.arg=c.arg)}}}function E(t,e){var o=e.method,n=t.iterator[o];if(n===r)return e.delegate=null,"throw"===o&&t.iterator.return&&(e.method="return",e.arg=r,E(t,e),"throw"===e.method)||"return"!==o&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+o+"' method")),S;var a=m(n,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,S;var i=a.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,S):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,S)}function I(r){var t={tryLoc:r[0]};1 in r&&(t.catchLoc=r[1]),2 in r&&(t.finallyLoc=r[2],t.afterLoc=r[3]),this.tryEntries.push(t)}function _(r){var t=r.completion||{};t.type="normal",delete t.arg,r.completion=t}function D(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(I,this),this.reset(!0)}function L(t){if(t||""===t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=r,e.done=!0,e};return a.next=a}}throw new TypeError(l(t)+" is not iterable")}return g.prototype=C,n(O,"constructor",{value:C,configurable:!0}),n(C,"constructor",{value:g,configurable:!0}),g.displayName=u(C,c,"GeneratorFunction"),t.isGeneratorFunction=function(r){var t="function"==typeof r&&r.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,C):(r.__proto__=C,u(r,c,"GeneratorFunction")),r.prototype=Object.create(O),r},t.awrap=function(r){return{__await:r}},N(T.prototype),u(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(r,e,o,n,a){void 0===a&&(a=Promise);var i=new T(y(r,e,o,n),a);return t.isGeneratorFunction(e)?i:i.next().then((function(r){return r.done?r.value:i.next()}))},N(O),u(O,c,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(r){var t=Object(r),e=[];for(var o in t)e.push(o);return e.reverse(),function r(){for(;e.length;){var o=e.pop();if(o in t)return r.value=o,r.done=!1,r}return r.done=!0,r}},t.values=L,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var r=this.tryEntries[0].completion;if("throw"===r.type)throw r.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(o,n){return s.type="throw",s.arg=t,e.next=o,n&&(e.method="next",e.arg=r),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(r,t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===r||"continue"===r)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=r,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,S):this.complete(i)},complete:function(r,t){if("throw"===r.type)throw r.arg;return"break"===r.type||"continue"===r.type?this.next=r.arg:"return"===r.type?(this.rval=this.arg=r.arg,this.method="return",this.next="end"):"normal"===r.type&&t&&(this.next=t),S},finish:function(r){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.finallyLoc===r)return this.complete(e.completion,e.afterLoc),_(e),S}},catch:function(r){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.tryLoc===r){var o=e.completion;if("throw"===o.type){var n=o.arg;_(e)}return n}}throw Error("illegal catch attempt")},delegateYield:function(t,e,o){return this.delegate={iterator:L(t),resultName:e,nextLoc:o},"next"===this.method&&(this.arg=r),S}},t}function m(r,t,e,o,n,a,i){try{var s=r[a](i),l=s.value}catch(r){return void e(r)}s.done?t(l):Promise.resolve(l).then(o,n)}function b(r,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,h(o.key),o)}}function d(r,t,e){return(t=h(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function h(r){var t=function(r,t){if("object"!=l(r)||!r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var o=e.call(r,t||"default");if("object"!=l(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(r)}(r,"string");return"symbol"==l(t)?t:t+""}var p=function(){return r=function r(){!function(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),d(this,"getProducts",(function(r){return new Promise((function(t,e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_KINGUIN_PRODUCTS",data:{appId:r}},function(){var r,o=(r=f().mark((function r(o){return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o.success?t(o.data):e();case 1:case"end":return r.stop()}}),r)})),function(){var t=this,e=arguments;return new Promise((function(o,n){var a=r.apply(t,e);function i(r){m(a,o,n,i,s,"next",r)}function s(r){m(a,o,n,i,s,"throw",r)}i(void 0)}))});return function(r){return o.apply(this,arguments)}}())}))})),d(this,"prepareArray",(function(t,e){var o=steamCurrency?steamCurrency.eCurrencyCode:1;return t.sort((function(r,t){return r.price-t.price})).map((function(t){var n={},a=new RegExp("".concat(e,"\\s*:?\\s*(\\S+.*?)\\s+Steam CD Key"),"i"),i=t.name.match(a);i&&i[1]&&"Steam"!==i[1]&&(n.region=i[1].trim());var l=s.getPriceFromCurrency(t.price,o,3);return n.priceText=l.text,n.price=l.price,n.link="https://www.kinguin.net/category/".concat(t.kinguinId,"/?r=").concat(r.referalCode),n.regionId=t.regionId,n}))})),d(this,"findItemByRegion",(function(t,e){var o=t.filter((function(t){if(3===t.regionId||10===t.regionId)return!0;if(t.region){if(t.region.includes(e))return!0;var o,n=function(r,t){var e="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!e){if(Array.isArray(r)||(e=u(r))||t&&r&&"number"==typeof r.length){e&&(r=e);var o=0,n=function(){};return{s:n,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(r){throw r},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){e=e.call(r)},n:function(){var r=e.next();return i=r.done,r},e:function(r){s=!0,a=r},f:function(){try{i||null==e.return||e.return()}finally{if(s)throw a}}}}(r.REGIONS_MAP);try{for(n.s();!(o=n.n()).done;){var a=c(o.value,2),i=a[0],s=a[1];if(t.region.includes(i)&&s.includes(e))return!0}}catch(r){n.e(r)}finally{n.f()}}}));return r.findLowestPriceItem(o.length?o:t)})),d(this,"filterBySteamPrice",(function(t){var e=r.getSteamPrice();return e?t.filter((function(r){return r.price<=e})):t}))},e=[{key:"getSteamPrice",value:function(){var r=$J("[data-price-final]").first();return r?r.data("price-final")/100:null}}],(t=null)&&b(r.prototype,t),e&&b(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,t,e}();d(p,"referalCode","6645e9bcdc205"),d(p,"REGIONS_MAP",new Map([["LATAM",["BR","BZ","SV","GT","HN","NI","PA","AR","BO","EC","GY","PY","SR","VE"]],["MENA",["BH","EG","IQ","JO","LB","OM","PS","TR","YE","DZ","LY","MA","TN","SD"]],["EU",["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","LV","LT","EE"]],["CIS",["RU","AM","AZ","BY","GE","KG","MD","TJ","TM","UZ","UA","KZ"]],["RU VPN",["RU","AM","AZ","BY","GE","KG","MD","TJ","TM","UZ","UA","KZ"]],["NA",["CA","US"]],["EMEA",["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","LV","LT","EE","BH","EG","IQ","JO","LB","OM","PS","TR","YE","DZ","LY","MA","TN","SD"]]])),d(p,"findLowestPriceItem",(function(r){return r.reduce((function(r,t){return t.price<r.price?t:r}),r[0])}));const S=new p;var v=function(r,t){return new Promise((function(e,o){var n=r.find((function(r){return r.originalName}));n?e(n.originalName):$J.ajax({method:"GET",url:"https://store.steampowered.com/api/appdetails?appids=".concat(t),success:function(r){r[t]&&r[t].success?e(r[t].data.name):o()},error:function(){o()}})}))};function g(r){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},g(r)}function C(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */C=function(){return t};var r,t={},e=Object.prototype,o=e.hasOwnProperty,n=Object.defineProperty||function(r,t,e){r[t]=e.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(r,t,e){return Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}),r[t]}try{c({},"")}catch(r){c=function(r,t,e){return r[t]=e}}function u(r,t,e,o){var a=t&&t.prototype instanceof p?t:p,i=Object.create(a.prototype),s=new D(o||[]);return n(i,"_invoke",{value:A(r,e,s)}),i}function y(r,t,e){try{return{type:"normal",arg:r.call(t,e)}}catch(r){return{type:"throw",arg:r}}}t.wrap=u;var f="suspendedStart",m="suspendedYield",b="executing",d="completed",h={};function p(){}function S(){}function v(){}var w={};c(w,i,(function(){return this}));var P=Object.getPrototypeOf,x=P&&P(P(L([])));x&&x!==e&&o.call(x,i)&&(w=x);var O=v.prototype=p.prototype=Object.create(w);function N(r){["next","throw","return"].forEach((function(t){c(r,t,(function(r){return this._invoke(t,r)}))}))}function T(r,t){function e(n,a,i,s){var l=y(r[n],r,a);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==g(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(r){e("next",r,i,s)}),(function(r){e("throw",r,i,s)})):t.resolve(u).then((function(r){c.value=r,i(c)}),(function(r){return e("throw",r,i,s)}))}s(l.arg)}var a;n(this,"_invoke",{value:function(r,o){function n(){return new t((function(t,n){e(r,o,t,n)}))}return a=a?a.then(n,n):n()}})}function A(t,e,o){var n=f;return function(a,i){if(n===b)throw Error("Generator is already running");if(n===d){if("throw"===a)throw i;return{value:r,done:!0}}for(o.method=a,o.arg=i;;){var s=o.delegate;if(s){var l=E(s,o);if(l){if(l===h)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(n===f)throw n=d,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);n=b;var c=y(t,e,o);if("normal"===c.type){if(n=o.done?d:m,c.arg===h)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(n=d,o.method="throw",o.arg=c.arg)}}}function E(t,e){var o=e.method,n=t.iterator[o];if(n===r)return e.delegate=null,"throw"===o&&t.iterator.return&&(e.method="return",e.arg=r,E(t,e),"throw"===e.method)||"return"!==o&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+o+"' method")),h;var a=y(n,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,h;var i=a.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function I(r){var t={tryLoc:r[0]};1 in r&&(t.catchLoc=r[1]),2 in r&&(t.finallyLoc=r[2],t.afterLoc=r[3]),this.tryEntries.push(t)}function _(r){var t=r.completion||{};t.type="normal",delete t.arg,r.completion=t}function D(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(I,this),this.reset(!0)}function L(t){if(t||""===t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=r,e.done=!0,e};return a.next=a}}throw new TypeError(g(t)+" is not iterable")}return S.prototype=v,n(O,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:S,configurable:!0}),S.displayName=c(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(r){var t="function"==typeof r&&r.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,v):(r.__proto__=v,c(r,l,"GeneratorFunction")),r.prototype=Object.create(O),r},t.awrap=function(r){return{__await:r}},N(T.prototype),c(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(r,e,o,n,a){void 0===a&&(a=Promise);var i=new T(u(r,e,o,n),a);return t.isGeneratorFunction(e)?i:i.next().then((function(r){return r.done?r.value:i.next()}))},N(O),c(O,l,"Generator"),c(O,i,(function(){return this})),c(O,"toString",(function(){return"[object Generator]"})),t.keys=function(r){var t=Object(r),e=[];for(var o in t)e.push(o);return e.reverse(),function r(){for(;e.length;){var o=e.pop();if(o in t)return r.value=o,r.done=!1,r}return r.done=!0,r}},t.values=L,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var r=this.tryEntries[0].completion;if("throw"===r.type)throw r.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(o,n){return s.type="throw",s.arg=t,e.next=o,n&&(e.method="next",e.arg=r),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(r,t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===r||"continue"===r)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=r,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(r,t){if("throw"===r.type)throw r.arg;return"break"===r.type||"continue"===r.type?this.next=r.arg:"return"===r.type?(this.rval=this.arg=r.arg,this.method="return",this.next="end"):"normal"===r.type&&t&&(this.next=t),h},finish:function(r){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.finallyLoc===r)return this.complete(e.completion,e.afterLoc),_(e),h}},catch:function(r){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.tryLoc===r){var o=e.completion;if("throw"===o.type){var n=o.arg;_(e)}return n}}throw Error("illegal catch attempt")},delegateYield:function(t,e,o){return this.delegate={iterator:L(t),resultName:e,nextLoc:o},"next"===this.method&&(this.arg=r),h}},t}function w(r,t,e,o,n,a,i){try{var s=r[a](i),l=s.value}catch(r){return void e(r)}s.done?t(l):Promise.resolve(l).then(o,n)}function P(){x(),O()}var x=function(){var r="opened_from_banner";chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_LOCAL_STORAGE",data:{key:r}},(function(t){if(t&&t[r]){var e=$J("#add_to_wishlist_area"),o=$J("#queueBtnFollow .queue_btn_inactive");e.is(":visible")&&e.find(".add_to_wishlist")[0].click(),o.is(":visible")&&o[0].click(),chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_LOCAL_STORAGE",data:{key:r,value:false}},(function(){}))}}))},O=function(){var r,t=(r=C().mark((function r(){var t,e,o,n,a,i,s,l;return C().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=window.location.href.match(/\/app\/(\d+)\//)[1],r.next=3,S.getProducts(t);case 3:if(e=r.sent,(o=e.filter((function(r){return r.name.includes("Steam CD Key")}))).length){r.next=7;break}return r.abrupt("return");case 7:return r.next=9,v(o,t);case 9:return n=r.sent,r.next=12,new Promise((function(r,t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_CURRENT_USER_COUNTRY_CODE"},(function(e){e.success?r(e.country):t()}))}));case 12:if(a=r.sent,i=S.prepareArray(o,n),(s=S.filterBySteamPrice(i)).length){r.next=17;break}return r.abrupt("return");case 17:l=S.findItemByRegion(s,a),N(l.priceText,l.link),T(s),A();case 21:case"end":return r.stop()}}),r)})),function(){var t=this,e=arguments;return new Promise((function(o,n){var a=r.apply(t,e);function i(r){w(a,o,n,i,s,"next",r)}function s(r){w(a,o,n,i,s,"throw",r)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),N=function(r,t){var e=$J('\n    <div class="external-store">\n      <div class="top-panel">\n        <div class="top-panel__sih-bg"></div>\n        <div class="top-panel__market-logo top-panel__market-logo_kinguin"></div>\n        <div class="top-panel__store-content store-content">\n          <div class="store-content__price">'.concat(r,'</div>\n          <div class="store-content__button-wrapper">\n            <a class="store-content__button" href="').concat(t,'" target="_blank">').concat(SIHLang.buy,'</a>\n            <div class="store-content__tooltip-btn">?</div>\n            <div class="store-content__fake-tooltip" title="').concat(SIHLang.externalStoreTooltip,'"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  '));$J(".game_area_purchase_game_wrapper").first().after(e)},T=function(r){var t=$J('<div class="bottom-panel"></div>');r.forEach((function(r){var e=$J('\n      <a class="bottom-panel__item" href="'.concat(r.link,'" target="_blank">\n        <span>').concat(r.region||"","</span>\n        <span>Key</span>\n        <span>").concat(r.priceText,"</span>\n      </a>\n    "));t.append(e)})),$J(".external-store").append(t)},A=function(){var r=$J(".store-content__fake-tooltip"),t=$J(".store-content__tooltip-btn");r.tooltip({position:{of:".store-content__tooltip-btn",my:"center bottom",at:"center top"},tooltipClass:"collaboration_tooltip"}),t.click((function(){r.tooltip("open")})),t.on("mouseleave",(function(t){$J(".collaboration_tooltip:hover").length||(r.tooltip(),r.tooltip("close"))})),$J("body").on("mouseleave",".collaboration_tooltip",(function(t){r.tooltip(),r.tooltip("close")}))};SIH=t})();