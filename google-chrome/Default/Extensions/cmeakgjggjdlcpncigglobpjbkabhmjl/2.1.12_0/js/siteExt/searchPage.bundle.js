var SIH;(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{searchPage:()=>n});var n={};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function a(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var a=n.call(t,e||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(){var t,e;!function(){var t=i();if($J(".page_content").append('\n    <div class="row">\n      <a href="https://store.steampowered.com/cart/" class="sih-cart__button sih-cart__button_green cart-counter"\n        >'.concat(SIHLang.cart.add_to_cart,' <span class="number">').concat(t.length,'</span></a\n      >\n      <a href="javascript:void(0)" class="sih-cart__button sih-cart__button_red clear-cart_button"\n        >').concat(SIHLang.cart.clear_all,"\n      </a>\n    </div>\n  ")),window.outerWidth>1440){var e=Number($J(".page_content").css("margin-left").replace(/px/g,"").trim())+Number($J(".page_content").css("width").replace(/px/g,"").trim());$J(".page_content").find(".row").css("left",e+20)}}(),t=$J(".responsive_page_frame").find(".clear-cart_button"),$J(t).click((function(){var t=i();t.length=0,o(t),window.location.reload()})),e=i(),$J(".responsive_search_name_combined").each((function(t,n){var r=$J(n).find(".discount_final_price").text(),c=new RegExp("[0-9]");if(r.match(c)){var i=$J(n).parent(),d=i.attr("data-ds-appid");$J(n).children().hasClass("sih-cart")||i.find(".ds_incart_flag").length||($J('\n          <a href="javascript:void(0)" class="sih-cart">\n            <div class="sih-cart__checkbox"></div>\n          </a>\n        ').appendTo(n),e.forEach((function(t){for(var e in t)e===d&&$J(n).find(".sih-cart").children(".sih-cart__checkbox").addClass("checked")})),$J(n).find(".sih-cart").click($J.debounce(300,(function(){$J(this).children(".sih-cart__checkbox").toggleClass("checked");var t=$J(n).parent().attr("href");$J.ajax({method:"GET",url:t}).done((function(t){var n=0;$J(t).find(".game_purchase_action").each((function(t,r){$J(r).find(".btn_addtocart").each((function(t,r){var c=$J(r).children("a").attr("href");if(c.includes("javascript:addToCart")&&0===n){var i=c.match(/[0-9]+/g);if(e){var f=e.findIndex((function(t){return t[d]===i[0]}));-1===f?(e.push(a({},d,i[0])),o(e),s()):(e.splice(f,1),o(e),s())}n++}}))}))}))}))))}})),Ajax.Responders.register({onComplete:function(){$J(".responsive_search_name_combined").each((function(t,n){var r=$J(n).find(".discount_final_price").text(),c=new RegExp("[0-9]");if(r.match(c)){var i=$J(n).parent(),d=i.attr("data-ds-appid");$J(n).children().hasClass("sih-cart")||i.find(".ds_incart_flag").length||($J('\n              <a href="javascript:void(0)" class="sih-cart">\n                <div class="sih-cart__checkbox"></div>\n              </a>\n            ').appendTo(n),e.forEach((function(t){for(var e in t)e===d&&$J(n).find(".sih-cart").children(".sih-cart__checkbox").addClass("checked")})),$J(n).find(".sih-cart").click($J.debounce(300,(function(){$J(this).children(".sih-cart__checkbox").toggleClass("checked");var t=$J(n).parent().attr("href");$J.ajax({method:"GET",url:t}).done((function(t){var n=0;$J(t).find(".game_purchase_action").each((function(t,r){$J(r).find(".btn_addtocart").each((function(t,r){var c=$J(r).children("a").attr("href");if(c.includes("javascript:addToCart")&&0===n){var i=c.match(/[0-9]+/g);if(e){var f=e.findIndex((function(t){return t[d]===i[0]}));-1===f?(e.push(a({},d,i[0])),o(e),s()):(e.splice(f,1),o(e),s())}n++}}))}))}))}))))}}))}})}function i(){var t=localStorage.getItem("SIH_CART")||"[]";return JSON.parse(t)}function o(t){var e=JSON.stringify(t);localStorage.setItem("SIH_CART",e)}function s(){var t=i(),e=$J(".responsive_page_frame").find(".cart-counter"),n=t.length.toString();$J(e).children(".number").text(n)}t.r(n),t.d(n,{load:()=>c}),SIH=e})();